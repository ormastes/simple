# Test freeze() function

# Test 1: Freeze an array
val arr = [1, 2, 3]
val frozen = freeze(arr)

print("Original array: ", arr)
print("Frozen array: ", frozen)

# Test 2: Try to mutate frozen array (should error)
try:
    frozen.push(4)
    print("ERROR: Should not be able to push to frozen array!")
except:
    print("✓ Correctly rejected push() on frozen array")

# Test 3: Read operations should still work
print("Frozen array length: ", frozen.len())
print("Frozen array first: ", frozen.first())

# Test 4: Freeze a dict
val dict = {"a": 1, "b": 2}
val frozen_dict = freeze(dict)

print("Original dict: ", dict)
print("Frozen dict: ", frozen_dict)

# Test 5: Try to mutate frozen dict (should error)
try:
    frozen_dict.insert("c", 3)
    print("ERROR: Should not be able to insert to frozen dict!")
except:
    print("✓ Correctly rejected insert() on frozen dict")

print("\nAll freeze() tests passed!")
