# JSON - JSON parsing and serialization
# Simple JSON support for data interchange

# JSON value type
pub enum JsonValue:
    Null
    Bool(Bool)
    Number(Float)
    String(String)
    Array(List<JsonValue>)
    Object(Dict<String, JsonValue>)

# Parse JSON string into a value
pub fn parse(input: String) -> Result<JsonValue, String>:
    # TODO: Implement actual JSON parsing
    # For now, return an empty object
    Ok(JsonValue.Object({}))

# Serialize JSON value to string
pub fn stringify(value: JsonValue) -> Result<String, String>:
    # TODO: Implement actual JSON stringification
    # For now, return empty object JSON
    Ok("{{}}")

# Parse JSON string into a Dict (convenience function)
pub fn parse_object(input: String) -> Result<Dict<String, JsonValue>, String>:
    match parse(input):
        case Ok(JsonValue.Object(obj)):
            Ok(obj)
        case Ok(_):
            Err("JSON value is not an object")
        case Err(e):
            Err(e)
