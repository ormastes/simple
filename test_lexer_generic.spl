use core.lexer_struct.{make_core_lexer}
use core.tokens.{tok_kind_name, TOK_EOF}

val source = "class Box<T>:"
var lex = make_core_lexer(source)

for i in 0..20:
    val kind = lex.next_token()
    val text = lex.token_text()
    val kind_name = tok_kind_name(kind)
    print "{i}: {kind_name} '{text}'"
    if kind == TOK_EOF:
        break
