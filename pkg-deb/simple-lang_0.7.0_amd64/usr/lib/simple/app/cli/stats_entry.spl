# Lightweight stats entry point for `simple stats`
#
# Loads only what's needed for stats, skipping the full CLI stack
# (build system, type checker, leak checker, etc.).

use app.io.mod (cli_get_args)
use app.stats.dynamic (run_stats)

fn main() -> i64:
    val raw_args = cli_get_args()

    # raw_args: [binary_path, script_path, "stats", ...flags...]
    # Skip binary (args[0]) and script path (args[1])
    var stats_args = []
    var start = 2
    var i = start
    while i < raw_args.len():
        stats_args = stats_args.push(raw_args[i])
        i = i + 1

    run_stats(stats_args)
    0
