class Logger:
    """Simple logger.

    Log levels:
      1 = Error, 2 = Warn, 4 = Info, 10 = Debug, 20 = Trace

    Controlled by SIMPLE_LOG env var:
      SIMPLE_LOG=debug  -> level 10
      SIMPLE_LOG=trace  -> level 20
      SIMPLE_LOG=info   -> level 4
      SIMPLE_LOG=warn   -> level 2
      SIMPLE_LOG=error  -> level 1
      (unset)           -> level 0 (silent)
    """
    level: i64

    static fn from_env() -> Logger:
        """Create logger with level from SIMPLE_LOG env var."""
        val env_val = env_get("SIMPLE_LOG")
        val level = if has_env_val:
            match env_val_value:
                case "trace": 20
                case "debug": 10
                case "info": 4
                case "warn": 2
                case "error": 1
                case _: 0
        else:
            0
        Logger(level: level)

    fn log(level: i64, prefix: text, message: text):
        if level <= self.level:
            print "[{prefix}] {message}"

    fn trace(message: text):
        self.log(20, "TRACE", message)

fn main() -> i32: 0
