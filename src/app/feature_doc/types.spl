# Feature Documentation Generator - Shared Types
#
# Types used by parser, usage_docgen, and app_docgen modules.

# Metadata extracted from spec file docstrings
struct FeatureFileMeta:
    feature_ids: text
    category: text
    status: text

    static fn empty() -> FeatureFileMeta:
        FeatureFileMeta(feature_ids: "", category: "", status: "")

# A single `it` block with its name and expect lines
struct ItBlock:
    name: text
    expects: [text]

# A `context` block with its name, docstring, and it blocks
struct ContextBlock:
    name: text
    doc: text
    its: [ItBlock]

# A `describe` block with its name, docstring, and context blocks
struct DescribeBlock:
    name: text
    doc: text
    contexts: [ContextBlock]

# Parsed feature file info
struct FeatureFileInfo:
    file_path: text
    title: text
    metadata: FeatureFileMeta
    doc_blocks: [text]
    describes: [DescribeBlock]
    test_type: text

export FeatureFileMeta, ItBlock, ContextBlock, DescribeBlock, FeatureFileInfo
