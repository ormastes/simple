# Test Runner Host Module
#
# Host-side test runner for receiving and displaying embedded test results.
#
# Submodules:
#   - loader: Binary loader (QEMU, OpenOCD, J-Link, Serial)
#   - transport: Communication transport (stdio, serial, TCP, file)
#   - parser: Protocol message parser

# =========================================================================
# Quick Reference
# =========================================================================
#
# Loader (from loader.spl):
#   LoaderConfig - Loader configuration
#   LoaderConfig_qemu(binary, arch) - Create QEMU config
#   Loader_create(config) - Create loader
#   loader.start() - Start target
#   loader.stop() - Stop target
#   loader.wait(timeout) - Wait for exit
#
# Transport (from transport.spl):
#   TransportConfig - Transport configuration
#   Transport_stdio() - Create stdio transport
#   Transport_serial(port, baudrate) - Create serial transport
#   transport.connect() - Open transport
#   transport.disconnect() - Close transport
#   transport.read() - Read available data
#
# Parser (from parser.spl):
#   HostParser - Protocol parser with results
#   HostParser_create() - Create parser
#   HostParser_verbose() - Create verbose parser
#   parser.feed(data) - Feed bytes to parser
#   parser.get_results() - Get test results
#   parser.is_success() - Check if all passed

# =========================================================================
# Example Usage
# =========================================================================
#
# # Create loader for QEMU
# val config = LoaderConfig_qemu("test.elf", "x86")
# var loader = Loader_create(config)
#
# # Start target
# val result = loader.start()
# if not result.success:
#     print "Failed to start: {result.error_message}"
#     return
#
# # Create transport and parser
# var transport = Transport_stdio()
# transport.connect()
# var parser = HostParser_verbose()
#
# # Read and parse output
# while loader.is_running():
#     val data = transport.read()
#     parser.feed(data)
#
# # Wait for exit
# val exit_code = loader.wait(30000)
#
# # Print results
# if parser.is_success():
#     print "All tests passed"
# else:
#     print "Some tests failed"
#
# loader.stop()
