use app.io.mod (file_read, get_args, exit, shell, cwd)
use app.mcp.resources
use app.mcp.prompts
use app.mcp.bugdb_resource

struct ShellResult:
    exit_code: Int
    stdout: String?
    stderr: String?

fn LB() -> String:
    123 as char

fn RB() -> String:
    125 as char

fn Q() -> String:
    34 as char

fn unwrap_idx(opt: Option<Int>) -> Int:
    match opt:
        case Some(i):
            return i
        case None:
            return -1

fn jp(key: String, val_str: String) -> String:
    var r = Q()
    r = r + key + Q() + ":" + val_str
    r

fn jo1(pair: String) -> String:
    LB() + pair + RB()

fn get_current_dir() -> text:
    cwd()

fn main():
    val args = get_args()
    if args.len() < 2:
        print "Usage: simple mcp server"
        exit(1)
    print "OK"
    exit(0)

main()
