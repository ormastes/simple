# Conversion Module - Intern FFI Spec
#
# Declares type conversion extern functions.
#
# Usage: simple ffi-gen --gen-intern src/app/ffi_gen/specs/conversion.spl

use app.ffi_gen.intern_codegen (InternFnSpec, InternParamSpec)

fn conversion_specs() -> [InternFnSpec]:
    var specs: [InternFnSpec] = []

    specs.push(InternFnSpec(
        name: "to_string", category: "conversion",
        params: [InternParamSpec(name: "value", value_type: "Value")],
        return_type: "String", runtime_fn: "",
        doc: "Convert any value to string representation"
    ))

    specs.push(InternFnSpec(
        name: "to_int", category: "conversion",
        params: [InternParamSpec(name: "value", value_type: "Value")],
        return_type: "i64", runtime_fn: "",
        doc: "Convert to integer (from int, float, string, bool)"
    ))

    specs.push(InternFnSpec(
        name: "to_float", category: "conversion",
        params: [InternParamSpec(name: "value", value_type: "Value")],
        return_type: "f64", runtime_fn: "",
        doc: "Convert to float (from float, int, string, bool)"
    ))

    specs.push(InternFnSpec(
        name: "to_bool", category: "conversion",
        params: [InternParamSpec(name: "value", value_type: "Value")],
        return_type: "bool", runtime_fn: "",
        doc: "Convert to bool (truthiness check)"
    ))

    specs.push(InternFnSpec(
        name: "type", category: "conversion",
        params: [InternParamSpec(name: "value", value_type: "Value")],
        return_type: "String", runtime_fn: "",
        doc: "Get the type name of a value"
    ))

    specs.push(InternFnSpec(
        name: "is_int", category: "conversion",
        params: [InternParamSpec(name: "value", value_type: "Value")],
        return_type: "bool", runtime_fn: "",
        doc: "Check if value is an integer"
    ))

    specs.push(InternFnSpec(
        name: "is_float", category: "conversion",
        params: [InternParamSpec(name: "value", value_type: "Value")],
        return_type: "bool", runtime_fn: "",
        doc: "Check if value is a float"
    ))

    specs.push(InternFnSpec(
        name: "is_string", category: "conversion",
        params: [InternParamSpec(name: "value", value_type: "Value")],
        return_type: "bool", runtime_fn: "",
        doc: "Check if value is a string"
    ))

    specs.push(InternFnSpec(
        name: "is_bool", category: "conversion",
        params: [InternParamSpec(name: "value", value_type: "Value")],
        return_type: "bool", runtime_fn: "",
        doc: "Check if value is a boolean"
    ))

    specs.push(InternFnSpec(
        name: "is_nil", category: "conversion",
        params: [InternParamSpec(name: "value", value_type: "Value")],
        return_type: "bool", runtime_fn: "",
        doc: "Check if value is nil"
    ))

    specs.push(InternFnSpec(
        name: "is_array", category: "conversion",
        params: [InternParamSpec(name: "value", value_type: "Value")],
        return_type: "bool", runtime_fn: "",
        doc: "Check if value is an array"
    ))

    specs.push(InternFnSpec(
        name: "is_dict", category: "conversion",
        params: [InternParamSpec(name: "value", value_type: "Value")],
        return_type: "bool", runtime_fn: "",
        doc: "Check if value is a dict"
    ))

    specs
