# Time Full Module - FFI Spec
#
# Complete time operations for the Simple runtime.
# Generates build/rust/ffi_gen/src/time.rs
#
# Usage: simple ffi-gen --gen-intern src/app/ffi_gen/specs/time_full.spl

use app.ffi_gen.intern_codegen (InternFnSpec, InternParamSpec)

fn time_full_specs() -> [InternFnSpec]:
    var specs: [InternFnSpec] = []

    # =========================================================================
    # Current Time
    # =========================================================================

    specs.push(InternFnSpec(
        name: "rt_time_now_unix_micros", category: "time",
        params: [],
        return_type: "i64", runtime_fn: "rt_time_now_unix_micros",
        doc: "Get current Unix timestamp in microseconds"
    ))

    specs.push(InternFnSpec(
        name: "_current_time_unix", category: "time",
        params: [],
        return_type: "i64", runtime_fn: "_current_time_unix",
        doc: "Get current Unix timestamp in seconds (internal)"
    ))

    specs.push(InternFnSpec(
        name: "rt_current_time_ms", category: "time",
        params: [],
        return_type: "i64", runtime_fn: "rt_current_time_ms",
        doc: "Get current Unix timestamp in milliseconds"
    ))

    # =========================================================================
    # Timestamp Components (from microseconds)
    # =========================================================================

    specs.push(InternFnSpec(
        name: "rt_timestamp_get_year", category: "time",
        params: [InternParamSpec(name: "micros", value_type: "i64")],
        return_type: "i32", runtime_fn: "rt_timestamp_get_year",
        doc: "Get year from unix microseconds"
    ))

    specs.push(InternFnSpec(
        name: "rt_timestamp_get_month", category: "time",
        params: [InternParamSpec(name: "micros", value_type: "i64")],
        return_type: "i32", runtime_fn: "rt_timestamp_get_month",
        doc: "Get month (1-12) from unix microseconds"
    ))

    specs.push(InternFnSpec(
        name: "rt_timestamp_get_day", category: "time",
        params: [InternParamSpec(name: "micros", value_type: "i64")],
        return_type: "i32", runtime_fn: "rt_timestamp_get_day",
        doc: "Get day (1-31) from unix microseconds"
    ))

    specs.push(InternFnSpec(
        name: "rt_timestamp_get_hour", category: "time",
        params: [InternParamSpec(name: "micros", value_type: "i64")],
        return_type: "i32", runtime_fn: "rt_timestamp_get_hour",
        doc: "Get hour (0-23) from unix microseconds"
    ))

    specs.push(InternFnSpec(
        name: "rt_timestamp_get_minute", category: "time",
        params: [InternParamSpec(name: "micros", value_type: "i64")],
        return_type: "i32", runtime_fn: "rt_timestamp_get_minute",
        doc: "Get minute (0-59) from unix microseconds"
    ))

    specs.push(InternFnSpec(
        name: "rt_timestamp_get_second", category: "time",
        params: [InternParamSpec(name: "micros", value_type: "i64")],
        return_type: "i32", runtime_fn: "rt_timestamp_get_second",
        doc: "Get second (0-59) from unix microseconds"
    ))

    specs
