# Simple CLI - watch command
# Delegates to Rust runtime via FFI

use app.cli_util (get_cli_args)
extern fn rt_cli_watch_file(path: str) -> i64

fn print_help():
    print "Usage: simple watch <file>"
    print "Watches file for changes and auto-recompiles"
    print ""
    print "Run 'simple watch --help' for Rust-level help."

fn main() -> i64:
    val args = get_cli_args()
    if args.len() == 0:
        print "Error: missing file path"
        print_help()
        return 1
    if args[0] == "--help" or args[0] == "-h":
        print_help()
        return 0
    rt_cli_watch_file(args[0])
