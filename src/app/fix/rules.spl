# EasyFix Shared Rules Module
#
# FACADE: This module has been refactored into focused submodules:
#   - rules/helpers.spl    — Shared helper functions (LineContext, byte offsets, Levenshtein)
#   - rules/impl.spl       — All 11 rule implementations
#   - rules/registry.spl   — Rule registration and dispatch
#
# This facade preserves the original API while delegating to the new modules.
# See individual modules for detailed implementation.
#
# Each rule: fn check_<rule>(source: String, file: String) -> [EasyFix]
#
# Rule IDs:
#   L:print_in_test_spec         — Replace print() with expect() in test specs
#   L:unnamed_duplicate_typed_args — Add distinct param names for duplicate types
#   L:resource_leak              — Wrap resource in `with` block
#   L:sspec_missing_docstrings   — Add template docstring to describe/context
#   L:sspec_manual_assertions    — Replace manual if/fail with expect()
#   L:non_exhaustive_match       — Add missing match arms with todo()
#   E:typo_suggestion            — Fix misspelled identifiers (Levenshtein)
#   E:parser_contextual_keyword  — Fix contextual keyword syntax
#   E:type_mismatch_coercion     — Insert type coercion (.to_string() etc.)
#   L:deprecated_if_let          — Replace `if let` with `if val`
#   L:struct_construction_parens — Replace ClassName(field: val) with ClassName { field: val }

# ============================================================================
# Module Organization
# ============================================================================

mod rules.helpers
mod rules.impl
mod rules.registry

# ============================================================================
# Public API (re-exported from submodules)
# ============================================================================

use std.tooling.easy_fix.*

# Re-export from helpers
pub use rules.helpers.LineContext
pub use rules.helpers.for_each_line
pub use rules.helpers.byte_offset_of
pub use rules.helpers.line_start_offset
pub use rules.helpers.line_end_offset
pub use rules.helpers.levenshtein

# Re-export from impl (all 11 rules)
pub use rules.impl.check_print_in_test_spec
pub use rules.impl.check_unnamed_duplicate_typed_args
pub use rules.impl.check_resource_leak
pub use rules.impl.check_sspec_missing_docstrings
pub use rules.impl.check_sspec_manual_assertions
pub use rules.impl.check_non_exhaustive_match
pub use rules.impl.check_typo_suggestion
pub use rules.impl.suggest_typo_fix
pub use rules.impl.check_parser_contextual_keyword
pub use rules.impl.check_type_mismatch_coercion
pub use rules.impl.suggest_type_coercion_fix
pub use rules.impl.check_deprecated_if_let
pub use rules.impl.check_struct_construction_parens

# Re-export from registry
pub use rules.registry.check_all_rules
