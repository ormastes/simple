# Builtin Data Block Definitions
#
# Data-format block types:
# - SQL blocks (sql{...}): SQL query parsing
# - Regex blocks (re{...}): Regular expression patterns
# - JSON blocks (json{...}): JSON parsing

use blocks.{BlockDefinition, BlockValue, BlockRegistry}
use blocks.modes.{PreLexInfo, BlockSkipPolicy, BlockOutlineInfo, BlockToken, BlockTokenKind, TextSpan}
use blocks.context.{BlockContext, BlockError}
use compiler.hir.HirType
use value.ConstValue

# ============================================================================
# SQL Block (sql{})
# ============================================================================

struct SqlBlockDef(BlockDefinition):
    r"""SQL query block: write SQL queries.

    Features:
    - Raw text capture
    - SQL syntax highlighting
    - Parameter placeholders ($1, :name)
    - Query validation

    Example:
        val users = sql{ SELECT * FROM users WHERE age > 18 }
        val result = sql{ INSERT INTO logs (msg) VALUES ($1) }
    """


# ============================================================================
# SqlBlockDef Methods (was: impl SqlBlockDef:)
# ============================================================================

# ============================================================================
# Regex Block (re{})
# ============================================================================

struct RegexBlockDef(BlockDefinition):
    r"""Regular expression block: compile regex patterns.

    Features:
    - Raw text capture
    - Compile-time regex validation
    - Regex syntax highlighting

    Example:
        val pattern = re{ ^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$ }
        val ip = re{ \d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3} }
    """


# ============================================================================
# RegexBlockDef Methods (was: impl RegexBlockDef:)
# ============================================================================

# ============================================================================
# JSON Block (json{})
# ============================================================================

struct JsonBlockDef(BlockDefinition):
    r"""JSON literal block: embed JSON data.

    Features:
    - Raw text capture
    - JSON syntax validation
    - Parsed to native Simple values

    Example:
        val config = json{
            "name": "myapp",
            "version": "1.0.0",
            "features": ["logging", "metrics"]
        }
    """


# ============================================================================
# JsonBlockDef Methods (was: impl JsonBlockDef:)
# ============================================================================

export SqlBlockDef, RegexBlockDef, JsonBlockDef
