enum Effect:
    Sync
    Async

impl Effect:
    fn is_sync() -> bool:
        match self:
            case Effect.Sync: true
            case Effect.Async: false


# ============================================================================
# Effect Methods (was: impl Effect:)
# ============================================================================

fn effect_combine_all(effects: [Effect]) -> Effect:
        var result = Effect.Sync
        for eff in effects:
            if eff_is_async(eff):
                result = Effect.Async
        result


fn main():
    val effects = [Effect.Sync, Effect.Async, Effect.Sync]
    val combined = effect_combine_all(effects)

    if combined_is_async(combined):
        print "Combined is async!"
    else:
        print "Combined is sync!"
