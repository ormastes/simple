# AOP Proceed Enforcement - Minimal Version
#
# Simplified version that works within Simple's current limitations

export ProceedError, ProceedContext
export create_proceed_context_minimal

# ============================================================================
# Error Types
# ============================================================================

enum ProceedError:
    NeverCalled(advice_name: text)
    CalledMultipleTimes(advice_name: text, count: i64)


# ============================================================================
# ProceedError Methods (was: impl ProceedError:)
# ============================================================================

# ============================================================================
# Proceed Context - Simplified
# ============================================================================

class ProceedContext:
    advice_name: text
    proceed_count: i64
    has_error: bool


# ============================================================================
# ProceedContext Methods (was: impl ProceedContext:)
# ============================================================================

# ============================================================================
# Factory Function
# ============================================================================

fn create_proceed_context_minimal(advice_name: text) -> ProceedContext:
    ProceedContext(
        advice_name: advice_name,
        proceed_count: 0
    )
