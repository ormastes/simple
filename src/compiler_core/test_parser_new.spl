use core.parser.*
use core.lexer.*
use compiler.blocks.*
use compiler.treesitter.*
use std.text.{NL}

print "Test: Parser.new()..."
val src = "fn main() -> i64:{NL}    0{NL}"
var parser = parser_new(src)
print "  Created parser"
val ast = parser_parse(parser)
print "  Module: {ast.name}"
print "  Functions: {ast.functions.keys()}"
print "=== SUCCESS ==="
