# Deferred Type Hints for Link-Time Inference
#
# When the compiler encounters a generic that can't be fully resolved
# at compile-time, it emits a DeferredHint. The loader and linker
# use these hints to instantiate generics at load/link time.

use compiler.inference.types.*
use compiler.inference.infer (DeferredHint)

# ============================================================================
# Deferred Hint Store
# ============================================================================

class DeferredStore:
    """Stores deferred hints from multiple modules for link-time resolution."""
    hints: [DeferredHint]
    resolved: Dict<i64, Type>


# ============================================================================
# DeferredStore Methods (was: impl DeferredStore:)
# ============================================================================

fn deferredstore_empty() -> DeferredStore:
        DeferredStore(hints: [], resolved: {})


export DeferredStore
