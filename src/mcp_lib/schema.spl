# MCP Library - Pre-computed Tool Schemas
#
# Pre-computed JSON schemas for all MCP tools.
# Avoids runtime schema generation overhead.

# Pre-computed schemas as constant string
# NOTE: This avoids module-level var access issues in runtime
val ALL_TOOL_SCHEMAS_JSON = """[{"name":"read_code","description":"Read a Simple language source file","inputSchema":{"type":"object","properties":{"path":{"type":"string","description":"File path"}},"required":["path"]}},{"name":"list_files","description":"List Simple language files in a directory","inputSchema":{"type":"object","properties":{"path":{"type":"string","description":"Directory path"}},"required":[]}},{"name":"search_code","description":"Search for code patterns","inputSchema":{"type":"object","properties":{"query":{"type":"string","description":"Search query"}},"required":["query"]}},{"name":"file_info","description":"Get file information","inputSchema":{"type":"object","properties":{"path":{"type":"string","description":"File path"}},"required":["path"]}},{"name":"bugdb_get","description":"Get bug by ID","inputSchema":{"type":"object","properties":{"id":{"type":"string","description":"Bug ID"}},"required":["id"]}},{"name":"bugdb_add","description":"Add new bug","inputSchema":{"type":"object","properties":{"bug":{"type":"string","description":"Bug JSON"}},"required":["bug"]}},{"name":"bugdb_update","description":"Update existing bug","inputSchema":{"type":"object","properties":{"id":{"type":"string","description":"Bug ID"}},"required":["id"]}},{"name":"debug_create_session","description":"Create debug session","inputSchema":{"type":"object","properties":{},"required":[]}}]"""

# No-op init for API compatibility
fn init_core_schemas():
    ()  # No-op - schemas are pre-computed constants

# Get all tool schemas as JSON array (pre-computed)
fn get_all_tool_schemas() -> text:
    ALL_TOOL_SCHEMAS_JSON

# Get tool count
fn get_tool_count() -> i64:
    8  # Pre-computed count

# Export
export init_core_schemas, get_all_tool_schemas, get_tool_count
