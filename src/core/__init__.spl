# Core Simple Language Module
#
# Provides fundamental language types, parsing, and AOP infrastructure.
# This is the foundation for the Simple compiler and runtime.
#
# Public API:
#   - AST types and parsing (ast, parser, lexer, tokens)
#   - Type system (types)
#   - AOP infrastructure (aop, aop_debug_log)
#   - Error handling (error)
#
# Internal Implementation:
#   - Compiler (moved to compiler_core for full version)
#   - Interpreter (REPL/runtime execution)
#   - HIR/MIR (intermediate representations)
#   - WFFI (wrapper FFI utilities)

# ============================================================================
# Public Modules
# ============================================================================

# Core language types
pub mod ast
pub mod ast_types
pub mod tokens
pub mod types
pub mod error

# Parsing and lexing
pub mod lexer
pub mod lexer_struct
pub mod lexer_types
pub mod parser

# Aspect-Oriented Programming
pub mod aop
pub mod aop_debug_log

# Backend types (shared with compiler)
pub mod backend_types
pub mod hir_types
pub mod mir_types

# ============================================================================
# Internal Modules (Implementation Details)
# ============================================================================

mod compiler      # Basic compiler (full version in compiler_core)
mod interpreter   # Interpreter/REPL runtime
mod hir           # High-Level IR
mod mir           # Mid-Level IR
mod wffi          # Wrapper FFI utilities

# ============================================================================
# Re-export Key Types
# ============================================================================

# AOP - Aspect-Oriented Programming
pub use .aop.{
    PointcutKind, Pointcut, AdviceKind, AdviceForm,
    DiagnosticLevel, JoinPointKind,
    InstructionInfo, AdviceCallInfo, AdviceMatchResult,
    JoinPointContext, JoinPoint, MatchedAdvice,
    MirBlockInfo, WeavingRule, WeavingConfig,
    WeavingDiagnostic, WeavingResult,
    glob_match, matches_predicate, predicate_specificity,
    weavingconfig_all_rules,
    detect_join_points, match_advice_for_join_point, weave_function
}

# AOP Debug Logging
pub use .aop_debug_log.{
    DebugLogEntry,
    debug_log_enter, debug_log_exit,
    debug_log_enable, debug_log_disable, debug_log_clear,
    debug_log_get_entries, debug_log_get_entries_since,
    debug_log_get_status, debug_log_is_enabled,
    debug_log_set_max_entries
}

# Note: AST, tokens, types, lexer, parser modules export their own types
# Import them directly: use core.ast.*, use core.tokens.*, etc.
