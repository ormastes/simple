# Fraction Comparison Operations

fn equal(a: (i64, i64), b: (i64, i64)) -> bool:
    val reduced_a = reduce(a)
    val reduced_b = reduce(b)

    val same_num = reduced_a.0 == reduced_b.0
    val same_den = reduced_a.1 == reduced_b.1

    return same_num and same_den

fn less_than(a: (i64, i64), b: (i64, i64)) -> bool:
    val num_a = a.0
    val den_a = a.1
    val num_b = b.0
    val den_b = b.1

    # Cross multiply: a/b < c/d iff a*d < c*b (when denominators positive)
    return num_a * den_b < num_b * den_a

fn greater_than(a: (i64, i64), b: (i64, i64)) -> bool:
    return less_than(b, a)

fn less_than_or_equal(a: (i64, i64), b: (i64, i64)) -> bool:
    return less_than(a, b) or equal(a, b)

fn greater_than_or_equal(a: (i64, i64), b: (i64, i64)) -> bool:
    return greater_than(a, b) or equal(a, b)

fn compare(a: (i64, i64), b: (i64, i64)) -> i64:
    if equal(a, b):
        return 0
    if less_than(a, b):
        return -1
    return 1

fn is_zero(frac: (i64, i64)) -> bool:
    return frac.0 == 0

fn is_one(frac: (i64, i64)) -> bool:
    val reduced = reduce(frac)
    return reduced.0 == 1 and reduced.1 == 1

fn is_negative(frac: (i64, i64)) -> bool:
    return frac.0 < 0

fn is_positive(frac: (i64, i64)) -> bool:
    return frac.0 > 0

fn is_proper(frac: (i64, i64)) -> bool:
    val num = frac.0
    val abs_num = if num < 0: -num else: num
    return abs_num < frac.1

fn is_improper(frac: (i64, i64)) -> bool:
    val num = frac.0
    val abs_num = if num < 0: -num else: num
    return abs_num >= frac.1

fn is_integer(frac: (i64, i64)) -> bool:
    val reduced = reduce(frac)
    return reduced.1 == 1

fn min(a: (i64, i64), b: (i64, i64)) -> (i64, i64):
    if less_than(a, b):
        return a
    return b

fn max(a: (i64, i64), b: (i64, i64)) -> (i64, i64):
    if greater_than(a, b):
        return a
    return b

fn clamp(frac: (i64, i64), min_val: (i64, i64), max_val: (i64, i64)) -> (i64, i64):
    if less_than(frac, min_val):
        return min_val
    if greater_than(frac, max_val):
        return max_val
    return frac
