# Iterator Utilities - Facade Module
#
# Advanced iterator patterns and utilities for functional-style data processing.
# Works around runtime limitations (no generics at runtime, closure capture issues)
# by using explicit state-passing with dict-based iterator representation.
#
# This is a facade module that re-exports functionality from specialized submodules:
# - types: Iterator representation and internal iteration logic
# - create: Iterator construction from various sources
# - transform: Element transformation operations
# - filter: Filtering and conditional operations
# - reduce: Reduction operations (fold, collect, aggregate)
# - combine: Multi-iterator combination operations
# - utilities: Inspection and utility operations
#
# All functions are pure Simple - no external dependencies required.
#
# Iterator Representation:
# An iterator is a dict with:
#   - "type": "iterator"
#   - "data": array of buffered elements (for finite iterators)
#   - "index": current position in data array
#   - "generator": generator type string (or nil for finite)
#   - "state": generator-specific state dict
#   - "done": boolean indicating if iterator is exhausted

# ============================================================================
# Re-exports from submodules
# ============================================================================

# Types and internal helpers
import iterator/types (iter_next_internal)
export iter_next_internal

# Creation functions
import iterator/create (
    iter_from_array, iter_from_range, iter_from_function, iter_empty,
    iter_cycle, iter_repeat
)
export iter_from_array, iter_from_range, iter_from_function, iter_empty
export iter_cycle, iter_repeat

# Transformation operations
import iterator/transform (
    iter_map, iter_take, iter_drop, iter_skip,
    iter_flat_map, iter_flatten, iter_flatten_once,
    iter_scan, iter_accumulate, iter_dedupe,
    iter_reverse, iter_step_by, iter_alternate, iter_intersperse,
    iter_enumerate
)
export iter_map, iter_take, iter_drop, iter_skip
export iter_flat_map, iter_flatten, iter_flatten_once
export iter_scan, iter_accumulate, iter_dedupe
export iter_reverse, iter_step_by, iter_alternate, iter_intersperse
export iter_enumerate

# Filtering operations
import iterator/filter (
    iter_filter, iter_take_while, iter_drop_while
)
export iter_filter, iter_take_while, iter_drop_while

# Reduction operations
import iterator/reduce (
    iter_collect, iter_fold, iter_reduce, iter_find,
    iter_any, iter_all, iter_count, iter_count_matches,
    iter_sum, iter_product, iter_min, iter_max, iter_average,
    iter_position, iter_last, iter_nth, iter_nth_back,
    iter_partition, iter_group_by, iter_unzip
)
export iter_collect, iter_fold, iter_reduce, iter_find
export iter_any, iter_all, iter_count, iter_count_matches
export iter_sum, iter_product, iter_min, iter_max, iter_average
export iter_position, iter_last, iter_nth, iter_nth_back
export iter_partition, iter_group_by, iter_unzip

# Combination operations
import iterator/combine (
    iter_zip, iter_chain, iter_interleave,
    iter_cartesian_product, iter_product_with,
    iter_merge, iter_merge_with
)
export iter_zip, iter_chain, iter_interleave
export iter_cartesian_product, iter_product_with
export iter_merge, iter_merge_with

# Utility operations
import iterator/utilities (
    iter_chunk, iter_window,
    iter_peek, iter_inspect, iter_for_each,
    iter_len, iter_empty?, iter_single?
)
export iter_chunk, iter_window
export iter_peek, iter_inspect, iter_for_each
export iter_len, iter_empty?, iter_single?
