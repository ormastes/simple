# Interval Tree Utilities - Facade Module
# Efficient interval overlap queries using augmented Red-Black tree
#
# This is a facade module that re-exports functionality from submodules:
# - types: Core data structures (intervals, nodes, colors)
# - create: Tree creation and initialization
# - insert: Insertion and balancing operations
# - delete: Deletion operations
# - query: Search and query operations
# - overlap: Interval comparison and overlap detection
# - utilities: Helper functions, traversals, validation

use interval_tree.types
use interval_tree.create
use interval_tree.insert
use interval_tree.delete
use interval_tree.query
use interval_tree.overlap
use interval_tree.utilities

# ============================================================================
# Re-export Types
# ============================================================================

export types.{
    interval_new, interval_low, interval_high, interval_data, interval_set_data,
    color_red, color_black,
    node_new, node_color, node_interval, node_max_end, node_left, node_right,
    node_set_color, node_set_interval, node_set_max_end, node_set_left, node_set_right, node_set_children,
    compute_max_end, update_max_end,
    is_red, is_black
}

# ============================================================================
# Re-export Create
# ============================================================================

export create.{from_list, clear}

# ============================================================================
# Re-export Insert
# ============================================================================

export insert.{insert, balance}

# ============================================================================
# Re-export Delete
# ============================================================================

export delete.{remove}

# ============================================================================
# Re-export Query
# ============================================================================

export query.{
    search_exact, search_point, search_overlapping, search_range,
    find_min, find_max, contains
}

# ============================================================================
# Re-export Overlap
# ============================================================================

export overlap.{
    interval_overlaps, interval_contains_point, interval_contains_interval,
    interval_compare, interval_equals, interval_merge,
    interval_length, interval_valid, interval_distance
}

# ============================================================================
# Re-export Utilities
# ============================================================================

export utilities.{
    size, height, is_empty,
    inorder_traversal, preorder_traversal, postorder_traversal, collect_all,
    merge_overlapping_intervals,
    find_gaps, find_maximum_overlap_point, coverage_length,
    filter_by_data, get_all_data, update_data, find_nearest,
    total_coverage, average_interval_length, min_interval_length, max_interval_length,
    map_data, count_red_nodes, count_black_nodes,
    to_string, print_tree,
    validate_red_black_properties, validate_max_end, validate_bst_property
}
