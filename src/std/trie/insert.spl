# Trie Insert Operations
#
# Functions for inserting words and batches of words into tries.

# Inserts a word into the trie
# Args:
#   trie: The trie root node
#   word: String to insert
# Returns: nil
fn trie_insert(trie, word):
    var current = trie
    var i = 0
    var len = word.length()

    while i < len:
        var ch = word.char_at(i)
        var children = current["children"]

        if not children.has_key(ch):
            children[ch] = trie_node()

        current = children[ch]
        i = i + 1

    current["is_end"] = true
    nil

# Inserts multiple words at once
# Args:
#   trie: The trie root node
#   words: List of words to insert
# Returns: nil
fn trie_insert_all(trie, words):
    var i = 0
    var len = words.length()

    while i < len:
        trie_insert(trie, words[i])
        i = i + 1

    nil

# Helper function for trie_insert
fn trie_node():
    {
        "children": {},
        "is_end": false
    }
