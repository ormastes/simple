# Option Utilities Module
#
# Utility functions for working with Option types.
# Provides common operations like unwrapping with defaults and existence predicates.
#
# Categories:
# - Unwrapping: unwrap_or (with default)
# - Predicates: is_some, is_none
#
# All functions are pure Simple - no external dependencies required.

# ============================================================================
# Exports
# ============================================================================

export unwrap_or, is_some, is_none

# ============================================================================
# Option Utilities
# ============================================================================

fn unwrap_or(opt: Option<i64>, default_val: i64) -> i64:
    """Extract value from Option or return default.

    Example:
        unwrap_or(Some(42), 0)  # 42
        unwrap_or(nil, 10)      # 10
    """
    match opt:
        case Some(v): v
        case nil: default_val

fn is_some(opt: Option<i64>) -> bool:
    """Check if Option contains a value.

    Example:
        is_some(Some(42))  # true
        is_some(nil)       # false
    """
    match opt:
        case Some(_): true
        case nil: false

fn is_none(opt: Option<i64>) -> bool:
    """Check if Option is empty (nil).

    Example:
        is_none(nil)       # true
        is_none(Some(42))  # false
    """
    match opt:
        case Some(_): false
        case nil: true
