# Regular Expression Engine Utilities - Facade
#
# Comprehensive regex engine implementation with NFA/DFA construction.
# Pure Simple implementation - no FFI, no external dependencies.
#
# This is a facade module that re-exports all functionality from focused submodules.
# See regex_engine/ directory for implementation details.
#
# CRITICAL CONSTRAINTS:
# - NO generics at runtime (use concrete types)
# - NO try/catch/throw (use Option/nil for errors)
# - NO chained methods (use intermediate variables)
# - Tuple-based data structures for states and transitions
#
# FEATURES:
# - Regex syntax: literals, character classes, quantifiers, groups, alternation
# - Character classes: [abc], [^abc], [a-z], \d, \w, \s, \D, \W, \S, .
# - Quantifiers: *, +, ?, {n}, {n,}, {n,m}, lazy variants (*?, +?, ??)
# - Anchors: ^, $, \b, \B
# - Groups: capturing groups (), non-capturing (?:), named groups (?<name>)
# - Alternation: |
# - Escapes: \., \*, \+, \\, etc.
# - NFA construction: Thompson's construction from regex to NFA
# - DFA construction: subset construction from NFA to DFA
# - Matching: find, match, test, exec operations
# - Capture groups: extract matched groups
# - Replace: replace with captured groups ($1, $2, etc.)
# - Utility functions: escape special chars, validate regex syntax
#
# PUBLIC API (85+ functions):
# - Tokenization: tokenize_regex, token_type, token_value
# - Parsing: parse_regex, parse_alternation, parse_concatenation, parse_quantifier
# - NFA: nfa_create, nfa_add_state, nfa_add_transition, nfa_epsilon_closure
# - Thompson's: thompson_literal, thompson_concat, thompson_union, thompson_star
# - DFA: dfa_create, dfa_minimize, subset_construction
# - Matching: regex_match, regex_test, regex_find, regex_exec
# - Groups: extract_groups, group_at, group_count, group_names
# - Replace: regex_replace, regex_replace_all, regex_replace_fn
# - Character classes: char_class_create, char_class_matches, parse_char_class
# - Escapes: escape_regex, unescape_regex, expand_escape
# - Validation: validate_regex, check_balanced_parens, check_valid_quantifier
# - Utilities: optimize_nfa, print_nfa, print_dfa, regex_stats

# Import and re-export types
from .regex_engine.types import RegexToken, RegexAST, NFAState, NFATransition, NFA
from .regex_engine.types import DFAState, DFATransition, DFA, MatchState, MatchResult

# Import and re-export character utilities
from .regex_engine.char_utils import char_code, string_from_code
from .regex_engine.char_utils import is_digit_char, is_alpha_char, is_alnum_char, is_word_char
from .regex_engine.char_utils import is_whitespace_char, is_hex_char, is_special_regex_char
from .regex_engine.char_utils import escape_regex, unescape_regex, expand_escape, is_escape_char

# Import and re-export character class utilities
from .regex_engine.char_class import char_class_create, char_class_parse, char_class_matches
from .regex_engine.char_class import char_class_empty, char_class_any, char_class_digit, char_class_word, char_class_space

# Import and re-export tokenizer
from .regex_engine.tokenizer import tokenize_regex, get_token_type, token_type, token_value, token_pos

# Import and re-export AST construction
from .regex_engine.ast import ast_literal, ast_dot, ast_char_class, ast_concat, ast_alternation
from .regex_engine.ast import ast_quantifier, ast_group, ast_anchor

# Import and re-export parser
from .regex_engine.parser import parse_regex, parse_alternation, parse_concatenation, parse_quantifier
from .regex_engine.parser import parse_atom, parse_group, parse_char_class_bracket, parse_brace_quantifier
from .regex_engine.parser import parse_int

# Import and re-export NFA
from .regex_engine.nfa import nfa_create, nfa_add_state, nfa_add_transition, nfa_add_epsilon
from .regex_engine.nfa import nfa_set_start, nfa_set_accept
from .regex_engine.nfa import thompson_from_ast, thompson_literal, thompson_dot, thompson_char_class
from .regex_engine.nfa import thompson_concat, thompson_alternation, thompson_quantifier
from .regex_engine.nfa import thompson_star, thompson_plus, thompson_optional, thompson_anchor
from .regex_engine.nfa import nfa_epsilon_closure, nfa_move, nfa_simulate

# Import and re-export DFA
from .regex_engine.dfa import dfa_create, dfa_add_state, dfa_add_transition, subset_construction, dfa_minimize
from .regex_engine.dfa import contains_accept, find_state_id, states_equal, get_alphabet

# Import and re-export matcher
from .regex_engine.matcher import regex_compile, regex_match, regex_test, regex_find, regex_find_all, regex_exec

# Import and re-export replacer
from .regex_engine.replacer import regex_replace, regex_replace_all, regex_replace_fn

# Import and re-export validator
from .regex_engine.validator import validate_regex, check_balanced_parens, check_valid_quantifier

# Import and re-export utilities
from .regex_engine.utilities import optimize_nfa, print_nfa, print_dfa, regex_stats
from .regex_engine.utilities import extract_groups, group_at, group_count, group_names
from .regex_engine.utilities import regex_split, regex_split_n
from .regex_engine.utilities import regex_count_matches, regex_extract_all, regex_match_length
from .regex_engine.utilities import regex_starts_with, regex_ends_with

# Re-export all public functions
export char_code, is_digit_char, is_alpha_char, is_alnum_char, is_word_char
export is_whitespace_char, is_hex_char, is_special_regex_char
export escape_regex, unescape_regex, expand_escape, is_escape_char
export char_class_create, char_class_parse, char_class_matches
export char_class_empty, char_class_any, char_class_digit, char_class_word, char_class_space
export tokenize_regex, get_token_type, token_type, token_value, token_pos
export ast_literal, ast_dot, ast_char_class, ast_concat, ast_alternation
export ast_quantifier, ast_group, ast_anchor
export parse_regex, parse_alternation, parse_concatenation, parse_quantifier
export parse_atom, parse_group, parse_char_class_bracket, parse_brace_quantifier
export nfa_create, nfa_add_state, nfa_add_transition, nfa_add_epsilon
export nfa_set_start, nfa_set_accept
export thompson_from_ast, thompson_literal, thompson_dot, thompson_char_class
export thompson_concat, thompson_alternation, thompson_quantifier
export thompson_star, thompson_plus, thompson_optional, thompson_anchor
export nfa_epsilon_closure, nfa_move, nfa_simulate
export dfa_create, dfa_add_state, dfa_add_transition, subset_construction, dfa_minimize
export regex_compile, regex_match, regex_test, regex_find, regex_find_all, regex_exec
export regex_replace, regex_replace_all, regex_replace_fn
export validate_regex, check_balanced_parens, check_valid_quantifier
export optimize_nfa, print_nfa, print_dfa, regex_stats
export extract_groups, group_at, group_count, group_names
export regex_split, regex_split_n
export regex_count_matches, regex_extract_all, regex_match_length
export regex_starts_with, regex_ends_with
export string_from_code, parse_int, contains_accept, find_state_id
export states_equal, get_alphabet
