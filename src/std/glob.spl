# std.glob - Glob pattern matching utilities
# Pure Simple implementation

# Simple glob matching: * matches any characters
# TODO: Full glob implementation with ?, [], {}
fn glob_match(path: text, pattern: text) -> bool:
    if not pattern.contains("*"):
        return path == pattern

    val parts = pattern.split("*")
    if parts.len() == 0:
        return true

    var pos = 0
    for i in 0..parts.len():
        val part = parts[i]
        if part.len() == 0:
            continue

        val idx = path[pos:].index_of(part)
        if not idx.?:
            return false

        pos = pos + idx.unwrap() + part.len()

    true

export glob_match
