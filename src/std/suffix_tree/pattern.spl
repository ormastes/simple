# Suffix Tree Pattern Module

# ============================================================================
# Pattern Matching
# ============================================================================

fn suffix_tree_pattern_match(tree: (text, list, i64), pattern: text) -> list:
    """Find all occurrences of pattern (alias for find_all_occurrences)"""
    suffix_tree_find_all_occurrences(tree, pattern)

fn suffix_tree_pattern_count(tree: (text, list, i64), pattern: text) -> i64:
    """Count occurrences of pattern"""
    val occurrences = suffix_tree_find_all_occurrences(tree, pattern)
    list_length(occurrences)

fn suffix_tree_multiple_pattern_search(tree: (text, list, i64), patterns: list) -> list:
    """Search for multiple patterns, return list of (pattern, positions) tuples"""
    var results = []
    var idx = 0

    while idx < list_length(patterns):
        val pattern = list_get(patterns, idx)
        val positions = suffix_tree_find_all_occurrences(tree, pattern)
        results = list_append(results, (pattern, positions))
        idx = idx + 1

    results

fn suffix_tree_wildcard_search(tree: (text, list, i64), pattern: text, wildcard: text) -> list:
    """Search with wildcard character (simplified - single wildcard)"""
    # Simplified: split on wildcard and search for parts
    val parts = text_split(pattern, wildcard)

    if list_length(parts) == 1:
        return suffix_tree_find_all_occurrences(tree, pattern)

    # For now, just search for first part
    val first_part = list_get(parts, 0)
    suffix_tree_find_all_occurrences(tree, first_part)


# Export all public functions
