# Poll - Future Poll Result
#
# Result type for polling futures.

enum Poll<T>:
    """Result of polling a future.

    - Ready(value): Future completed with value
    - Pending: Future not yet ready
    """
    Ready(T)
    Pending

impl Poll<T>:
    fn is_ready() -> bool:
        """Check if future is ready."""
        match self:
            case Poll.Ready(_): true
            case Poll.Pending: false

    fn is_pending() -> bool:
        """Check if future is pending."""
        not self.is_ready()

    fn unwrap() -> T:
        """Unwrap ready value (panics if pending)."""
        match self:
            case Poll.Ready(value): value
            case Poll.Pending: panic("Poll is pending")

export Poll
