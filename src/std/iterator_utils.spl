# Iterator Utilities - Facade
#
# Advanced iterator patterns and utilities for functional-style data processing.
# Works around runtime limitations (no generics at runtime, closure capture issues)
# by using explicit state-passing with dict-based iterator representation.
#
# This module acts as a facade that re-exports functionality from the iterator
# submodule, maintaining backward compatibility while organizing code into
# logical categories.
#
# Categories:
# - types: Iterator representation and internal iteration logic
# - create: Iterator construction (from_array, from_range, from_function, empty, cycle, repeat)
# - transform: Element transformation (map, take, drop, scan, enumerate, etc.)
# - filter: Filtering operations (filter, take_while, drop_while)
# - reduce: Reduction operations (collect, fold, reduce, sum, min, max, etc.)
# - combine: Multi-iterator operations (zip, chain, merge, cartesian_product)
# - utilities: Inspection and utilities (chunk, window, peek, inspect, for_each)
#
# All functions are pure Simple - no external dependencies required.
#
# Iterator Representation:
# An iterator is a dict with:
#   - "type": "iterator"
#   - "data": array of buffered elements (for finite iterators)
#   - "index": current position in data array
#   - "generator": generator type string (or nil for finite)
#   - "state": generator-specific state dict
#   - "done": boolean indicating if iterator is exhausted

# ============================================================================
# Re-exports from iterator module
# ============================================================================

# Import and re-export all iterator functionality
import iterator/mod (
    # Types
    iter_next_internal,
    # Create
    iter_from_array, iter_from_range, iter_from_function, iter_empty,
    iter_cycle, iter_repeat,
    # Transform
    iter_map, iter_take, iter_drop, iter_skip,
    iter_flat_map, iter_flatten, iter_flatten_once,
    iter_scan, iter_accumulate, iter_dedupe,
    iter_reverse, iter_step_by, iter_alternate, iter_intersperse,
    iter_enumerate,
    # Filter
    iter_filter, iter_take_while, iter_drop_while,
    # Reduce
    iter_collect, iter_fold, iter_reduce, iter_find,
    iter_any, iter_all, iter_count, iter_count_matches,
    iter_sum, iter_product, iter_min, iter_max, iter_average,
    iter_position, iter_last, iter_nth, iter_nth_back,
    iter_partition, iter_group_by, iter_unzip,
    # Combine
    iter_zip, iter_chain, iter_interleave,
    iter_cartesian_product, iter_product_with,
    iter_merge, iter_merge_with,
    # Utilities
    iter_chunk, iter_window,
    iter_peek, iter_inspect, iter_for_each,
    iter_len, iter_empty?, iter_single?
)

# Export all functions for backward compatibility
export iter_from_array, iter_from_range, iter_from_function, iter_empty
export iter_map, iter_filter, iter_take, iter_drop, iter_skip
export iter_take_while, iter_drop_while
export iter_zip, iter_chain, iter_enumerate, iter_interleave
export iter_cartesian_product, iter_product_with
export iter_collect, iter_fold, iter_reduce, iter_find
export iter_any, iter_all, iter_count, iter_count_matches
export iter_chunk, iter_window, iter_partition, iter_group_by
export iter_cycle, iter_repeat, iter_flat_map, iter_flatten
export iter_scan, iter_accumulate, iter_dedupe
export iter_sum, iter_product, iter_min, iter_max, iter_average
export iter_position, iter_last, iter_nth, iter_nth_back
export iter_peek, iter_inspect, iter_for_each
export iter_len, iter_empty?, iter_single?, iter_reverse
export iter_step_by, iter_alternate, iter_merge, iter_merge_with
export iter_unzip, iter_flatten_once, iter_intersperse
