# Alloc FFI - Low-level memory allocation primitives
#
# Runtime functions for heap memory management.
# These are the foundation for all collection types.

# --- Memory allocation ---
extern fn rt_alloc(size: i64) -> i64
extern fn rt_realloc(ptr: i64, old_size: i64, new_size: i64) -> i64
extern fn rt_free(ptr: i64)
extern fn rt_alloc_zeroed(size: i64) -> i64

# --- Array operations ---
extern fn rt_array_new(capacity: i64) -> i64
extern fn rt_array_push(arr: i64, value: i64)
extern fn rt_array_pop(arr: i64) -> i64
extern fn rt_array_get(arr: i64, index: i64) -> i64
extern fn rt_array_set(arr: i64, index: i64, value: i64)
extern fn rt_array_len(arr: i64) -> i64
extern fn rt_array_capacity(arr: i64) -> i64
extern fn rt_array_clear(arr: i64)
extern fn rt_array_slice(arr: i64, start: i64, end: i64) -> i64
extern fn rt_array_concat(a: i64, b: i64) -> i64
extern fn rt_array_sort(arr: i64)
extern fn rt_array_reverse(arr: i64)

# --- Dict/Map operations ---
extern fn rt_dict_new() -> i64
extern fn rt_dict_get(dict: i64, key: text) -> i64
extern fn rt_dict_set(dict: i64, key: text, value: i64)
extern fn rt_dict_remove(dict: i64, key: text)
extern fn rt_dict_contains(dict: i64, key: text) -> bool
extern fn rt_dict_len(dict: i64) -> i64
extern fn rt_dict_keys(dict: i64) -> i64
extern fn rt_dict_values(dict: i64) -> i64
extern fn rt_dict_clear(dict: i64)

# --- String operations ---
extern fn rt_string_new(capacity: i64) -> text
extern fn rt_string_concat(a: text, b: text) -> text
extern fn rt_string_len(s: text) -> i64
extern fn rt_string_slice(s: text, start: i64, end: i64) -> text
extern fn rt_string_contains(s: text, substr: text) -> bool
extern fn rt_string_replace(s: text, from: text, to: text) -> text
extern fn rt_string_split(s: text, sep: text) -> i64
extern fn rt_string_trim(s: text) -> text
extern fn rt_string_to_upper(s: text) -> text
extern fn rt_string_to_lower(s: text) -> text
extern fn rt_string_starts_with(s: text, prefix: text) -> bool
extern fn rt_string_ends_with(s: text, suffix: text) -> bool
