# Attrs - UI Attribute and Styling Types
#
# This module defines attribute and styling types that are shared
# between TUI and GUI renderers. Styles are translated to the
# appropriate representation for each platform.

use core.*

# Layout direction for flex containers
pub enum FlexDirection:
    Row
    RowReverse
    Column
    ColumnReverse

impl FlexDirection:
    # =========================================================================
    # Helper Methods
    # =========================================================================

    pub fn to_string(self) -> text:
        """Convert flex direction to string.

        Returns:
            Direction name

        Example:
            FlexDirection.Row.to_string()  # → "row"
        """
        match self:
            case Row: "row"
            case RowReverse: "row-reverse"
            case Column: "column"
            case ColumnReverse: "column-reverse"

    pub fn description(self) -> text:
        """Get flex direction description.

        Returns:
            Human-readable description

        Example:
            FlexDirection.Row.description()  # → "Horizontal left-to-right layout"
        """
        match self:
            case Row: "Horizontal left-to-right layout"
            case RowReverse: "Horizontal right-to-left layout"
            case Column: "Vertical top-to-bottom layout"
            case ColumnReverse: "Vertical bottom-to-top layout"

    pub fn is_horizontal(self) -> bool:
        """Check if horizontal direction.

        Returns:
            true for Row or RowReverse

        Example:
            FlexDirection.Row.is_horizontal()  # → true
        """
        match self:
            case Row | RowReverse => true
            case _ => false

    pub fn is_vertical(self) -> bool:
        """Check if vertical direction.

        Returns:
            true for Column or ColumnReverse

        Example:
            FlexDirection.Column.is_vertical()  # → true
        """
        return not self.is_horizontal()

    pub fn is_reversed(self) -> bool:
        """Check if reversed direction.

        Returns:
            true for RowReverse or ColumnReverse

        Example:
            FlexDirection.RowReverse.is_reversed()  # → true
        """
        match self:
            case RowReverse | ColumnReverse => true
            case _ => false

    pub fn is_row(self) -> bool:
        """Check if Row variant."""
        match self:
            case Row => true
            case _ => false

    pub fn is_row_reverse(self) -> bool:
        """Check if RowReverse variant."""
        match self:
            case RowReverse => true
            case _ => false

    pub fn is_column(self) -> bool:
        """Check if Column variant."""
        match self:
            case Column => true
            case _ => false

    pub fn is_column_reverse(self) -> bool:
        """Check if ColumnReverse variant."""
        match self:
            case ColumnReverse => true
            case _ => false

    pub fn summary(self) -> text:
        """Get flex direction summary.

        Returns:
            Human-readable summary

        Example:
            FlexDirection.Row.summary()
            # → "FlexDirection: row (Horizontal left-to-right layout, not reversed)"
        """
        val name = self.to_string()
        val desc = self.description()
        val reversed = if self.is_reversed(): "reversed" else: "not reversed"
        return "FlexDirection: {name} ({desc}, {reversed})"

# Flex alignment on main axis
pub enum JustifyContent:
    Start
    End
    Center
    SpaceBetween
    SpaceAround
    SpaceEvenly

impl JustifyContent:
    # =========================================================================
    # Helper Methods
    # =========================================================================

    pub fn to_string(self) -> text:
        """Convert justify content to string.

        Returns:
            Variant name

        Example:
            JustifyContent.Center.to_string()  # → "center"
        """
        match self:
            case Start: "start"
            case End: "end"
            case Center: "center"
            case SpaceBetween: "space-between"
            case SpaceAround: "space-around"
            case SpaceEvenly: "space-evenly"

    pub fn is_start(self) -> bool:
        """Check if start alignment.

        Returns:
            true for Start variant

        Example:
            JustifyContent.Start.is_start()  # → true
        """
        match self:
            case Start: True
            case _: False

    pub fn is_end(self) -> bool:
        """Check if end alignment.

        Returns:
            true for End variant

        Example:
            JustifyContent.End.is_end()  # → true
        """
        match self:
            case End: True
            case _: False

    pub fn is_center(self) -> bool:
        """Check if center alignment.

        Returns:
            true for Center variant

        Example:
            JustifyContent.Center.is_center()  # → true
        """
        match self:
            case Center: True
            case _: False

    pub fn is_spaced(self) -> bool:
        """Check if uses spacing distribution.

        Returns:
            true for SpaceBetween/SpaceAround/SpaceEvenly

        Example:
            JustifyContent.SpaceBetween.is_spaced()  # → true
        """
        match self:
            case SpaceBetween: True
            case SpaceAround: True
            case SpaceEvenly: True
            case _: False

    pub fn distributes_space(self) -> bool:
        """Check if distributes space between items.

        Returns:
            true if not Start/End

        Example:
            JustifyContent.Center.distributes_space()  # → true
        """
        match self:
            case Start: False
            case End: False
            case _: True

    fn description() -> text:
        """Get justify content description.

        Returns:
            Human-readable description

        Example:
            JustifyContent.Center.description()
            # → "Center items along main axis"
        """
        match self:
            case Start: "Align items to start of main axis"
            case End: "Align items to end of main axis"
            case Center: "Center items along main axis"
            case SpaceBetween: "Distribute items with space between them"
            case SpaceAround: "Distribute items with space around them"
            case SpaceEvenly: "Distribute items with even spacing"

    pub fn summary(self) -> text:
        """Get justify content summary.

        Returns:
            Human-readable summary

        Example:
            JustifyContent.Center.summary()  # → "JustifyContent: center"
        """
        val name = self.to_string()
        return "JustifyContent: {name}"

# Flex alignment on cross axis
pub enum AlignItems:
    Start
    End
    Center
    Stretch
    Baseline

impl AlignItems:
    # =========================================================================
    # Helper Methods
    # =========================================================================

    pub fn to_string(self) -> text:
        """Convert align items to string.

        Returns:
            Variant name

        Example:
            AlignItems.Center.to_string()  # → "center"
        """
        match self:
            case Start: "start"
            case End: "end"
            case Center: "center"
            case Stretch: "stretch"
            case Baseline: "baseline"

    fn description() -> text:
        """Get align items description.

        Returns:
            Human-readable description

        Example:
            AlignItems.Stretch.description()
            # → "Stretch items to fill cross axis"
        """
        match self:
            case Start: "Align items to start of cross axis"
            case End: "Align items to end of cross axis"
            case Center: "Center items on cross axis"
            case Stretch: "Stretch items to fill cross axis"
            case Baseline: "Align items by text baseline"

    pub fn is_start(self) -> bool:
        """Check if start alignment.

        Returns:
            true for Start variant

        Example:
            AlignItems.Start.is_start()  # → true
        """
        match self:
            case Start: True
            case _: False

    pub fn is_end(self) -> bool:
        """Check if end alignment.

        Returns:
            true for End variant

        Example:
            AlignItems.End.is_end()  # → true
        """
        match self:
            case End: True
            case _: False

    pub fn is_center(self) -> bool:
        """Check if center alignment.

        Returns:
            true for Center variant

        Example:
            AlignItems.Center.is_center()  # → true
        """
        match self:
            case Center: True
            case _: False

    pub fn is_stretch(self) -> bool:
        """Check if stretch alignment.

        Returns:
            true for Stretch variant

        Example:
            AlignItems.Stretch.is_stretch()  # → true
        """
        match self:
            case Stretch: True
            case _: False

    pub fn is_baseline(self) -> bool:
        """Check if baseline alignment.

        Returns:
            true for Baseline variant

        Example:
            AlignItems.Baseline.is_baseline()  # → true
        """
        match self:
            case Baseline: True
            case _: False

    pub fn summary(self) -> text:
        """Get align items summary.

        Returns:
            Human-readable summary

        Example:
            AlignItems.Center.summary()  # → "AlignItems: center"
        """
        val name = self.to_string()
        return "AlignItems: {name}"

# Text alignment
pub enum TextAlign:
    Left
    Center
    Right
    Justify

impl TextAlign:
    # =========================================================================
    # Helper Methods
    # =========================================================================

    pub fn to_string(self) -> text:
        """Convert text align to string.

        Returns:
            Variant name

        Example:
            TextAlign.Center.to_string()  # → "center"
        """
        match self:
            case Left: "left"
            case Center: "center"
            case Right: "right"
            case Justify: "justify"

    fn description() -> text:
        """Get text align description.

        Returns:
            Human-readable description

        Example:
            TextAlign.Justify.description()
            # → "Justify text (stretch lines to fill width)"
        """
        match self:
            case Left: "Align text to left edge"
            case Center: "Center text horizontally"
            case Right: "Align text to right edge"
            case Justify: "Justify text (stretch lines to fill width)"

    pub fn is_left(self) -> bool:
        """Check if left alignment.

        Returns:
            true for Left variant

        Example:
            TextAlign.Left.is_left()  # → true
        """
        match self:
            case Left: True
            case _: False

    pub fn is_center(self) -> bool:
        """Check if center alignment.

        Returns:
            true for Center variant

        Example:
            TextAlign.Center.is_center()  # → true
        """
        match self:
            case Center: True
            case _: False

    pub fn is_right(self) -> bool:
        """Check if right alignment.

        Returns:
            true for Right variant

        Example:
            TextAlign.Right.is_right()  # → true
        """
        match self:
            case Right: True
            case _: False

    pub fn is_justify(self) -> bool:
        """Check if justify alignment.

        Returns:
            true for Justify variant

        Example:
            TextAlign.Justify.is_justify()  # → true
        """
        match self:
            case Justify: True
            case _: False

    pub fn summary(self) -> text:
        """Get text align summary.

        Returns:
            Human-readable summary

        Example:
            TextAlign.Center.summary()  # → "TextAlign: center"
        """
        val name = self.to_string()
        return "TextAlign: {name}"

# Vertical alignment
pub enum VerticalAlign:
    Top
    Middle
    Bottom

impl VerticalAlign:
    # =========================================================================
    # Helper Methods
    # =========================================================================

    pub fn to_string(self) -> text:
        """Convert vertical align to string.

        Returns:
            Variant name

        Example:
            VerticalAlign.Middle.to_string()  # → "middle"
        """
        match self:
            case Top: "top"
            case Middle: "middle"
            case Bottom: "bottom"

    fn description() -> text:
        """Get vertical align description.

        Returns:
            Human-readable description

        Example:
            VerticalAlign.Middle.description()
            # → "Align to vertical middle"
        """
        match self:
            case Top: "Align to top edge"
            case Middle: "Align to vertical middle"
            case Bottom: "Align to bottom edge"

    pub fn is_top(self) -> bool:
        """Check if top alignment.

        Returns:
            true for Top variant

        Example:
            VerticalAlign.Top.is_top()  # → true
        """
        match self:
            case Top: True
            case _: False

    pub fn is_middle(self) -> bool:
        """Check if middle alignment.

        Returns:
            true for Middle variant

        Example:
            VerticalAlign.Middle.is_middle()  # → true
        """
        match self:
            case Middle: True
            case _: False

    pub fn is_bottom(self) -> bool:
        """Check if bottom alignment.

        Returns:
            true for Bottom variant

        Example:
            VerticalAlign.Bottom.is_bottom()  # → true
        """
        match self:
            case Bottom: True
            case _: False

    pub fn summary(self) -> text:
        """Get vertical align summary.

        Returns:
            Human-readable summary

        Example:
            VerticalAlign.Middle.summary()  # → "VerticalAlign: middle"
        """
        val name = self.to_string()
        return "VerticalAlign: {name}"

# Border style (for Box elements)
pub enum BorderStyle:
    None
    Solid
    Dashed
    Dotted
    Double
    Rounded  # TUI: rounded box-drawing corners

impl BorderStyle:
    # =========================================================================
    # Helper Methods
    # =========================================================================

    pub fn to_string(self) -> text:
        """Convert border style to string.

        Returns:
            Style name

        Example:
            BorderStyle.Solid.to_string()  # → "solid"
        """
        match self:
            case None: "none"
            case Solid: "solid"
            case Dashed: "dashed"
            case Dotted: "dotted"
            case Double: "double"
            case Rounded: "rounded"

    pub fn description(self) -> text:
        """Get border style description.

        Returns:
            Human-readable description

        Example:
            BorderStyle.Rounded.description()  # → "Rounded corners (TUI box-drawing)"
        """
        match self:
            case None: "No border"
            case Solid: "Solid line border"
            case Dashed: "Dashed line border"
            case Dotted: "Dotted line border"
            case Double: "Double line border"
            case Rounded: "Rounded corners (TUI box-drawing)"

    pub fn is_visible(self) -> bool:
        """Check if border should be rendered.

        Returns:
            false for None, true otherwise

        Example:
            BorderStyle.Solid.is_visible()  # → true
        """
        return self != BorderStyle.None

    pub fn is_none(self) -> bool:
        """Check if None variant."""
        match self:
            case None => true
            case _ => false

    pub fn is_solid(self) -> bool:
        """Check if Solid variant."""
        match self:
            case Solid => true
            case _ => false

    pub fn is_dashed(self) -> bool:
        """Check if Dashed variant."""
        match self:
            case Dashed => true
            case _ => false

    pub fn is_dotted(self) -> bool:
        """Check if Dotted variant."""
        match self:
            case Dotted => true
            case _ => false

    pub fn is_double(self) -> bool:
        """Check if Double variant."""
        match self:
            case Double => true
            case _ => false

    pub fn is_rounded(self) -> bool:
        """Check if Rounded variant."""
        match self:
            case Rounded => true
            case _ => false

    pub fn summary(self) -> text:
        """Get border style summary.

        Returns:
            Human-readable summary

        Example:
            BorderStyle.Rounded.summary()
            # → "BorderStyle: rounded (Rounded corners (TUI box-drawing), visible)"
        """
        val name = self.to_string()
        val desc = self.description()
        val visible = if self.is_visible(): "visible" else: "hidden"
        return "BorderStyle: {name} ({desc}, {visible})"

# Color representation (platform-agnostic)
