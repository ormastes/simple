# Block Utilities - Hub Module
#
# Re-exports all utilities from sub-modules:
# - parsers: JSON, YAML, TOML, XML, CSV parsers
# - validators: JSON, Regex, SQL validators
# - highlighting: Syntax highlighting helpers
# - text_transforms: Variable interpolation, indent stripping, newline normalization
# - error_helpers: Error message helpers
#
# Also contains `impl text` extension methods (must stay in hub for visibility).

# Import from sub-modules
use blocks.parsers.{
    parse_json, parse_yaml, parse_toml, parse_xml, parse_csv,
    json_parse_internal, yaml_parse_internal, toml_parse_internal,
    xml_parse_internal, csv_parse_internal
}
use blocks.validators.{
    validate_json, validate_regex, validate_sql,
    validate_json_structure, validate_sql_dialect,
    json_depth, json_type_name
}
use blocks.highlighting.{
    highlight_keywords, highlight_strings, highlight_comments, highlight_numbers,
    is_word_boundary
}
use blocks.text_transforms.{
    interpolate_variables, strip_indent, normalize_newlines
}
use blocks.error_helpers.{
    error_at, error_span, errors_from_strings
}

# ============================================================================
# Character helper extensions (placeholder - should be in std)
# These MUST stay in the hub for type visibility
# ============================================================================

impl text:
    fn is_digit() -> bool:
        val ch = self[0]
        ch >= '0' and ch <= '9'

    fn is_hex_digit() -> bool:
        val ch = self[0]
        (ch >= '0' and ch <= '9') or (ch >= 'a' and ch <= 'f') or (ch >= 'A' and ch <= 'F')

    fn is_alphanumeric() -> bool:
        val ch = self[0]
        (ch >= 'a' and ch <= 'z') or (ch >= 'A' and ch <= 'Z') or (ch >= '0' and ch <= '9')

# ============================================================================
# Re-exports (all symbols from sub-modules)
# ============================================================================

export parse_json, parse_yaml, parse_toml, parse_xml, parse_csv
export validate_json, validate_regex, validate_sql
export highlight_keywords, highlight_strings, highlight_comments, highlight_numbers
export error_at, error_span, errors_from_strings
export interpolate_variables, strip_indent, normalize_newlines
