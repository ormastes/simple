# Interpreter Backend
#
# Tree-walk interpreter as a codegen backend adapter.
# Implements BackendPort: same interface as LLVM/Cranelift/WASM.
#
# This adapter makes the interpreter uniformly selectable via the
# compiler driver's backend selection logic, replacing ad-hoc
# string-keyed DI with a typed BackendPort composition root.

arch {
  dimension = "adapter"
  layer = "infra"

  imports {
    allow = [
      "compiler/backend_port",
      "compiler/backend_types",
      "core/interpreter/**",
      "shared/**"
    ]
    deny = [
      "compiler/feature/lexing/**",
      "compiler/feature/parsing/**"
    ]
  }

  exports {
    expose = ["./backend"]
  }
}
