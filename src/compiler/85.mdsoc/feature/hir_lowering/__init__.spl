# HIR Lowering Feature Module
#
# Pipeline stage: Typed AST â†’ HIR
# Layer: app
# Dimension: feature

arch {
  dimension = "feature"
  layer = "app"

  uses_transform = "compiler/transform/feature/typing_to_hir"

  imports {
    allow = [
      "compiler/transform/feature/typing_to_hir/**",
      "core/entity/hir/**",
      "core/entity/ast/**",
      "shared/**"
    ]
    deny = [
      "compiler/feature/type_checking/**",
      "compiler/feature/mir_lowering/**",
      "compiler/backend/**"
    ]
  }

  exports {
    expose = ["./app/ports"]
  }
}
