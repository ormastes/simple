# Transform: lexing_to_parsing
#
# Bridges lexer output â†’ parser input.
# Minimal mismatch: LexerOutputPort and ParserInputPort share the same
# parallel-array token representation; the only addition is source_text
# which the parser needs for error messages.
# Design: doc/research/compiler_mdsoc_design.md Section 2.2

arch {
  dimension = "transform"
  layer = "none"

  transform {
    from = "feature/lexing"
    to   = "feature/parsing"
    allow_from = ["core/entity/token/**"]
  }

  imports {
    allow = ["core/entity/token/**", "shared/**"]
    deny  = ["compiler/feature/**"]
  }

  exports {
    expose = ["./entity_view/TokenStreamView"]
  }
}
