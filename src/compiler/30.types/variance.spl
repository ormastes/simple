"""
Variance Checking - Consolidated from Phase 6A-6D

Implements variance types, composition rules, inference algorithm,
subtyping validation, type checker integration, and annotation checking.

Split into:
  variance_types.spl      — Variance enum, VarianceOps, inference, checker
  variance_tests_repr_infer.spl   — Tests 6A + 6B
  variance_tests_check.spl   — Tests 6C + 6D + main function
"""

use compiler.types.variance_types.{Variance, VarianceOps, TypeParamDef, VarianceEnv}
use compiler.types.variance_types.{HirType, FieldDef, MethodDef, TypeDef, VarianceInference}
use compiler.types.variance_types.{SubtypeEnv, VarianceChecker, NamedType}
use compiler.types.variance_types.{TypeCheckerIntegrated, VarianceAnnotation, VarianceError}
use compiler.types.variance_types.{box_of, cell_of, fn_type}
use compiler.types.variance_tests_repr_infer.{test_variance_basic, test_variance_flip}
use compiler.types.variance_tests_repr_infer.{test_variance_compose, test_variance_combine}
use compiler.types.variance_tests_repr_infer.{test_type_param_def, test_variance_env}
use compiler.types.variance_tests_repr_infer.{test_variance_env_multiple, test_variance_env_bulk}
use compiler.types.variance_tests_repr_infer.{test_infer_box, test_infer_cell}
use compiler.types.variance_tests_repr_infer.{test_infer_function_type, test_infer_nested_variance}
use compiler.types.variance_tests_repr_infer.{test_infer_multiple_uses, test_infer_generic_composition}
use compiler.types.variance_tests_repr_infer.{test_infer_bivariant}
use compiler.types.variance_tests_check.{test_covariant_subtyping, test_inv_rejection}
use compiler.types.variance_tests_check.{test_contravariant_function, test_nested_variance}
use compiler.types.variance_tests_check.{test_bivariant_always, test_types_equal}
use compiler.types.variance_tests_check.{test_assignment_checking, test_method_call_validation}
use compiler.types.variance_tests_check.{test_variance_annotation_match, test_variance_annotation_mismatch}
use compiler.types.variance_tests_check.{test_error_messages, test_generic_instantiation}
use compiler.types.variance_tests_check.{main}
