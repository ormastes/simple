export FunctionDef, StructDef, ClassDef, EnumDef, TraitDef
export Module, Node

struct FunctionDef:
    name: text
    generic_params: [text]
    params: [text]
    # # DESUGARED: return_type: text
    has_return_type: bool
    return_type: text
    body: [text]
    is_generic_template: bool
    # # DESUGARED: specialization_of: text
    has_specialization_of: bool
    specialization_of: text
    type_bindings: {text: text}

struct StructDef:
    name: text
    generic_params: [text]
    fields: [text]
    is_generic_template: bool
    # # DESUGARED: specialization_of: text
    has_specialization_of: bool
    specialization_of: text
    type_bindings: {text: text}

struct ClassDef:
    name: text
    generic_params: [text]
    fields: [text]
    methods: [text]
    is_generic_template: bool
    # # DESUGARED: specialization_of: text
    has_specialization_of: bool
    specialization_of: text
    type_bindings: {text: text}

struct EnumDef:
    name: text
    generic_params: [text]
    variants: [text]
    is_generic_template: bool
    # # DESUGARED: specialization_of: text
    has_specialization_of: bool
    specialization_of: text
    type_bindings: {text: text}

struct TraitDef:
    name: text
    generic_params: [text]
    methods: [text]
    is_generic_template: bool

enum Node:
    Function(FunctionDef)
    Struct(StructDef)
    Class(ClassDef)
    Enum(EnumDef)
    Trait(TraitDef)
    Other(text)

struct Module:
    name: text
    items: [Node]
