# Core Lexer Compatibility Wrapper
#
# Provides the legacy module path `compiler.core.lexer` by delegating to
# the newer implementation in `compiler.frontend.core.lexer`.

use compiler.frontend.core.lexer as fe_lexer
use compiler.frontend.core.lexer_types.{Token}

type Lexer = fe_lexer.Lexer

fn lexer_new(source: text) -> Lexer:
    fe_lexer.lexer_new(source)

fn lexer_next_token(lex: Lexer) -> Token:
    fe_lexer.lexer_next_token(lex)

fn token_eof(offset: i64, line: i64) -> Token:
    fe_lexer.token_eof(offset, line)

impl Lexer:
    static fn new(source: text) -> Lexer:
        lexer_new(source)

export Lexer, lexer_new, lexer_next_token, token_eof
