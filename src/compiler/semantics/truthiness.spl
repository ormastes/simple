# Truthiness Rules
#
# Unified truthiness rules for Simple language.
# Determines how values are coerced to boolean in conditionals.
# This is the single source of truth - both interpreter and codegen MUST use these rules.
#
# Port of rust/compiler/src/semantics/truthiness.rs (197 lines)

export TruthinessRules

# ============================================================================
# Language Semantics
# ============================================================================
#
# In Simple, the following values are considered falsy:
# - `false`
# - `0` (integer)
# - `0[0]` (float)
# - `""` (empty string)
# - `[]` (empty array)
# - `()` (empty tuple)
# - `{}` (empty dict)
# - `nil`
#
# All other values are truthy, including:
# - Non-zero numbers
# - Non-empty strings
# - Non-empty collections
# - Objects, functions, lambdas, actors, etc.

# ============================================================================
# Truthiness Evaluation
# ============================================================================

struct TruthinessRules


# ============================================================================
# TruthinessRules Methods (was: impl TruthinessRules:)
# ============================================================================

fn truthinessrules_is_always_truthy_type(type_name: text) -> bool:
        """Check if a specific type is always truthy.

        Some types are always truthy regardless of their value:
        - Functions, Lambdas, Closures
        - Objects, Actors, Channels
        - etc.
        """
        type_name in [
            "Function",
            "Lambda",
            "Closure",
            "Object",
            "Actor",
            "Channel",
            "Future",
            "Generator",
            "ThreadPool",
            "Mock",
            "Matcher",
            "NativeFunction",
            "EnumType",
            "EnumVariant",
            "Constructor",
            "TraitObject",
            "Block"
        ]


fn truthinessrules_is_value_dependent_type(type_name: text) -> bool:
        """Check if a type's truthiness depends on its value."""
        type_name in [
            "Bool",
            "Int",
            "Float",
            "String",
            "Array",
            "Tuple",
            "Dict",
            "Nil"
        ]

