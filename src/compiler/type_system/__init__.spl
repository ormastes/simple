# Type System
#
# Type checker, effect inference, and related subsystems.
# Port of rust/type/src/

from effects import {
    Effect, ReturnWrapMode, AwaitMode, TypedAwaitMode,
    PromiseTypeInfo, FunctionInfo,
    infer_function_effect, build_effect_env, propagate_effects_transitive,
    validate_sync_constraint, validate_suspension_context,
    needs_promise_wrapping, get_return_wrap_mode,
    is_promise_type, wrap_in_promise, unwrap_promise,
    needs_await, needs_await_typed, infer_promise_type_info,
    tarjan_scc
}

from checker import {
    TypeError, TraitImplRegistry, MixinInfo, TypeChecker
}

from builtin_registry import {
    BuiltinCategory, BuiltinEntry, BuiltinRegistry
}

export Effect, ReturnWrapMode, AwaitMode, TypedAwaitMode
export PromiseTypeInfo, FunctionInfo
export infer_function_effect, build_effect_env, propagate_effects_transitive
export validate_sync_constraint, validate_suspension_context
export needs_promise_wrapping, get_return_wrap_mode
export is_promise_type, wrap_in_promise, unwrap_promise
export needs_await, needs_await_typed, infer_promise_type_info
export tarjan_scc
export TypeError, TraitImplRegistry, MixinInfo, TypeChecker
export BuiltinCategory, BuiltinEntry, BuiltinRegistry
