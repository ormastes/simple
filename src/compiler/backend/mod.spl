# Backend Module - Compiler Backend Infrastructure
#
# This module provides all backend-related functionality:
# - Backend factory for creating backends
# - Shared abstractions (TypeMapper, LiteralConverter, ExpressionEvaluator)
# - Backend-specific implementations
#
# Usage:
#     use compiler.backend.*
#     val backend = BackendFactory.create(target, options)
#     val result = backend.compile(module)

# === Backend Factory ===
export backend_factory.BackendFactory

# === Shared Abstractions ===
# Re-export from common module for convenience
export common.TypeMapper
export common.PrimitiveType
export common.Mutability
export common.LiteralConverter
export common.ExpressionEvaluator
export common.EvalContext
export common.Environment

# === Type Mapper Implementations ===
export llvm_type_mapper.LlvmTypeMapper
export cranelift_type_mapper.CraneliftTypeMapper
export wasm_type_mapper.WasmTypeMapper
export interpreter_type_mapper.InterpreterTypeMapper
export lean_type_mapper.LeanTypeMapper

# === GPU Type Mapper Implementations ===
export cuda_type_mapper.CudaTypeMapper
export vulkan_type_mapper.VulkanTypeMapper
export vulkan_type_mapper.SpirvImageDim
export vulkan_type_mapper.SpirvBuiltin
export vulkan_type_mapper.SpirvFeature

# === GPU Code Generation Builders ===
export cuda.ptx_builder.PtxBuilder
export vulkan.spirv_builder.SpirvBuilder

# === GPU Backend Implementations ===
export cuda_backend.CudaBackend
export cuda_backend.CudaCompiledModule
export cuda_backend.CudaKernel
export cuda_backend.CudaDeviceFunction
export vulkan_backend.VulkanBackend
export vulkan_backend.VulkanCompiledModule
export vulkan_backend.VulkanComputeShader

# === Backend Implementations ===
# Note: These already exist in the codebase, we're just re-exporting for convenience
# Uncomment when ready to integrate:
# export llvm_backend.LlvmBackend
# export cranelift_backend.CraneliftBackend
# export wasm_backend.WasmBackend
# export interpreter_backend.InterpreterBackend

# === Backend API Types ===
export backend_api.BackendKind
export backend_api.CodegenTarget
export backend_api.backend_name
export backend_api.codegen_target_name

# === Memory Space (from hir_types) ===
# Note: MemorySpace is defined in compiler.hir_types, not here
# Users should import from compiler.hir_types.MemorySpace
