# Bare-Metal Support Module
#
# Provides support for bare-metal (no OS) development:
# - x86 boot and hardware abstraction
# - Test harness for QEMU testing
# - Platform-independent utilities
#
# Platforms:
# - x86 (i686): QEMU PC, 32-bit protected mode
# - (Future) x86_64: 64-bit long mode
# - (Future) ARM Cortex-M: Embedded microcontrollers
# - (Future) RISC-V: Various configurations

export x86, common

# Platform modules
mod x86:
    from boot import {_start, halt, multiboot_header, kernel_main}
    from gdt import {GdtEntry, GdtDescriptor, gdt_init, gdt_load}
    from gdt import {KERNEL_CODE_SELECTOR, KERNEL_DATA_SELECTOR}
    from io import {outb, inb, outw, inw, outl, inl, io_wait}
    from serial import {serial_init, serial_print, serial_println, serial_write, serial_read}
    from serial import {Serial, COM1, COM2, COM3, COM4}
    from idt import {IdtEntry, IdtDescriptor, idt_init, idt_load, idt_set_handler}
    from idt import {pic_remap, pic_send_eoi, panic}

# Platform-independent modules
mod common:
    from test_harness import {TestHarness, test_harness, test}
    from test_harness import {assert_true, assert_false, assert_eq, assert_ne}
    from test_harness import {test_pass, test_fail, test_end}
