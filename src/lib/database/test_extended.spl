# Test Database Extended - Main Module
#
# Extended TestDatabase with complete feature set:
# - 8 tables (strings, files, suites, tests, counters, timing, timing_runs, changes)
# - StringInterner integration
# - Statistical analysis
# - Flaky test detection
# - Run management
#
# This module re-exports all components from submodules.

# Import and re-export type definitions
use lib.database.test_extended.types.{
    FileRecord, SuiteRecord, TestRecord, CounterRecord,
    TimingSummary, TimingRun, ChangeEvent, RunRecord, TestInfo
}

# Import and re-export main database class
use lib.database.test_extended.database.{TestDatabaseExtended}

# Import and re-export factory functions
use lib.database.test_extended.factory.{
    create_test_database_extended, load_test_database_extended,
    migrate_from_dual_file, load_with_migration
}

# Import extension methods (these extend TestDatabaseExtended via impl blocks)
use lib.database.test_extended.core_helpers
use lib.database.test_extended.tracking
use lib.database.test_extended.runs
use lib.database.test_extended.queries

# Re-export all public types
export FileRecord, SuiteRecord, TestRecord, CounterRecord
export TimingSummary, TimingRun, ChangeEvent, RunRecord, TestInfo

# Re-export main class
export TestDatabaseExtended

# Re-export factory functions
export create_test_database_extended, load_test_database_extended
export migrate_from_dual_file, load_with_migration
