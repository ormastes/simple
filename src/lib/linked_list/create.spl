# Linked List Creation Functions

# Create an empty linked list
# Returns: nil
fn ll_empty():
    nil

# Create a single-node list
# Args:
#   value: The value to store in the node
# Returns: A list with one node
fn ll_singleton(value):
    (value, nil)

# Create a linked list from an array
# Args:
#   arr: Array of values
# Returns: Linked list containing all array elements
fn ll_from_array(arr):
    var result = nil
    var i = arr.length() - 1
    while i >= 0:
        result = (arr[i], result)
        i = i - 1
    result

# Convert linked list to array
# Args:
#   list: Linked list to convert
# Returns: Array containing all list elements
fn ll_to_array(list):
    var result = []
    var current = list
    while current != nil:
        result = result.push(current[0])
        current = current[1]
    result

# Create empty doubly linked list
# Returns: nil
fn dll_empty():
    nil

# Create doubly linked list from array
# Args:
#   arr: Array of values
# Returns: Doubly linked list (first node)
fn dll_from_array(arr):
    if arr.length() == 0:
        return nil

    var nodes = []
    var i = 0
    while i < arr.length():
        nodes = nodes.push((arr[i], nil, nil))
        i = i + 1

    i = 0
    while i < nodes.length():
        var prev = nil
        var next = nil

        if i > 0:
            prev = nodes[i - 1]

        if i < nodes.length() - 1:
            next = nodes[i + 1]

        nodes[i] = (nodes[i][0], prev, next)
        i = i + 1

    if nodes.length() > 0:
        nodes[0]
    else:
        nil

# Convert doubly linked list to array
# Args:
#   list: Doubly linked list
# Returns: Array of values
fn dll_to_array(list):
    var result = []
    var current = list
    while current != nil:
        result = result.push(current[0])
        current = current[2]
    result
