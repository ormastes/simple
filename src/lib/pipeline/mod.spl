# Pipeline Utilities Module
#
# Comprehensive data transformation pipeline utilities for ETL and data processing.
# Provides composable pipeline stages with error handling, branching, and batching.
#
# Core Features:
# - Pipeline creation and composition
# - Transformation stages (map, filter, reduce)
# - Branching and conditional execution
# - Error handling and fallback mechanisms
# - Batch processing and inspection utilities
# - Async-like callback patterns
#
# Runtime Constraints:
# - No generics at runtime - pipelines work with untyped data
# - Closures can read but not modify outer variables
# - Error handling via Option pattern (no try/catch)
#
# Categories:
# - Core: create_pipeline, pipeline_from_functions, add_step
# - Composition: compose_pipelines, chain_pipelines
# - Execution: run_pipeline, run_with_error_handling
# - Transformations: map_step, filter_step, reduce_step, flat_map_step
# - Branching: branch_step, conditional_step, switch_step
# - Error Handling: try_step, catch_step, fallback_step
# - Utilities: tap_step, each_step, batch_step, debatch_step
# - Callbacks: create_callback_chain, promise_pattern
# - Inspection: pipeline_length, pipeline_steps, describe_pipeline

# ============================================================================
# Imports
# ============================================================================

from types import create_pipeline, pipeline_from_functions
from create import add_step, add_steps, compose_pipelines, chain_pipelines
from transform import map_step, filter_step, reduce_step, flat_map_step
from transform import transform_step, validate_step, accumulate_step
from branch import branch_step, conditional_step, switch_step
from branch import parallel_branch, merge_results, fork_join_step
from branch import try_step, catch_step, fallback_step, recover_step, retry_step
from combine import run_pipeline, run_with_error_handling, run_pipeline_safe
from combine import create_etl_pipeline, extract_step, transform_etl_step, load_step
from combine import create_callback_chain, add_callback, run_callbacks
from combine import create_promise, resolve_promise, then_promise, catch_promise
from utilities import tap_step, each_step, batch_step, debatch_step
from utilities import throttle_step, debounce_step
from utilities import cache_step, memoize_step, log_step
from utilities import pipeline_length, pipeline_steps, describe_pipeline

# ============================================================================
# Exports
# ============================================================================

export create_pipeline, pipeline_from_functions, add_step
export compose_pipelines, chain_pipelines, add_steps
export run_pipeline, run_with_error_handling, run_pipeline_safe
export map_step, filter_step, reduce_step, flat_map_step
export branch_step, conditional_step, switch_step
export try_step, catch_step, fallback_step, recover_step
export tap_step, each_step, batch_step, debatch_step
export transform_step, validate_step, accumulate_step
export create_callback_chain, add_callback, run_callbacks
export create_promise, resolve_promise, then_promise, catch_promise
export pipeline_length, pipeline_steps, describe_pipeline
export create_etl_pipeline, extract_step, transform_etl_step, load_step
export parallel_branch, merge_results, fork_join_step
export throttle_step, debounce_step, retry_step
export cache_step, memoize_step, log_step
