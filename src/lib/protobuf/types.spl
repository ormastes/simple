# Protocol Buffers Type Definitions

# ==============================================================================
# Wire Type Constants
# ==============================================================================

fn WIRE_TYPE_VARINT() -> i64: 0
fn WIRE_TYPE_FIXED64() -> i64: 1
fn WIRE_TYPE_LENGTH_DELIMITED() -> i64: 2
fn WIRE_TYPE_START_GROUP() -> i64: 3  # Deprecated
fn WIRE_TYPE_END_GROUP() -> i64: 4    # Deprecated
fn WIRE_TYPE_FIXED32() -> i64: 5

# ==============================================================================
# String/Bytes Conversion Helpers
# ==============================================================================

# Convert string to byte list (ASCII/UTF-8)
fn string_to_bytes(s: text) -> list:
    var result = []
    var i = 0
    var len = s.length()
    loop:
        if i >= len:
            break
        var char_code = s.char_at(i).ord()
        result = result + [char_code]
        i = i + 1
    result

# Convert byte list to string
fn bytes_to_string(bytes: list) -> text:
    var result = ""
    var i = 0
    var len = bytes.length()
    loop:
        if i >= len:
            break
        var byte_val = bytes[i]
        var char = byte_val.chr()
        result = result + char
        i = i + 1
    result

# Create field tuple
fn make_field(field_number: i64, wire_type: i64, value: any) -> any:
    (field_number, wire_type, value)
