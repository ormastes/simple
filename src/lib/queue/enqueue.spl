# Queue Enqueue Operations
#
# Functions for adding elements to queues

# Add item to the back of the queue
fn queue_enqueue(queue, item):
    queue.items.push(item)

# Push item onto the top of the stack
fn stack_push(stack, item):
    stack.items.push(item)

# Add item to the front of the deque
fn deque_push_front(deque, item):
    var new_items = [item]
    for elem in deque.items:
        new_items.push(elem)
    deque.items = new_items

# Add item to the back of the deque
fn deque_push_back(deque, item):
    deque.items.push(item)

# Insert item with given priority
fn pqueue_insert(pqueue, priority, value):
    pqueue.items.push((priority, value))

# Write item to circular buffer
fn cbuffer_write(cbuffer, item):
    if cbuffer.items.len() < cbuffer.capacity:
        cbuffer.items.push(item)
        cbuffer.tail = cbuffer.items.len()
        if cbuffer.tail == cbuffer.capacity:
            cbuffer.full = true
    else:
        cbuffer.items[cbuffer.tail] = item
        cbuffer.tail = (cbuffer.tail + 1) % cbuffer.capacity
        if cbuffer.full:
            cbuffer.head = cbuffer.tail

export queue_enqueue
export stack_push
export deque_push_front
export deque_push_back
export pqueue_insert
export cbuffer_write
