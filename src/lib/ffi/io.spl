# FFI - I/O Operations
# Centralized file, directory, and path FFI wrappers

# ============================================================================
# File Operations
# ============================================================================

# --- File Existence and Metadata ---

extern fn rt_file_exists(path: text) -> bool

fn file_exists(path: text) -> bool:
    rt_file_exists(path)

extern fn rt_file_size(path: text) -> i64

fn file_size(path: text) -> i64:
    rt_file_size(path)

extern fn rt_file_modified(path: text) -> i64

fn file_modified(path: text) -> i64:
    rt_file_modified(path)

extern fn rt_file_modified_time(path: text) -> i64

fn file_modified_time(path: text) -> i64:
    rt_file_modified_time(path)

# --- File Reading ---

extern fn rt_file_read_text(path: text) -> text

fn file_read_text(path: text) -> text:
    rt_file_read_text(path)

fn file_read(path: text) -> text:
    rt_file_read_text(path)

extern fn rt_file_read_bytes(path: text) -> [u8]

fn file_read_bytes(path: text) -> [u8]:
    rt_file_read_bytes(path)

extern fn rt_file_read_lines(path: text) -> [text]

fn file_read_lines(path: text) -> [text]:
    rt_file_read_lines(path)

# --- File Writing ---

extern fn rt_file_write_text(path: text, content: text) -> bool
extern fn rt_write_file(path: text, content: text) -> bool

fn file_write_text(path: text, content: text) -> bool:
    rt_file_write_text(path, content)

fn file_write(path: text, content: text) -> bool:
    rt_file_write_text(path, content)

extern fn rt_file_write_bytes(path: text, data: [u8]) -> bool

fn file_write_bytes(path: text, data: [u8]) -> bool:
    rt_file_write_bytes(path, data)

extern fn rt_file_append_text(path: text, content: text) -> bool

fn file_append_text(path: text, content: text) -> bool:
    rt_file_append_text(path, content)

extern fn rt_file_atomic_write(path: text, content: text) -> bool

fn file_atomic_write(path: text, content: text) -> bool:
    rt_file_atomic_write(path, content)

# --- File Operations ---

extern fn rt_file_copy(src: text, dst: text) -> bool

fn file_copy(src: text, dst: text) -> bool:
    rt_file_copy(src, dst)

extern fn rt_file_move(src: text, dst: text) -> bool

fn file_move(src: text, dst: text) -> bool:
    rt_file_move(src, dst)

extern fn rt_file_delete(path: text) -> bool

fn file_delete(path: text) -> bool:
    rt_file_delete(path)

fn file_remove(path: text) -> bool:
    rt_file_delete(path)

# --- File Hashing ---

extern fn rt_file_hash(path: text) -> text

fn file_hash(path: text) -> text:
    rt_file_hash(path)

extern fn rt_file_hash_sha256(path: text) -> text

fn file_hash_sha256(path: text) -> text:
    rt_file_hash_sha256(path)

# --- File Locking ---

extern fn rt_file_lock(path: text, timeout_secs: i64) -> i64

fn file_lock(path: text, timeout_secs: i64) -> i64:
    rt_file_lock(path, timeout_secs)

extern fn rt_file_unlock(fd: i64) -> bool

fn file_unlock(fd: i64) -> bool:
    rt_file_unlock(fd)

# --- Memory-Mapped Files ---

extern fn rt_file_mmap_read_text(path: text) -> text

fn file_mmap_read_text(path: text) -> text:
    rt_file_mmap_read_text(path)

extern fn rt_file_mmap_read_bytes(path: text) -> [i64]

fn file_mmap_read_bytes(path: text) -> [i64]:
    rt_file_mmap_read_bytes(path)

# ============================================================================
# Directory Operations
# ============================================================================

# --- Directory Existence and Listing ---

extern fn rt_dir_exists(path: text) -> bool

fn dir_exists(path: text) -> bool:
    rt_dir_exists(path)

extern fn rt_dir_list(path: text) -> [text]

fn dir_list(path: text) -> [text]:
    rt_dir_list(path)

extern fn rt_dir_walk(path: text) -> [text]

fn dir_walk(path: text) -> [text]:
    rt_dir_walk(path)

extern fn rt_list_dir_recursive(path: text, ext: text) -> [text]

fn list_dir_recursive(path: text, ext: text) -> [text]:
    rt_list_dir_recursive(path, ext)

# --- Directory Creation ---

extern fn rt_dir_create(path: text, recursive: bool) -> bool

fn dir_create(path: text, recursive: bool) -> bool:
    rt_dir_create(path, recursive)

extern fn rt_dir_create_all(path: text) -> bool

fn dir_create_all(path: text) -> bool:
    rt_dir_create_all(path)

# --- Directory Removal ---

extern fn rt_dir_remove(path: text, recursive: bool) -> bool

fn dir_remove(path: text, recursive: bool) -> bool:
    rt_dir_remove(path, recursive)

extern fn rt_dir_remove_all(path: text) -> bool

fn dir_remove_all(path: text) -> bool:
    rt_dir_remove_all(path)

# ============================================================================
# Path Operations
# ============================================================================

extern fn rt_path_join(a: text, b: text) -> text

fn path_join(a: text, b: text) -> text:
    rt_path_join(a, b)

extern fn rt_path_absolute(path: text) -> text

fn path_absolute(path: text) -> text:
    rt_path_absolute(path)

extern fn rt_path_parent(path: text) -> text

fn path_parent(path: text) -> text:
    rt_path_parent(path)

extern fn rt_path_filename(path: text) -> text

fn path_filename(path: text) -> text:
    rt_path_filename(path)

extern fn rt_path_extension(path: text) -> text

fn path_extension(path: text) -> text:
    rt_path_extension(path)

extern fn rt_path_normalize(path: text) -> text

fn path_normalize(path: text) -> text:
    rt_path_normalize(path)
