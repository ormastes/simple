# Benchmark Measurement and Timing

use app.io.time_ops (time_now_nanos)

# ============================================================================
# Timing Infrastructure
# ============================================================================

fn get_timestamp() -> i64:
    time_now_nanos()

fn time_function(fn_to_time) -> i64:
    val start = get_timestamp()
    fn_to_time()
    val end_val = get_timestamp()
    end_val - start

fn time_iterations(fn_to_time, iterations: i64):
    var timings = []
    var i = 0
    while i < iterations:
        val elapsed = time_function(fn_to_time)
        timings.push(elapsed)
        i = i + 1
    timings
