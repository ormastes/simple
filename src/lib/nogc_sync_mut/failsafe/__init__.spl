# Fail-Safe Framework
#
# Comprehensive fail-safe framework for crash prevention,
# rate limiting, circuit breaker patterns, and resource monitoring.
#
# Usage:
#   from std.failsafe import {FailSafeContext, FailSafeResult}
#   from std.failsafe.core import {FailSafeError, ErrorCategory}

#[allow(primitive_api)]

from core import {
    ErrorSeverity,
    ErrorCategory,
    FailSafeError,
    FailSafeResult,
    HealthStatus,
    Counter,
    Gauge,
    MetricsRegistry,
    LogLevel,
    ConsoleLogger
}

from panic import {
    PanicInfo,
    PanicHandler,
    safe_div,
    safe_get,
    soft_assert,
    assert_some,
    with_fallback,
    with_default
}

from ratelimit import {
    RateLimitConfig,
    TokenBucket,
    RateLimitDecision,
    RateLimiter,
    RateLimitStats,
    rate_limit_check
}

from circuit import {
    CircuitState,
    CircuitBreakerConfig,
    CircuitBreaker,
    CircuitBreakerStats,
    execute_with_circuit_breaker,
    execute_with_fallback,
    CircuitBreakerRegistry
}

from timeout import {
    TimeoutConfig,
    TimeoutToken,
    TimeoutManager,
    TimeoutStats,
    Deadline
}

from resource_monitor import {
    ResourceType,
    AlertLevel,
    ResourceUsage,
    ResourceLimits,
    ResourceAlert,
    ResourceMonitor,
    ResourceMonitorStats
}

from mod import {
    FailSafeContext,
    McpFailSafeConfig,
    LspFailSafeConfig,
    DapFailSafeConfig,
    create_mcp_context,
    create_lsp_context,
    create_dap_context
}

export ErrorSeverity, ErrorCategory, FailSafeError, FailSafeResult
export HealthStatus, Counter, Gauge, MetricsRegistry
export LogLevel, ConsoleLogger
export PanicInfo, PanicHandler
export safe_div, safe_get, soft_assert, assert_some, with_fallback, with_default
export RateLimitConfig, TokenBucket, RateLimitDecision, RateLimiter, RateLimitStats, rate_limit_check
export CircuitState, CircuitBreakerConfig, CircuitBreaker, CircuitBreakerStats
export execute_with_circuit_breaker, execute_with_fallback, CircuitBreakerRegistry
export TimeoutConfig, TimeoutToken, TimeoutManager, TimeoutStats, Deadline
export ResourceType, AlertLevel, ResourceUsage, ResourceLimits, ResourceAlert, ResourceMonitor, ResourceMonitorStats
export FailSafeContext, McpFailSafeConfig, LspFailSafeConfig, DapFailSafeConfig
export create_mcp_context, create_lsp_context, create_dap_context
