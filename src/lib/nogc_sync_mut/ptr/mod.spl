# Pointer Library
# @tag:api
#
# Provides safe pointer types with runtime checking:
# - Handle: Slot table with generation counters for safe reusable references
# - UniquePtr: Move-tracking wrapper for exclusive ownership
# - WeakRef: Non-owning references with liveness tracking
#
# All pointer types use a cooperative model â€” users call checking
# functions explicitly. No compiler instrumentation required.
#
# Usage:
#     use std.ptr.handle.{handle_pool_new, handle_alloc, handle_deref, handle_free}
#     use std.ptr.unique.{unique_new, unique_get, unique_move}
#     use std.ptr.weak.{weak_register, weak_create, weak_upgrade}

use types.{PtrState, ptr_state, ptr_state_valid, ptr_state_moved, ptr_state_expired}
use handle.{Handle, handle_pool_new, handle_pool_reset, handle_alloc, handle_deref, handle_is_valid, handle_free, handle_pool_size, handle_pool_capacity}
use unique.{UniquePtr, unique_new, unique_reset, unique_get, unique_is_valid, unique_move, unique_invalidate, unique_into_inner}
use weak.{WeakRef, weak_register, weak_reset, weak_create, weak_upgrade, weak_is_alive, weak_invalidate, weak_add_strong, weak_remove_strong, weak_strong_count}

export PtrState, ptr_state, ptr_state_valid, ptr_state_moved, ptr_state_expired
export Handle, handle_pool_new, handle_pool_reset, handle_alloc, handle_deref, handle_is_valid, handle_free, handle_pool_size, handle_pool_capacity
export UniquePtr, unique_new, unique_reset, unique_get, unique_is_valid, unique_move, unique_invalidate, unique_into_inner
export WeakRef, weak_register, weak_reset, weak_create, weak_upgrade, weak_is_alive, weak_invalidate, weak_add_strong, weak_remove_strong, weak_strong_count
