# Base Encoding Utilities Module - Facade
#
# Comprehensive module for Base16/32/64/85 encoding schemes.
# Provides encoding, decoding, validation, and utility functions
# for multiple base encoding formats.
#
# FEATURES:
# - Base16 (Hex): Standard hexadecimal encoding with uppercase/lowercase
# - Base32: RFC 4648 standard and extended hex variants
# - Base64: RFC 4648 standard, URL-safe variant, with/without padding
# - Base85 (Ascii85): Adobe and RFC 1924 (btoa) variants
# - Encoding: Convert bytes to encoded strings
# - Decoding: Convert encoded strings to bytes (Option/nil pattern)
# - Validation: Check valid encoded strings
# - Padding: Add/remove/validate padding characters
# - Alphabets: Standard, URL-safe, and custom alphabet support
# - Line breaking: Optional line wrapping at specified length
# - Utilities: Alphabet validation, calculate output size
#
# IMPLEMENTATION NOTES:
# - Pure Simple implementation (no FFI)
# - No generics at runtime (uses concrete types)
# - No try/catch/throw (uses Option/nil pattern for errors)
# - No chained method calls (uses intermediate variables)
# - Byte arrays represented as i64 lists
# - All functions are pure and stateless

use string.{char_from_code}

# Re-export types and constants
use base_encoding.types.{
    BASE64_STD_ALPHABET, BASE64_URL_ALPHABET,
    BASE32_STD_ALPHABET, BASE32_HEX_ALPHABET,
    BASE16_LOWER_ALPHABET, BASE16_UPPER_ALPHABET,
    BASE85_ADOBE_ALPHABET, BASE85_RFC1924_ALPHABET,
    PADDING_CHAR, char_code,
    get_base16_lower_alphabet, get_base16_upper_alphabet,
    get_base32_std_alphabet, get_base32_hex_alphabet,
    get_base64_std_alphabet, get_base64_url_alphabet,
    get_base85_adobe_alphabet, get_base85_rfc1924_alphabet,
    get_padding_char
}

# Re-export utilities
use base_encoding.utilities.{
    text_char_at, text_length, text_contains, text_concat, text_split_at,
    bytes_new, bytes_push, bytes_get, bytes_length, bytes_slice,
    text_to_bytes, bytes_to_text,
    alphabet_char_at, alphabet_find_index, alphabet_validate, alphabet_length,
    padding_add, padding_remove, padding_count, padding_validate,
    whitespace_strip, whitespace_is_char,
    line_wrap, line_unwrap, line_count,
    power_of_2, power_of_85, min_i64, max_i64,
    base16_encoded_size, base16_decoded_size,
    base32_encoded_size, base32_decoded_size,
    base64_encoded_size, base64_decoded_size,
    base85_encoded_size, base85_decoded_size
}

# Re-export Base16 functions
use base_encoding.base16.{
    base16_encode, base16_encode_lower, base16_encode_upper,
    base16_encode_with_alphabet, base16_decode,
    hex_char_to_value, base16_validate
}

# Re-export Base32 functions
use base_encoding.base32.{
    base32_encode, base32_encode_no_pad,
    base32_encode_hex, base32_encode_hex_no_pad,
    base32_encode_with_config, base32_decode,
    base32_decode_hex, base32_decode_with_alphabet,
    base32_validate, base32_validate_hex,
    base32_validate_with_alphabet
}

# Re-export Base64 functions
use base_encoding.base64.{
    base64_encode, base64_encode_no_pad,
    base64_encode_url, base64_encode_url_no_pad,
    base64_encode_with_config, base64_decode,
    base64_decode_url, base64_decode_with_alphabet,
    base64_validate, base64_validate_url,
    base64_validate_with_alphabet
}

# Re-export Base85 functions
use base_encoding.ascii85.{
    base85_encode, base85_encode_adobe, base85_encode_rfc1924,
    base85_encode_value, base85_decode, base85_decode_adobe,
    base85_decode_rfc1924, base85_decode_value,
    base85_validate_adobe, base85_validate_rfc1924
}

# ============================================================================
# CONVERSION UTILITIES
# ============================================================================

fn text_encode_base16(s: text) -> text:
    """Encode text to Base16 (hex)."""
    var bytes = text_to_bytes(s)
    base16_encode(bytes)

fn text_decode_base16(encoded: text) -> text:
    """Decode Base16 (hex) to text."""
    var bytes = base16_decode(encoded)
    bytes_to_text(bytes)

fn text_encode_base32(s: text) -> text:
    """Encode text to Base32."""
    var bytes = text_to_bytes(s)
    base32_encode(bytes)

fn text_decode_base32(encoded: text) -> text:
    """Decode Base32 to text."""
    var bytes = base32_decode(encoded)
    bytes_to_text(bytes)

fn text_encode_base64(s: text) -> text:
    """Encode text to Base64."""
    var bytes = text_to_bytes(s)
    base64_encode(bytes)

fn text_decode_base64(encoded: text) -> text:
    """Decode Base64 to text."""
    var bytes = base64_decode(encoded)
    bytes_to_text(bytes)

fn text_encode_base85(s: text) -> text:
    """Encode text to Base85 Adobe."""
    var bytes = text_to_bytes(s)
    base85_encode_adobe(bytes)

fn text_decode_base85(encoded: text) -> text:
    """Decode Base85 Adobe to text."""
    var bytes = base85_decode_adobe(encoded)
    bytes_to_text(bytes)
