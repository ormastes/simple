"""
# I/O Types

Shared types for I/O operations: modes, interest flags, ready state, events.

## IoMode

```simple
val mode = IoMode.ReadWrite
```

## Interest Flags

```simple
val interest = Interest.ReadWrite
```

## IoEvent

```simple
val event = IoEvent(fd: 5, ready: Interest.Read)
expect event.fd == 5
```
"""

# ============================================================================
# IoMode - General I/O Mode
# ============================================================================

enum IoMode:
    """General I/O access mode.

    ```simple
    val r = IoMode.ReadOnly
    val w = IoMode.WriteOnly
    val rw = IoMode.ReadWrite
    ```
    """
    ReadOnly
    WriteOnly
    ReadWrite

# ============================================================================
# Interest - Event Loop Interest Flags
# ============================================================================

enum Interest:
    """What events to monitor on a file descriptor.

    Used by EventLoop.register() to specify which I/O events
    should wake a task.

    ```simple
    val read_interest = Interest.Read
    val write_interest = Interest.Write
    val both = Interest.ReadWrite
    ```
    """
    Read
    Write
    ReadWrite

# ============================================================================
# ReadyState - I/O Readiness
# ============================================================================

enum ReadyState:
    """Readiness state of an I/O resource.

    Returned by event loop polling.

    ```simple
    val state = ReadyState.Readable
    ```
    """
    Readable
    Writable
    ReadWritable
    Error
    Closed

# ============================================================================
# IoEvent - Event Loop Event
# ============================================================================

struct IoEvent:
    """An I/O event from the event loop.

    Returned by EventLoop.poll().

    ```simple
    val event = IoEvent(fd: 42, ready: Interest.Read)
    expect event.fd == 42
    ```
    """
    fd: i64
    ready: Interest

# ============================================================================
# Exports
# ============================================================================

export IoMode
export Interest
export ReadyState
export IoEvent
