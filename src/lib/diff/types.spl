# Diff Types Module
# Data structures and type constructors for diff operations

# ============================================================================
# CHANGE TYPES
# ============================================================================

# Change operation: (op: text, content: text, old_line: i64, new_line: i64)
# op can be: "add", "delete", "equal", "change"
fn create_change(op: text, content: text, old_line: i64, new_line: i64):
    (op: op, content: content, old_line: old_line, new_line: new_line)

fn create_add(content: text, new_line: i64):
    create_change("add", content, -1, new_line)

fn create_delete(content: text, old_line: i64):
    create_change("delete", content, old_line, -1)

fn create_equal(content: text, old_line: i64, new_line: i64):
    create_change("equal", content, old_line, new_line)

fn create_modify(old_content: text, new_content: text, old_line: i64, new_line: i64):
    (op: "change", old_content: old_content, new_content: new_content,
     old_line: old_line, new_line: new_line)

# ============================================================================
# HUNK AND PATCH TYPES
# ============================================================================

# Hunk: (type: text, changes: list, old_start: i64, old_count: i64, new_start: i64, new_count: i64)
fn create_hunk(changes: list, old_start: i64, old_count: i64, new_start: i64, new_count: i64):
    (type: "hunk", changes: changes, old_start: old_start, old_count: old_count,
     new_start: new_start, new_count: new_count)

# Patch: (type: text, file_old: text, file_new: text, hunks: list)
fn create_patch(file_old: text, file_new: text, hunks: list):
    (type: "patch", file_old: file_old, file_new: file_new, hunks: hunks)

# ============================================================================
# EDIT OPERATION TYPE
# ============================================================================

# Edit operation: (op: text, pos: i64, char: text)
fn create_edit(op: text, pos: i64, char: text):
    (op: op, pos: pos, char: char)

# ============================================================================
# STATISTICS TYPE
# ============================================================================

# DiffStats: (additions: i64, deletions: i64, changes: i64, equals: i64)
fn create_diff_stats(additions: i64, deletions: i64, changes: i64, equals: i64):
    (additions: additions, deletions: deletions, changes: changes, equals: equals)

# ============================================================================
# DIFF OPTIONS TYPE
# ============================================================================

fn create_diff_options(ignore_whitespace: i64, ignore_case: i64, algorithm: text, context: i64):
    # Create diff options tuple
    (ignore_whitespace: ignore_whitespace, ignore_case: ignore_case,
     algorithm: algorithm, context: context)
