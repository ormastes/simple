# Resource Limits for Test Execution
# Provides resource constraints for test execution (memory, CPU, time limits)

class ResourceLimits:
    memory_mb: Option<i32>
    cpu_seconds: Option<i32>
    timeout_seconds: Option<i32>
    max_fds: Option<i32>
    max_threads: Option<i32>

impl ResourceLimits:
    fn new() -> ResourceLimits:
        return ResourceLimits(nil, nil, nil, nil, nil)

    me with_memory_mb(mb: i32) -> ResourceLimits:
        self.memory_mb = Some(mb)
        return self

    me with_cpu_seconds(seconds: i32) -> ResourceLimits:
        self.cpu_seconds = Some(seconds)
        return self

    me with_timeout(seconds: i32) -> ResourceLimits:
        self.timeout_seconds = Some(seconds)
        return self

    me with_max_fds(count: i32) -> ResourceLimits:
        self.max_fds = Some(count)
        return self

    me with_max_threads(count: i32) -> ResourceLimits:
        self.max_threads = Some(count)
        return self

    fn has_any_limit() -> bool:
        if self.memory_mb.is_some():
            return true
        if self.cpu_seconds.is_some():
            return true
        if self.timeout_seconds.is_some():
            return true
        if self.max_fds.is_some():
            return true
        if self.max_threads.is_some():
            return true
        return false

    fn apply():
        pass

export ResourceLimits
