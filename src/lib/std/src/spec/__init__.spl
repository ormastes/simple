# BDD Spec Framework - Main Entry Point
# Provides RSpec-style testing DSL for Simple
#
# Features:
# - TEST-010: shared_examples for reusable example groups
# - TEST-011: it_behaves_like to include shared examples
# - TEST-012: val/let_lazy memoization for per-example state

# Core DSL
pub use describe, context, it, skip, skip_it, slow_it, ignore_it from dsl
pub use before_each, after_each, before_all, after_all from dsl

# Progress Reporting (for long-running tests)
pub use progress, progress_pct, progress_step from progress

# Shared Examples (TEST-010, TEST-011)
pub use shared_examples, it_behaves_like, include_examples from dsl

# Context Sharing (reusable contexts with given fixtures)
pub use context_def, context_compose from dsl
pub use given, given_lazy, then from dsl

# Let Memoization (TEST-012)
# - let_lazy: true lazy memoization, evaluated on first access
# - get_let/has_let: access memoized values
pub use let_lazy, get_let, has_let from dsl

# Expectations
pub use expect, expect_raises from expect

# Matchers
pub use eq, be, be_nil from matchers.core
pub use EqMatcher, BeMatcher, BeNilMatcher from matchers.core
pub use be_true, be_false, be_truthy, be_falsy from matchers.boolean
pub use BeTrueMatcher, BeFalseMatcher, BeTruthyMatcher, BeFalsyMatcher from matchers.boolean
pub use gt, lt, gte, lte from matchers.comparison
pub use include, be_empty, have_length, have_size from matchers.collection
pub use include_string, start_with, end_with, be_blank from matchers.string
pub use raise_error from matchers.error
pub use be_instance_of, be_a, be_an, be_option, be_result from matchers.type
pub use BeInstanceOfMatcher, BeOptionMatcher, BeResultMatcher from matchers.type

# Runner (for CLI)
pub use run_specs from runner.cli

# Configuration
pub use tag_default, timeout_default from runtime

# Mocking (test doubles)
pub use Mock, Spy, Stub, mock, spy, stub from mock
pub use CallInfo, CallRecorder, CallVerifier from mock
pub use MethodStub, VerifyCount from mock
pub use ArgMatcher, any, exact, gt, lt, gte, lte, in_range, matching, type_of from mock
pub use matches_arg from mock
pub use MockMode, MockPolicy from mock
# Mock policy functions (direct access, avoids class static method scoping issues)
pub use mock_policy_init, mock_policy_init_with_patterns, mock_policy_init_hal_only from mock
pub use mock_policy_disable, mock_policy_reset, mock_policy_check_allowed from mock
pub use mock_policy_matches_hal_pattern, mock_policy_matches_any_pattern from mock
pub use mock_policy_pattern_matches, mock_policy_is_enabled, mock_policy_current_mode from mock

# Advanced: Direct access to memoization runtime
pub use MemoizedValue from runtime
pub use set_memoized, get_memoized, has_memoized from runtime

# Advanced: Direct access to registry types
pub use SharedExampleDefinition from registry
pub use register_shared_examples, get_shared_examples from registry

# Documentation Formatters (Living Documentation)
pub use format_spec_to_html from formatter.html
pub use format_spec_to_markdown from formatter.markdown
pub use HtmlFormatter, MarkdownFormatter from formatter

# Architecture Testing (#942-#943)
pub use Layer, LayerRef, Architecture, Violation, ArchCheckResult from arch
pub use layer, no_mock_in_production, no_layer_cycles, no_skip_layer from arch
pub use arch_test, layers from arch

# Gherkin-Style System Test DSL (#606-#610)
# BDD-style feature/scenario/given/when/then for natural language tests
pub use feature, scenario, scenario_outline from gherkin
pub use given, when, then, and_then from gherkin
pub use examples, get_examples, get_examples_headers, get_examples_data from gherkin
pub use get_var, set_var from gherkin
pub use define_given, define_when, define_then from gherkin
pub use run_scenario_outline_with_examples from gherkin
pub use StepKind, StepDefinition, ScenarioContext from gherkin

# Feature Documentation Generation
# BDD-driven feature documentation with auto-generated markdown
pub use FeatureMetadata, FeatureRegistry from feature_doc
pub use feature_metadata from feature_doc
pub use {
    get_global_registry,
    register_feature,
    get_feature,
    get_features_by_category,
    get_all_features,
    get_all_categories,
    clear_feature_registry
} from feature_doc
pub use generate_feature_doc, generate_category_docs, generate_all_docs from feature_doc
pub use write_feature_docs from feature_doc

# Multi-Mode Test Execution (#2050-#2054)
# Execute tests across interpreter, JIT, and compiled (SMF) modes
pub use ExecutionMode, ModeSet from execution_mode
pub use mode_to_string, string_to_mode from execution_mode
pub use is_mode_available, get_available_modes from execution_mode

pub use FailureStrategy, ModeConfig from mode_config
pub use ProjectConfig, DirectoryConfig, FileConfig from mode_config
pub use ConfigLevel, ConfigSource from mode_config
pub use string_to_failure_strategy, failure_strategy_to_string from mode_config
pub use parse_mode_list from mode_config

pub use TestResult, TestStatus, ModeExecutionResult from mode_runner
pub use ModeRunner, run_in_modes from mode_runner

pub use parse_sdn_config, parse_toml_test_config from mode_config_parser
pub use parse_file_attributes, ConfigHierarchy from mode_config_parser
pub use discover_project_config, discover_directory_config from mode_config_parser

pub use ModeReporter, PerformanceComparison, ModeTiming from mode_reporter
pub use compare_performance, format_performance_table from mode_reporter
pub use format_mode_availability from mode_reporter

# Screenshot Capture for GUI Tests (@gui tag)
# Capture before/after screenshots for TUI, Vulkan, and terminal tests
pub use ScreenshotConfig, ScreenshotResult, ScreenshotMetadata from screenshot
pub use CaptureMode, ImageFormat from screenshot
pub use with_screenshot, with_screenshot_config from screenshot
pub use capture_before, capture_after, save_screenshots from screenshot
pub use screenshot_exists, get_screenshot_path, screenshot_markdown from screenshot
# FFI-based screenshot API (automatic runtime capture)
pub use enable_ffi_screenshots, disable_ffi_screenshots, is_ffi_screenshots_enabled from screenshot
pub use set_ffi_refresh, set_ffi_output_dir from screenshot
pub use set_ffi_test_context, clear_ffi_test_context from screenshot
pub use capture_before_ffi, capture_after_ffi from screenshot
pub use screenshot_exists_ffi, get_screenshot_path_ffi, clear_ffi_captures from screenshot
pub use CAPTURE_TYPE_BEFORE, CAPTURE_TYPE_AFTER, CAPTURE_TYPE_ON_CHANGE from screenshot

# Diagram Generation (Mermaid)
# Generate sequence, class, and architecture diagrams from test execution traces
pub use DiagramType, DiagramConfig from diagram
pub use CallType, CallEvent, CallEventRecorder from diagram
pub use set_recorder, get_recorder, clear_recorder from diagram
pub use trace_call, trace_method, trace_return, mark_architectural from diagram
pub use generate_sequence, generate_class_diagram, generate_arch_diagram from diagram
pub use with_sequence_diagram, with_all_diagrams, with_diagram from diagram
pub use save_diagram, diagram_exists, diagram_placeholder from diagram
# FFI-based diagram API (automatic runtime tracing)
pub use enable_ffi_recording, disable_ffi_recording, clear_ffi_recording from diagram
pub use generate_sequence_ffi, generate_class_ffi, generate_arch_ffi from diagram

# Diagram Integration (connects diagrams to test execution)
pub use enable_diagrams, enable_all_diagrams, disable_diagrams, is_diagram_enabled from diagram_integration
pub use set_diagram_output, set_test_context, clear_test_context from diagram_integration
pub use with_seq_diagram, with_class_diagram, with_arch_diagram, with_all_diagram_types from diagram_integration
pub use traced_it from diagram_integration
pub use generate_diagrams_for_spec, embed_diagrams_in_markdown, get_diagram_path from diagram_integration
