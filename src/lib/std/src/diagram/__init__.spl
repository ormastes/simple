# Diagram Generation Module
# Generates sequence, class, and architecture diagrams from test execution traces
#
# Features:
# - Call sequence recording with timestamps, args, return values
# - Mermaid format output for all diagram types
# - Include/exclude filtering with glob patterns
# - Per-test diagram generation
# - @architectural entity tagging support

mod diagram

# Core types and recorder
pub use CallType, CallEvent, StackFrame, CallEventRecorder from recorder
pub use get_recorder, set_recorder, clear_recorder from recorder
pub use record_call, record_method_call, record_return, record_ffi_call from recorder

# Filtering system
pub use FilterMode, FilterPattern, DiagramFilter from filter
pub use glob_to_regex, filter, include, exclude from filter

# Configuration
pub use DiagramTypes, OutputFormat, DiagramConfig from config
pub use parse_cli_config, get_config, set_config, clear_config from config

# Sequence diagram generator
pub use Participant, SequenceGenerator from sequence_gen
pub use create_alias, generate_sequence, generate_sequence_from_events, to_mermaid_sequence from sequence_gen

# Class diagram generator
pub use ClassInfo, ClassRelation, RelationType, ClassDiagramGenerator from class_gen
pub use generate_class_diagram, generate_class_from_events, to_mermaid_class from class_gen

# Architecture diagram generator
pub use ArchEntity, ArchLayer, ArchDiagramGenerator from arch_gen
pub use generate_arch_diagram, generate_arch_from_events, to_mermaid_arch, sanitize_id from arch_gen

# Test framework integration
pub use start_diagram_recording, stop_diagram_recording, generate_and_save_diagrams from integration
pub use get_current_recorder, is_recording from integration
pub use with_diagrams, with_sequence_diagram, with_class_diagram, with_arch_diagram, with_all_diagrams from integration
pub use seq_diagram_for, class_diagram_for, arch_diagram_for from integration
pub use mark_architectural, trace_call, trace_method, trace_return from integration
