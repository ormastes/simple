# Language Model Server (MCP) Module
# Implements Anthropic's Model Context Protocol

mod lms

# Child module declarations
pub mod server
pub mod session
pub mod workspace
pub mod error
pub mod protocol
pub mod transport
pub mod incremental
pub mod auth
pub mod sys

# Re-export public types and functions

# Server core
pub use LmsServer, ServerState from server

# Session and workspace
pub use Session from session
pub use WorkspaceManager, FileMetadata, FileStatus from workspace

# Error handling
pub use LmsError, to_json_rpc_code, to_message, error_response, success_response from error

# Protocol types
pub use ServerCapabilities, Tool, Resource, ClientInfo, ServerInfo from protocol

# Transport layer
pub use read_message, write_message, write_response, write_error, write_notification, log_debug, log_error from transport

# Incremental updates
pub use IncrementalUpdateManager, DocumentChange, TextEdit, ChangeBuffer from incremental

# Authentication & authorization
pub use AuthManager, User, Role, Permission, AuthMethod, ApiKey from auth
