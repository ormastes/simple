import core.regex

fn main():
    println("=== Regex Type Detection Tests ===\n")

    # Test 1: Single character literal
    println("Test 1: Single character 'a'")
    val p1 = Pattern.new("a")
    val r1a = p1.fullmatch("a") != nil
    val r1b = p1.fullmatch("b") != nil
    println("  Pattern.new('a').fullmatch('a'): {r1a}")
    println("  Pattern.new('a').fullmatch('b'): {r1b}")
    if r1a and (r1b == false):
        println("  ✓ PASS\n")
    else:
        println("  ✗ FAIL\n")

    # Test 2: Multi-character literal
    println("Test 2: Multi-character 'hello'")
    val p2 = Pattern.new("hello")
    val r2a = p2.fullmatch("hello") != nil
    val r2b = p2.fullmatch("world") != nil
    println("  Pattern.new('hello').fullmatch('hello'): {r2a}")
    println("  Pattern.new('hello').fullmatch('world'): {r2b}")
    if r2a and (r2b == false):
        println("  ✓ PASS\n")
    else:
        println("  ✗ FAIL\n")

    # Test 3: Alternation
    println("Test 3: Alternation 'cat|dog'")
    val p3 = Pattern.new("cat|dog")
    val r3a = p3.fullmatch("cat") != nil
    val r3b = p3.fullmatch("dog") != nil
    val r3c = p3.fullmatch("bird") != nil
    println("  Pattern.new('cat|dog').fullmatch('cat'): {r3a}")
    println("  Pattern.new('cat|dog').fullmatch('dog'): {r3b}")
    println("  Pattern.new('cat|dog').fullmatch('bird'): {r3c}")
    if r3a and r3b and (r3c == false):
        println("  ✓ PASS\n")
    else:
        println("  ✗ FAIL\n")

    println("=== Tests Complete ===")
