# Test Quality Execution
# Actually run quality checks (may take time)

use app.build.quality (
    Lint,
    Format,
    Check,
    print_quality_result
)

fn main():
    print "Testing Quality Execution"
    print "========================="
    print ""

    # Test 1: Format check (fast, read-only)
    print "Test 1: Format check (cargo fmt --check)"
    print "This checks if code is formatted without modifying files..."
    print ""

    val format_result = Format.check()
    print_quality_result("Format", format_result)

    if format_result.success:
        print "\n✓ Code is properly formatted"
    else:
        print "\n⚠ Code needs formatting"
        print "Run: simple build format-fix (or cargo fmt)"

    # Test 2: Quick check (format only for speed)
    print "\n\nTest 2: Quick quality check"
    print "Running format check only (lint takes longer)..."
    print ""

    var quick_check = Check.quick()
    print "\nCheck Result: {quick_check.summary()}"

    if quick_check.overall_success:
        print "✓ Quality checks passed!"
        return 0
    else:
        print "✗ Quality checks failed"
        print "\nNote: This is expected if code needs formatting or has lint issues"
        return 1
