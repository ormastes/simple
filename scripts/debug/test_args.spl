#!/usr/bin/env simple

use app.io.mod.{cli_get_args}

fn main():
    val args = cli_get_args()

    print "Total args: {args.len()}"
    var i = 0
    while i < args.len():
        print "  args[{i}] = '{args[i]}'"
        i = i + 1

    print ""
    print "cmd_args (starting from index 2):"
    var cmd_args = []
    i = 2
    while i < args.len():
        cmd_args = cmd_args + [args[i]]
        print "  cmd_args[{i-2}] = '{args[i]}'"
        i = i + 1

    val target_path = if cmd_args.len() > 0 and not cmd_args[0].starts_with("-"):
        cmd_args[0]
    else:
        "src/"

    print ""
    print "target_path = '{target_path}'"
