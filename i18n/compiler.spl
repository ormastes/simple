# English compiler error messages for the Simple compiler
# Error codes: E1xxx (semantic), E2xxx (codegen), E3xxx (runtime)

val messages = {
    # Semantic errors (E10xx)
    "E1001": {
        "id": "E1001",
        "title": "Undefined Variable",
        "message": "cannot find variable `{name}` in this scope",
        "label": "not found in this scope",
        "help": "check the spelling or declare the variable before use"
    },

    "E1002": {
        "id": "E1002",
        "title": "Undefined Function",
        "message": "cannot find function `{name}` in this scope",
        "label": "function not found",
        "help": "check if the function is defined and imported correctly"
    },

    "E1003": {
        "id": "E1003",
        "title": "Type Mismatch",
        "message": "expected type `{expected}`, found `{found}`",
        "label": "expected `{expected}`, found `{found}`",
        "note": "types must match exactly in this context"
    },

    "E1004": {
        "id": "E1004",
        "title": "Invalid Assignment",
        "message": "cannot assign to `{target}`",
        "label": "cannot assign to this expression",
        "help": "only variables and mutable fields can be assigned to"
    },

    "E1005": {
        "id": "E1005",
        "title": "Invalid Operation",
        "message": "cannot apply operator `{operator}` to type `{type}`",
        "label": "invalid operation",
        "help": "check the operator is supported for this type"
    },

    "E1006": {
        "id": "E1006",
        "title": "Invalid Pattern",
        "message": "invalid pattern: {message}",
        "label": "invalid pattern here"
    },

    "E1007": {
        "id": "E1007",
        "title": "Missing Field",
        "message": "struct `{struct_name}` does not have a field named `{field_name}`",
        "label": "unknown field",
        "help": "check the struct definition for available fields"
    },

    "E1008": {
        "id": "E1008",
        "title": "Duplicate Definition",
        "message": "`{name}` is defined multiple times",
        "label": "duplicate definition",
        "note": "previous definition was here"
    },

    "E1009": {
        "id": "E1009",
        "title": "Circular Dependency",
        "message": "circular dependency detected: {cycle}",
        "label": "circular dependency",
        "help": "reorganize your modules to remove the circular reference"
    },

    "E1010": {
        "id": "E1010",
        "title": "Module Not Found",
        "message": "module `{module}` not found",
        "label": "module not found",
        "help": "check the module path and ensure the file exists"
    },

    "E1011": {
        "id": "E1011",
        "title": "Cannot Assign to Constant",
        "message": "cannot assign to const `{name}`",
        "label": "cannot assign to this constant",
        "help": "use `var` instead of `val` to make it mutable"
    },

    "E1012": {
        "id": "E1012",
        "title": "Undefined Field",
        "message": "undefined field `{field}`",
        "label": "field not found",
        "help": "check the struct definition for available fields"
    },

    "E1013": {
        "id": "E1013",
        "title": "Unknown Method",
        "message": "unknown method `{method}` on type `{type}`",
        "label": "method not found on this type",
        "help": "{suggestion}"
    },

    "E1014": {
        "id": "E1014",
        "title": "Unknown Class",
        "message": "unknown class `{name}`",
        "label": "class not found",
        "help": "check if the class is defined and imported correctly"
    },

    "E1015": {
        "id": "E1015",
        "title": "Unknown Enum",
        "message": "unknown enum `{name}`",
        "label": "enum not found",
        "help": "check if the enum is defined and imported correctly"
    },

    "E1016": {
        "id": "E1016",
        "title": "Let Binding Failed",
        "message": "let binding `{name}` failed: {error}",
        "label": "binding failed here",
        "help": "check the initializer expression"
    },

    "E1017": {
        "id": "E1017",
        "title": "Impure Function in Contract",
        "message": "function `{name}` is impure and cannot be used in a contract",
        "label": "impure function",
        "help": "contracts can only call pure functions"
    },

    "E1018": {
        "id": "E1018",
        "title": "Effect Declaration Failed",
        "message": "effect declaration failed: {message}",
        "label": "invalid effect declaration",
        "help": "check the effect syntax and parameters"
    },

    # Control flow errors (E11xx)
    "E1101": {
        "id": "E1101",
        "title": "Break Outside Loop",
        "message": "`break` can only be used inside a loop",
        "label": "not in a loop",
        "help": "use `break` inside `for`, `while`, or `loop` statements"
    },

    "E1102": {
        "id": "E1102",
        "title": "Continue Outside Loop",
        "message": "`continue` can only be used inside a loop",
        "label": "not in a loop",
        "help": "use `continue` inside `for`, `while`, or `loop` statements"
    },

    "E1103": {
        "id": "E1103",
        "title": "Return Outside Function",
        "message": "`return` can only be used inside a function",
        "label": "not in a function",
        "help": "use `return` inside function bodies"
    },

    # Macro errors (E14xx)
    "E1401": {
        "id": "E1401",
        "title": "Undefined Macro",
        "message": "macro `{name}` is not defined",
        "label": "undefined macro",
        "help": "ensure the macro is defined before use"
    },

    "E1402": {
        "id": "E1402",
        "title": "Macro Used Before Definition",
        "message": "macro `{name}` used before it was defined",
        "label": "used before definition",
        "note": "macros must be defined before use in the same file"
    },

    # Codegen errors (E20xx)
    "E2001": {
        "id": "E2001",
        "title": "Unsupported Feature",
        "message": "feature `{feature}` is not supported in this context",
        "label": "unsupported feature",
        "help": "this feature may not be implemented yet or is unavailable in this mode"
    },

    "E2002": {
        "id": "E2002",
        "title": "FFI Error",
        "message": "FFI error: {message}",
        "label": "FFI error here",
        "help": "check the external function signature and calling convention"
    },

    "E2003": {
        "id": "E2003",
        "title": "Failed to Build Load",
        "message": "failed to build load instruction",
        "label": "codegen failed here",
        "help": "this is an internal compiler error, please report it"
    },

    "E2004": {
        "id": "E2004",
        "title": "Failed to Build Store",
        "message": "failed to build store instruction",
        "label": "codegen failed here",
        "help": "this is an internal compiler error, please report it"
    },

    "E2005": {
        "id": "E2005",
        "title": "Failed to Build Alloca",
        "message": "failed to build alloca instruction",
        "label": "codegen failed here",
        "help": "this is an internal compiler error, please report it"
    },

    "E2006": {
        "id": "E2006",
        "title": "Failed to Build Call",
        "message": "failed to build call instruction",
        "label": "codegen failed here",
        "help": "this is an internal compiler error, please report it"
    },

    "E2007": {
        "id": "E2007",
        "title": "Failed to Cast",
        "message": "failed to cast from `{from_type}` to `{to_type}`",
        "label": "invalid cast",
        "help": "check if the types are compatible for this cast"
    },

    "E2008": {
        "id": "E2008",
        "title": "Failed to Build GEP",
        "message": "failed to build getelementptr instruction",
        "label": "codegen failed here",
        "help": "this is an internal compiler error, please report it"
    },

    "E2009": {
        "id": "E2009",
        "title": "Unsupported Return Type",
        "message": "unsupported return type `{type}`",
        "label": "unsupported type",
        "help": "this type cannot be returned from functions yet"
    },

    # Runtime errors (E30xx)
    "E3001": {
        "id": "E3001",
        "title": "Division by Zero",
        "message": "attempt to divide by zero",
        "label": "division by zero",
        "help": "ensure the divisor is not zero before division"
    },

    "E3002": {
        "id": "E3002",
        "title": "Index Out of Bounds",
        "message": "index {index} out of bounds for array of length {length}",
        "label": "index out of bounds",
        "help": "ensure the index is within the valid range [0, {length})"
    },

    "E3003": {
        "id": "E3003",
        "title": "Stack Overflow",
        "message": "stack overflow detected",
        "label": "stack overflow",
        "help": "reduce recursion depth or increase stack size"
    },

    "E3004": {
        "id": "E3004",
        "title": "Assertion Failed",
        "message": "assertion failed: {condition}",
        "label": "assertion failed here",
        "note": "{message}"
    },

    "E3005": {
        "id": "E3005",
        "title": "Timeout",
        "message": "operation timed out after {duration}",
        "label": "timeout",
        "help": "increase the timeout duration or optimize the operation"
    },

    "E3006": {
        "id": "E3006",
        "title": "Await Failed",
        "message": "await failed: {error}",
        "label": "await failed here",
        "help": "check the promise or async operation"
    },

    "E3007": {
        "id": "E3007",
        "title": "Promise Rejected",
        "message": "promise was rejected: {reason}",
        "label": "promise rejection",
        "help": "add error handling for promise rejections"
    },

    "E3008": {
        "id": "E3008",
        "title": "Function Not Found",
        "message": "function `{name}` not found",
        "label": "function not found at runtime",
        "help": "ensure the function is loaded and available"
    },

    "E3009": {
        "id": "E3009",
        "title": "Method Not Found",
        "message": "method `{method}` not found on type `{type}`",
        "label": "method not found at runtime",
        "help": "check if the method exists for this type"
    }
}

