# English verification error messages for the Simple compiler
# Error codes: V-AOP-xxx (AOP), V-MACRO-xxx (Macro), V-TERM-xxx (Termination),
#              V-UNSAFE-xxx (Unsafe), V-DEP-xxx (Dependency), V-INHERIT-xxx (Inheritance),
#              V-EFFECT-xxx (Effects), V-GHOST-xxx (Ghost), V-CONTRACT-xxx (Contracts),
#              M-INTRO-xxx (Macro introductions)

val messages = {
    # AOP constraint violations (V-AOP-xxx)
    "V-AOP-001": {
        "id": "V-AOP-001",
        "title": "Non-Ghost Aspect Targets Verified Code",
        "message": "non-ghost aspect targets verified join point",
        "label": "aspect targets verified code here",
        "help": "mark the aspect with `ghost` to allow it in verified context"
    },

    "V-AOP-002": {
        "id": "V-AOP-002",
        "title": "Wildcard in Verified Pointcut",
        "message": "verified pointcut uses wildcard pattern",
        "label": "wildcard pattern not allowed in verified context",
        "help": "use explicit pointcuts instead of wildcards for verified code"
    },

    "V-AOP-003": {
        "id": "V-AOP-003",
        "title": "Aspect Introduces Runtime in Verified Context",
        "message": "aspect introduces runtime member in verified context",
        "label": "runtime introduction not allowed here",
        "help": "only ghost introductions are allowed in verified context"
    },

    # Macro constraint violations (V-MACRO-xxx)
    "M-INTRO-001": {
        "id": "M-INTRO-001",
        "title": "Undeclared Macro Introduction",
        "message": "macro introduces symbols not declared in `introduces:` clause",
        "label": "undeclared introduction",
        "help": "add all introduced symbols to the `introduces:` clause"
    },

    "V-MACRO-001": {
        "id": "V-MACRO-001",
        "title": "Macro Introduces Public Item in Verified Context",
        "message": "macro introduces public item in verified context",
        "label": "public introduction not allowed",
        "help": "macros in verified context can only introduce private items"
    },

    "V-MACRO-002": {
        "id": "V-MACRO-002",
        "title": "Macro Introduces Global in Verified Context",
        "message": "macro introduces global variable in verified context",
        "label": "global variable introduction not allowed",
        "help": "use local variables instead of global state"
    },

    "V-MACRO-003": {
        "id": "V-MACRO-003",
        "title": "Macro Introduces Runtime in Verified Context",
        "message": "macro introduces runtime code in verified context",
        "label": "runtime introduction not allowed",
        "help": "macros in verified context can only introduce ghost code"
    },

    "V-MACRO-004": {
        "id": "V-MACRO-004",
        "title": "Macro-Generated AOP Violates Verification",
        "message": "macro-generated aspect violates verification rules",
        "label": "verification violation",
        "help": "ensure macro-generated aspects are marked ghost"
    },

    # Termination requirement violations (V-TERM-xxx)
    "V-TERM-001": {
        "id": "V-TERM-001",
        "title": "Missing Termination Proof",
        "message": "recursive function missing `decreases:` clause",
        "label": "termination proof required",
        "help": "add `decreases: <expr>` to prove termination"
    },

    "V-TERM-002": {
        "id": "V-TERM-002",
        "title": "Invalid Termination Argument",
        "message": "termination argument is not well-founded",
        "label": "not well-founded",
        "help": "ensure the decreases expression decreases on each recursive call"
    },

    # Unsafe code violations (V-UNSAFE-xxx)
    "V-UNSAFE-001": {
        "id": "V-UNSAFE-001",
        "title": "Unsafe Operation in Verified Context",
        "message": "unsafe operation in verified context",
        "label": "unsafe operation not allowed",
        "help": "remove unsafe operations or move to @trusted function"
    },

    "V-UNSAFE-002": {
        "id": "V-UNSAFE-002",
        "title": "Raw Pointer in Verified Context",
        "message": "raw pointer operation in verified context",
        "label": "raw pointer not allowed",
        "help": "use references instead of raw pointers"
    },

    "V-UNSAFE-003": {
        "id": "V-UNSAFE-003",
        "title": "FFI Call in Verified Context",
        "message": "FFI call in verified context",
        "label": "FFI not allowed in verified code",
        "help": "wrap FFI calls in @trusted functions"
    },

    # Dependency violations (V-DEP-xxx)
    "V-DEP-001": {
        "id": "V-DEP-001",
        "title": "Missing Trusted Boundary",
        "message": "verified code depends on unverified code without @trusted boundary",
        "label": "missing @trusted annotation",
        "help": "add @trusted annotation to the dependency or verify the dependency"
    },

    "V-DEP-002": {
        "id": "V-DEP-002",
        "title": "Circular Dependency in Verified Context",
        "message": "circular dependency in verification context",
        "label": "circular dependency detected",
        "help": "break the circular dependency using @trusted annotations"
    },

    # Inheritance violations (V-INHERIT-xxx)
    "V-INHERIT-001": {
        "id": "V-INHERIT-001",
        "title": "Verified Inheritance Opt-Out",
        "message": "opt-out from verified parent requires explicit @unsafe",
        "label": "missing @unsafe annotation",
        "help": "add @unsafe to explicitly opt out of verification"
    },

    "V-INHERIT-002": {
        "id": "V-INHERIT-002",
        "title": "Verified Extends Unverified",
        "message": "verified class cannot extend unverified class",
        "label": "extends unverified class",
        "help": "verify the parent class or use composition instead"
    },

    # Effect violations (V-EFFECT-xxx)
    "V-EFFECT-001": {
        "id": "V-EFFECT-001",
        "title": "IO in Verified Context",
        "message": "IO effect not allowed in verified context",
        "label": "IO operation not allowed",
        "help": "move IO operations to @trusted functions"
    },

    "V-EFFECT-002": {
        "id": "V-EFFECT-002",
        "title": "Reflection in Verified Context",
        "message": "reflection not allowed in verified context",
        "label": "reflection not allowed",
        "help": "use explicit types instead of reflection"
    },

    # Ghost code violations (V-GHOST-xxx)
    "V-GHOST-001": {
        "id": "V-GHOST-001",
        "title": "Ghost Accesses Non-Ghost State",
        "message": "ghost code cannot access non-ghost state",
        "label": "accessing non-ghost state",
        "help": "only access ghost variables and parameters in ghost code"
    },

    # Contract violations (V-CONTRACT-xxx)
    "V-CONTRACT-001": {
        "id": "V-CONTRACT-001",
        "title": "Contract Has Side Effects",
        "message": "contract expression must be pure (no side effects)",
        "label": "side effect in contract",
        "help": "ensure contract expressions only read state, don't modify it"
    }
}
