# Pure Character Classification Utilities
#
# Zero-dependency character classification functions.
# Used by lexers and parsers throughout the codebase.
#
# Usage:
#   use lib.pure.char_utils.{is_digit, is_alpha, is_whitespace, is_alnum}

export is_digit, is_alpha, is_alnum, is_whitespace
export is_identifier_start, is_identifier_char
export is_hex_digit, is_octal_digit, is_binary_digit
export is_upper, is_lower
export is_printable, is_ascii

# ============================================================================
# Basic Character Classification
# ============================================================================

# Check if character is a digit (0-9)
fn is_digit(ch: text) -> bool:
    ch >= "0" and ch <= "9"

# Check if character is alphabetic (a-z, A-Z)
fn is_alpha(ch: text) -> bool:
    (ch >= "a" and ch <= "z") or (ch >= "A" and ch <= "Z")

# Check if character is alphanumeric (a-z, A-Z, 0-9)
fn is_alnum(ch: text) -> bool:
    is_alpha(ch) or is_digit(ch)

# Check if character is whitespace
fn is_whitespace(ch: text) -> bool:
    ch == " " or ch == "\t" or ch == "\n" or ch == "\r"

# Check if character is uppercase (A-Z)
fn is_upper(ch: text) -> bool:
    ch >= "A" and ch <= "Z"

# Check if character is lowercase (a-z)
fn is_lower(ch: text) -> bool:
    ch >= "a" and ch <= "z"

# ============================================================================
# Identifier Classification (for lexers)
# ============================================================================

# Check if character can start an identifier (a-z, A-Z, _)
fn is_identifier_start(ch: text) -> bool:
    is_alpha(ch) or ch == "_"

# Check if character can be part of an identifier (a-z, A-Z, 0-9, _)
fn is_identifier_char(ch: text) -> bool:
    is_alnum(ch) or ch == "_"

# ============================================================================
# Number Classification (for lexers)
# ============================================================================

# Check if character is a hex digit (0-9, a-f, A-F)
fn is_hex_digit(ch: text) -> bool:
    is_digit(ch) or (ch >= "a" and ch <= "f") or (ch >= "A" and ch <= "F")

# Check if character is an octal digit (0-7)
fn is_octal_digit(ch: text) -> bool:
    ch >= "0" and ch <= "7"

# Check if character is a binary digit (0-1)
fn is_binary_digit(ch: text) -> bool:
    ch == "0" or ch == "1"

# ============================================================================
# ASCII Classification
# ============================================================================

# Check if character is printable ASCII (32-126)
fn is_printable(ch: text) -> bool:
    if ch.len() != 1:
        return false
    # Printable ASCII range: space (32) to tilde (126)
    ch >= " " and ch <= "~"

# Check if character is ASCII (0-127)
fn is_ascii(ch: text) -> bool:
    if ch.len() != 1:
        return false
    # All single-byte characters in range are ASCII
    # For now, assume all single chars are ASCII
    true
