# Package Management System
# Commands: build, install, uninstall, list, verify

fn main(args):
    val cmd = if args.length > 1: args[1] else: "help"

    match cmd:
        "build": PackageBuild.run(args[2:])
        "install": PackageInstall.run(args[2:])
        "uninstall": PackageUninstall.run(args[2:])
        "list": PackageList.run(args[2:])
        "verify": PackageVerify.run(args[2:])
        "upgrade": PackageUpgrade.run(args[2:])
        _: show_help()

fn show_help():
    print """
Simple Package Manager

Usage:
  simple package <command> [options]

Commands:
  build       Build a package (bootstrap or full)
  install     Install a package
  uninstall   Uninstall a package
  list        List installed packages
  verify      Verify package integrity
  upgrade     Upgrade an installed package

Build Options:
  --type=TYPE         Package type: bootstrap or full (default: bootstrap)
  --output=FILE       Output file path (default: auto-generated)
  --platform=PLATFORM Target platform (default: auto-detect)

Install Options:
  --prefix=DIR        Install prefix (default: ~/.local)
  --system            Install system-wide (/usr/local, requires root)
  --dry-run           Preview installation without making changes

Examples:
  simple package build --type=bootstrap --output=simple-bootstrap.spk
  simple package install simple-bootstrap.spk
  simple package install simple-bootstrap.spk --prefix=~/.local
  sudo simple package install simple-bootstrap.spk --system
  simple package uninstall
  simple package list
  simple package verify simple-bootstrap.spk
"""
