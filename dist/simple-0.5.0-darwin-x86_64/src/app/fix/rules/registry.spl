# EasyFix Rules - Rule Registry and Dispatch
# Manages rule registration and execution coordination.

use std.tooling.easy_fix.*
use super.impl.*

# ============================================================================
# Master: run all text-scanning rules
# ============================================================================

fn check_all_rules(source: String, file: String) -> [EasyFix]:
    var all_fixes: [EasyFix] = []

    val fixes1 = check_print_in_test_spec(source, file)
    for f in fixes1:
        all_fixes.push(f)

    val fixes2 = check_unnamed_duplicate_typed_args(source, file)
    for f in fixes2:
        all_fixes.push(f)

    val fixes3 = check_resource_leak(source, file)
    for f in fixes3:
        all_fixes.push(f)

    val fixes4 = check_sspec_missing_docstrings(source, file)
    for f in fixes4:
        all_fixes.push(f)

    val fixes5 = check_sspec_manual_assertions(source, file)
    for f in fixes5:
        all_fixes.push(f)

    val fixes6 = check_non_exhaustive_match(source, file)
    for f in fixes6:
        all_fixes.push(f)

    val fixes7 = check_parser_contextual_keyword(source, file)
    for f in fixes7:
        all_fixes.push(f)

    val fixes8 = check_deprecated_if_let(source, file)
    for f in fixes8:
        all_fixes.push(f)

    val fixes9 = check_struct_construction_parens(source, file)
    for f in fixes9:
        all_fixes.push(f)

    # Rules 7 (typo) and 9 (type coercion) are no-ops in text-scanning mode.
    # They require compiler integration (Rust side).

    all_fixes
