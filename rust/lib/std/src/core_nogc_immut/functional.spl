# Pure functional utilities (no heap, immutable)
# Stack-only operations for embedded/GPU/baremetal

# Function composition (inline, no allocation)
fn compose<A, B, C>(f: fn(B) -> C, g: fn(A) -> B) -> fn(A) -> C:
    \a: f(g(a))

fn identity<T>(x: T) -> T:
    x

fn const<T, U>(x: T) -> fn(U) -> T:
    \_: x

fn flip<A, B, C>(f: fn(A, B) -> C) -> fn(B, A) -> C:
    \b, a: f(a, b)

# Tuple operations (stack-only)
fn fst<A, B>(pair: (A, B)) -> A:
    pair.0

fn snd<A, B>(pair: (A, B)) -> B:
    pair.1

fn swap<A, B>(pair: (A, B)) -> (B, A):
    (pair.1, pair.0)
