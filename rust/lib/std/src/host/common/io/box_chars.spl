pub struct BoxChars:
    top_left: char
    top_right: char
    bottom_left: char
    bottom_right: char
    horizontal: char
    vertical: char
    t_down: char
    t_up: char
    t_right: char
    t_left: char
    cross: char

impl BoxChars:
    pub fn ascii() -> BoxChars:
        return BoxChars {
            top_left: '+',
            top_right: '+',
            bottom_left: '+',
            bottom_right: '+',
            horizontal: '-',
            vertical: '|',
            t_down: '+',
            t_up: '+',
            t_right: '+',
            t_left: '+',
            cross: '+'
        }

    pub fn single() -> BoxChars:
        return BoxChars {
            top_left: '\u250C',
            top_right: '\u2510',
            bottom_left: '\u2514',
            bottom_right: '\u2518',
            horizontal: '\u2500',
            vertical: '\u2502',
            t_down: '\u252C',
            t_up: '\u2534',
            t_right: '\u251C',
            t_left: '\u2524',
            cross: '\u253C'
        }

    pub fn double() -> BoxChars:
        return BoxChars {
            top_left: '\u2554',
            top_right: '\u2557',
            bottom_left: '\u255A',
            bottom_right: '\u255D',
            horizontal: '\u2550',
            vertical: '\u2551',
            t_down: '\u2566',
            t_up: '\u2569',
            t_right: '\u2560',
            t_left: '\u2563',
            cross: '\u256C'
        }

    pub fn rounded() -> BoxChars:
        return BoxChars {
            top_left: '\u256D',
            top_right: '\u256E',
            bottom_left: '\u2570',
            bottom_right: '\u256F',
            horizontal: '\u2500',
            vertical: '\u2502',
            t_down: '\u252C',
            t_up: '\u2534',
            t_right: '\u251C',
            t_left: '\u2524',
            cross: '\u253C'
        }

    # Draw a horizontal line
    pub fn h_line(self, width: u16) -> text:
        var s = text.new()
        for _ in 0..width:
            s.push(self.horizontal)
        return s

    # Draw a vertical line
    pub fn v_line(self, height: u16) -> text:
        var lines: Array<text> = []
        for _ in 0..height:
            lines.push(self.vertical.to_string())
        return lines.join("\n")

    # Draw a box
    pub fn box_frame(self, width: u16, height: u16) -> text:
        val inner_width = width - 2
        var lines: Array<text> = []

        # Top border
        var top = text.new()
        top.push(self.top_left)
        top.push_str(&self.h_line(inner_width))
        top.push(self.top_right)
        lines.push(top)

        # Middle rows
        for _ in 1..(height - 1):
            var mid = text.new()
            mid.push(self.vertical)
            for _ in 0..inner_width:
                mid.push(' ')
            mid.push(self.vertical)
            lines.push(mid)

        # Bottom border
        var bottom = text.new()
        bottom.push(self.bottom_left)
        bottom.push_str(&self.h_line(inner_width))
        bottom.push(self.bottom_right)
        lines.push(bottom)

        return lines.join("\n")

    pub fn is_ascii(self) -> bool:
        """Check if using ASCII box characters.

        Returns:
            True for ASCII style
        """
        return self.top_left == '+'

    pub fn is_single(self) -> bool:
        """Check if using single-line Unicode.

        Returns:
            True for single-line style
        """
        return self.top_left == '\u250C'

    pub fn is_double(self) -> bool:
        """Check if using double-line Unicode.

        Returns:
            True for double-line style
        """
        return self.top_left == '\u2554'

    pub fn is_rounded(self) -> bool:
        """Check if using rounded corners.

        Returns:
            True for rounded style
        """
        return self.top_left == '\u256D'

    pub fn is_unicode(self) -> bool:
        """Check if using any Unicode style.

        Returns:
            True for any Unicode style
        """
        return not self.is_ascii()

    pub fn summary(self) -> text:
        """Get box characters summary.

        Returns:
            Style description
        """
        if self.is_ascii():
            return "BoxChars: ascii"
        else if self.is_single():
            return "BoxChars: single-line unicode"
        else if self.is_double():
            return "BoxChars: double-line unicode"
        else if self.is_rounded():
            return "BoxChars: rounded unicode"
        else:
            return "BoxChars: custom"
