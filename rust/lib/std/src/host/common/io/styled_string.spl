pub struct StyledString:
    parts: Array<text>

impl StyledString:
    pub fn new() -> StyledString:
        return StyledString { parts: [] }

    pub fn push(self, text: &str) -> &mut StyledString:
        self.parts.push(text.to_string())
        return self

    pub fn push_styled(self, text: &str, style: Style) -> &mut StyledString:
        self.parts.push(style.apply(text))
        return self

    pub fn red(self, text: &str) -> &mut StyledString:
        return self.push_styled(text, Style.new().fg(Color.Red))

    pub fn green(self, text: &str) -> &mut StyledString:
        return self.push_styled(text, Style.new().fg(Color.Green))

    pub fn yellow(self, text: &str) -> &mut StyledString:
        return self.push_styled(text, Style.new().fg(Color.Yellow))

    pub fn blue(self, text: &str) -> &mut StyledString:
        return self.push_styled(text, Style.new().fg(Color.Blue))

    pub fn cyan(self, text: &str) -> &mut StyledString:
        return self.push_styled(text, Style.new().fg(Color.Cyan))

    pub fn bold(self, text: &str) -> &mut StyledString:
        return self.push_styled(text, Style.new().bold())

    pub fn to_string(self) -> text:
        return self.parts.join("")

    pub fn part_count(self) -> u64:
        """Get number of parts in styled string.

        Returns:
            Number of parts
        """
        return self.parts.len()

    pub fn is_empty(self) -> bool:
        """Check if styled string is empty.

        Returns:
            True if no parts
        """
        return self.part_count() == 0

    pub fn summary(self) -> text:
        """Get styled string summary.

        Returns:
            Summary with part count
        """
        return "StyledString: {self.part_count()} parts"

# Progress bar styling
