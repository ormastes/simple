# Terminal Styling - ANSI colors, styles, and formatting
# Cross-platform terminal text formatting

# ANSI color codes
pub enum Color:
    Black
    Red
    Green
    Yellow
    Blue
    Magenta
    Cyan
    White
    BrightBlack
    BrightRed
    BrightGreen
    BrightYellow
    BrightBlue
    BrightMagenta
    BrightCyan
    BrightWhite
    Rgb(u8, u8, u8)
    Ansi256(u8)

impl Color:
    # Get ANSI foreground code
    pub fn fg_code(self) -> u8:
        match self:
            case Black: return 30
            case Red: return 31
            case Green: return 32
            case Yellow: return 33
            case Blue: return 34
            case Magenta: return 35
            case Cyan: return 36
            case White: return 37
            case BrightBlack: return 90
            case BrightRed: return 91
            case BrightGreen: return 92
            case BrightYellow: return 93
            case BrightBlue: return 94
            case BrightMagenta: return 95
            case BrightCyan: return 96
            case BrightWhite: return 97
            case Rgb(_, _, _): return 38
            case Ansi256(_): return 38

    # Get ANSI background code
    pub fn bg_code(self) -> u8:
        match self:
            case Black: return 40
            case Red: return 41
            case Green: return 42
            case Yellow: return 43
            case Blue: return 44
            case Magenta: return 45
            case Cyan: return 46
            case White: return 47
            case BrightBlack: return 100
            case BrightRed: return 101
            case BrightGreen: return 102
            case BrightYellow: return 103
            case BrightBlue: return 104
            case BrightMagenta: return 105
            case BrightCyan: return 106
            case BrightWhite: return 107
            case Rgb(_, _, _): return 48
            case Ansi256(_): return 48

    pub fn to_string(self) -> text:
        """Convert color to string.

        Returns:
            Color name

        Example:
            Color.Red.to_string()  # → "red"
            Color.Rgb(255, 0, 0).to_string()  # → "rgb(255,0,0)"
        """
        match self:
            case Black: return "black"
            case Red: return "red"
            case Green: return "green"
            case Yellow: return "yellow"
            case Blue: return "blue"
            case Magenta: return "magenta"
            case Cyan: return "cyan"
            case White: return "white"
            case BrightBlack: return "bright-black"
            case BrightRed: return "bright-red"
            case BrightGreen: return "bright-green"
            case BrightYellow: return "bright-yellow"
            case BrightBlue: return "bright-blue"
            case BrightMagenta: return "bright-magenta"
            case BrightCyan: return "bright-cyan"
            case BrightWhite: return "bright-white"
            case Rgb(r, g, b): return "rgb({r},{g},{b})"
            case Ansi256(n): return "ansi256({n})"

    pub fn description(self) -> text:
        """Get color description.

        Returns:
            Human-readable description
        """
        match self:
            case Black: return "Basic black color"
            case Red: return "Basic red color"
            case Green: return "Basic green color"
            case Yellow: return "Basic yellow color"
            case Blue: return "Basic blue color"
            case Magenta: return "Basic magenta color"
            case Cyan: return "Basic cyan color"
            case White: return "Basic white color"
            case BrightBlack: return "Bright black (gray)"
            case BrightRed: return "Bright red"
            case BrightGreen: return "Bright green"
            case BrightYellow: return "Bright yellow"
            case BrightBlue: return "Bright blue"
            case BrightMagenta: return "Bright magenta"
            case BrightCyan: return "Bright cyan"
            case BrightWhite: return "Bright white"
            case Rgb(r, g, b): return "24-bit RGB color ({r},{g},{b})"
            case Ansi256(n): return "256-color palette index {n}"

    pub fn is_basic(self) -> bool:
        """Check if this is a basic 8-color.

        Returns:
            True for basic colors (not bright/rgb/ansi256)
        """
        match self:
            case Black: return true
            case Red: return true
            case Green: return true
            case Yellow: return true
            case Blue: return true
            case Magenta: return true
            case Cyan: return true
            case White: return true
            case _: return false

    pub fn is_bright(self) -> bool:
        """Check if this is a bright color variant.

        Returns:
            True for bright colors
        """
        match self:
            case BrightBlack: return true
            case BrightRed: return true
            case BrightGreen: return true
            case BrightYellow: return true
            case BrightBlue: return true
            case BrightMagenta: return true
            case BrightCyan: return true
            case BrightWhite: return true
            case _: return false

    pub fn is_rgb(self) -> bool:
        """Check if this is a 24-bit RGB color.

        Returns:
            True for RGB colors
        """
        match self:
            case Rgb(_, _, _): return true
            case _: return false

    pub fn is_ansi256(self) -> bool:
        """Check if this is a 256-color palette index.

        Returns:
            True for ANSI 256 colors
        """
        match self:
            case Ansi256(_): return true
            case _: return false

    pub fn is_truecolor(self) -> bool:
        """Check if this supports true color (24-bit).

        Returns:
            True for RGB colors
        """
        self.is_rgb()

    pub fn summary(self) -> text:
        """Get color summary.

        Returns:
            Human-readable summary

        Example:
            Color.BrightRed.summary()
            # → "Color: bright-red (Bright red, bright)"
        """
        val name = self.to_string()
        val desc = self.description()
        var props = []
        if self.is_basic():
            props.push("basic")
        if self.is_bright():
            props.push("bright")
        if self.is_rgb():
            props.push("truecolor")
        if self.is_ansi256():
            props.push("256-color")
        val props_str = if props.len() > 0: ", {props.join(', ')}" else: ""
        return "Color: {name} ({desc}{props_str})"

# Text style attributes
