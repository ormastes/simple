pub struct ProgressStyle:
    filled: char
    empty: char
    left_bracket: char
    right_bracket: char
    width: u16

impl ProgressStyle:
    pub fn default() -> ProgressStyle:
        return ProgressStyle {
            filled: '#',
            empty: '-',
            left_bracket: '[',
            right_bracket: ']',
            width: 40
        }

    pub fn unicode() -> ProgressStyle:
        return ProgressStyle {
            filled: '\u2588',  # Full block
            empty: '\u2591',   # Light shade
            left_bracket: '\u2595',  # Right one eighth block
            right_bracket: '\u258F', # Left one eighth block
            width: 40
        }

    pub fn render(self, progress: f64) -> text:
        val clamped = progress.clamp(0.0, 1.0)
        val filled_count = ((clamped * (self.width as f64)) as u16)
        val empty_count = self.width - filled_count

        var result = text.new()
        result.push(self.left_bracket)

        for _ in 0..filled_count:
            result.push(self.filled)
        for _ in 0..empty_count:
            result.push(self.empty)

        result.push(self.right_bracket)
        return result

    pub fn render_with_percent(self, progress: f64) -> text:
        val bar = self.render(progress)
        val percent = ((progress * 100.0) as i32)
        return "{bar} {percent}%"

    pub fn is_unicode(self) -> bool:
        """Check if using Unicode block characters.

        Returns:
            True if filled char is Unicode block
        """
        return self.filled == '\u2588'

    pub fn is_ascii(self) -> bool:
        """Check if using ASCII characters.

        Returns:
            True if not using Unicode
        """
        return not self.is_unicode()

    pub fn get_width(self) -> u16:
        """Get progress bar width.

        Returns:
            Width in characters
        """
        return self.width

    pub fn with_width(self, width: u16) -> ProgressStyle:
        """Set progress bar width (fluent API).

        Args:
            width: New width

        Returns:
            Modified style
        """
        self.width = width
        return self

    pub fn summary(self) -> text:
        """Get progress style summary.

        Returns:
            Human-readable summary
        """
        val style_type = if self.is_unicode(): "unicode" else: "ascii"
        return "ProgressStyle: {style_type}, width {self.width}"

# Spinner animation frames
