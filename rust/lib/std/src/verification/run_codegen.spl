# Codegen Launcher
# This script works around a module resolution limitation where codegen.spl
# cannot be run directly from its own directory.
#
# Usage:
#   simple verification/run_codegen.spl
#
# Or import codegen module from your own scripts:
#   import verification.lean.codegen as codegen
#   val gen = codegen.LeanCodegen.create("MyModule")

use verification.lean.codegen as codegen

# Example usage
fn main():
    val gen = codegen.LeanCodegen.create("Example")
    gen.add_import("Mathlib.Data.List.Basic")

    # Add a simple function
    val func = codegen.LeanFunction.new("hello")
        .with_return_type("String")
        .with_body("\"Hello from Lean!\"")
    gen.add_function(func)

    # Generate and print
    val output = gen.emit()
    print(output)

# Run if this is the main script
main()
