# CLI Library - Quick Start Example
#
# Minimal example showing basic CLI parsing
#
# Usage:
#   ./simple cli_quickstart.spl --name Alice --verbose
#   ./simple cli_quickstart.spl --help

use cli

fn main():
    # Create a simple argument parser
    val parser = cli.ArgParser::new("greeter", "A simple greeting application")
        .flag("verbose", "v", "Enable verbose output")
        .required_option("name", "n", "Name to greet")
        .optional_option("greeting", "g", "Greeting message", "Hello")

    # Parse arguments
    match parser.parse(sys_get_args()):
        case Ok(args):
            # Get values
            val name = args.get_option("name").unwrap_or("World")
            val greeting = args.get_option_or("greeting", "Hello")
            val verbose = args.get_flag("verbose")

            # Print greeting
            if verbose:
                print("Verbose mode: ON")
                print("Name: {name}")
                print("Greeting: {greeting}")
                print("")

            print("{greeting}, {name}!")

        case Err(error):
            print("Error: {error}")
            parser.print_help()
            sys_exit(1)
