#!/bin/sh
# Simple Language CLI
#
# This wrapper provides the Simple CLI entry point.
# The core runtime is implemented in Rust (simple_old).
# Secondary tools are implemented in Simple (src/app/).

SCRIPT_DIR="$(cd "$(dirname "$0")/../.." && pwd)"

# Find the runtime binary
if [ -x "$SCRIPT_DIR/target/release/simple_old" ]; then
    RUNTIME="$SCRIPT_DIR/target/release/simple_old"
elif [ -x "$SCRIPT_DIR/target/debug/simple_old" ]; then
    RUNTIME="$SCRIPT_DIR/target/debug/simple_old"
else
    echo "error: simple_old runtime not found. Run 'cargo build' first." >&2
    exit 1
fi

# Pass through to the Rust runtime
# Note: Tool commands (fmt, lint, etc.) are now Simple apps in src/app/
exec "$RUNTIME" "$@"
