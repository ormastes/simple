#!/bin/bash
# Simple MCP Server Wrapper
# Suppresses stderr warnings for clean stdio transport

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# Use release binary (up to date with latest syntax)
RUNTIME="${SCRIPT_DIR}/../rust/target/release/simple"

MCP_MAIN="${SCRIPT_DIR}/../src/app/mcp/main.spl"

# Suppress stderr (warnings) but keep stdout (JSON-RPC)
# Set RUST_LOG=error to minimize logging
RUST_LOG=error exec "$RUNTIME" "$MCP_MAIN" server 2>/dev/null
