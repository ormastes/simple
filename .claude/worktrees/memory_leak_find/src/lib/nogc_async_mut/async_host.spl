# Async Host - Full-Featured Runtime for Host Applications
#
# Features:
# - Heap-allocated, growable collections
# - Work-stealing scheduler
# - Waker-based notification
# - Priority scheduling with preemption
# - Full cancellation support
# - Structured concurrency
#
# Usage:
#   use std.async_core.*
#   use std.async_host.*
#
#   val runtime = HostRuntime.new()
#   val handle = runtime.run_task(async: fetch_data())
#   val result = await handle.join()

use std.async_core.*
use std.async_sffi.*

# Import and re-export from submodules
use std.async_host.waker.{Waker, Context}
use std.async_host.future.{HostFuture, FutureState}
use std.async_host.promise.{HostPromise}
use std.async_host.handle.{HostTaskHandle}
use std.async_host.joinset.{HostJoinSet}
use std.async_host.unordered.{HostFuturesUnordered}
use std.async_host.scheduler.{WorkStealingQueue, HostScheduler, HostTask}
use std.async_host.runtime.{HostRuntime}
use std.async_host.combinators.{join_all, select, race, timeout}

# Re-export all public types and functions
export Waker
export Context
export HostFuture
export FutureState
export HostPromise
export HostTaskHandle
export HostJoinSet
export HostFuturesUnordered
export WorkStealingQueue
export HostScheduler
export HostTask
export HostRuntime
export join_all
export select
export race
export timeout

# ============================================================================
# SFFI Functions (Pure Simple - No FFI Required!)
# ============================================================================
#
# All FFI functions are now Pure Simple implementations from async_sffi:
# - task_alloc_id() - Simple counter
# - waker_signal()  - Simple registry
# - No external FFI needed!
