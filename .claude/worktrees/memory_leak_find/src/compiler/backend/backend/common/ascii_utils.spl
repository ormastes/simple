# ASCII Character Conversion Utilities
#
# Shared utility for converting single-character strings to ASCII byte values.
# Used across all native backends (x86_64, AArch64, RISC-V) for string literal
# encoding in data sections.
#
# Note: This is a simplified ASCII table covering common printable characters,
# alphanumerics, whitespace, and basic punctuation. Characters outside this
# range default to '?' (ASCII 63).

fn char_to_ascii(ch: text) -> i64:
    """
    Convert a single-character string to its ASCII byte value.

    Returns the ASCII code for the character, or 63 ('?') for unsupported chars.
    """
    if ch == "a": 97
    elif ch == "b": 98
    elif ch == "c": 99
    elif ch == "d": 100
    elif ch == "e": 101
    elif ch == "f": 102
    elif ch == "g": 103
    elif ch == "h": 104
    elif ch == "i": 105
    elif ch == "j": 106
    elif ch == "k": 107
    elif ch == "l": 108
    elif ch == "m": 109
    elif ch == "n": 110
    elif ch == "o": 111
    elif ch == "p": 112
    elif ch == "q": 113
    elif ch == "r": 114
    elif ch == "s": 115
    elif ch == "t": 116
    elif ch == "u": 117
    elif ch == "v": 118
    elif ch == "w": 119
    elif ch == "x": 120
    elif ch == "y": 121
    elif ch == "z": 122
    elif ch == "A": 65
    elif ch == "B": 66
    elif ch == "C": 67
    elif ch == "D": 68
    elif ch == "E": 69
    elif ch == "F": 70
    elif ch == "G": 71
    elif ch == "H": 72
    elif ch == "I": 73
    elif ch == "J": 74
    elif ch == "K": 75
    elif ch == "L": 76
    elif ch == "M": 77
    elif ch == "N": 78
    elif ch == "O": 79
    elif ch == "P": 80
    elif ch == "Q": 81
    elif ch == "R": 82
    elif ch == "S": 83
    elif ch == "T": 84
    elif ch == "U": 85
    elif ch == "V": 86
    elif ch == "W": 87
    elif ch == "X": 88
    elif ch == "Y": 89
    elif ch == "Z": 90
    elif ch == "0": 48
    elif ch == "1": 49
    elif ch == "2": 50
    elif ch == "3": 51
    elif ch == "4": 52
    elif ch == "5": 53
    elif ch == "6": 54
    elif ch == "7": 55
    elif ch == "8": 56
    elif ch == "9": 57
    elif ch == "_": 95
    elif ch == ".": 46
    elif ch == " ": 32
    elif ch == "\n": 10
    elif ch == "\t": 9
    elif ch == "-": 45
    elif ch == "+": 43
    elif ch == "*": 42
    elif ch == "/": 47
    elif ch == "=": 61
    elif ch == "(": 40
    elif ch == ")": 41
    elif ch == "[": 91
    elif ch == "]": 93
    elif ch == "{": 123
    elif ch == "}": 125
    elif ch == ":": 58
    elif ch == ";": 59
    elif ch == ",": 44
    elif ch == "!": 33
    elif ch == "?": 63
    elif ch == "@": 64
    elif ch == "#": 35
    elif ch == "$": 36
    elif ch == "%": 37
    elif ch == "&": 38
    elif ch == "|": 124
    elif ch == "\\": 92
    elif ch == "'": 39
    elif ch == "\"": 34
    elif ch == "<": 60
    elif ch == ">": 62
    elif ch == "~": 126
    elif ch == "^": 94
    elif ch == "`": 96
    else: 63  # '?' for unknown characters

export char_to_ascii
