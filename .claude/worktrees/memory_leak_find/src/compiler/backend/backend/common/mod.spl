# Backend Common Module - Shared Backend Components
#
# This module exports all shared backend abstractions:
# - TypeMapper: Type mapping trait and implementations
# - LiteralConverter: Shared literal conversion
# - ExpressionEvaluator: Template method for expression evaluation
# - ISelContext: Instruction selection context management
# - ascii_utils: Character-to-ASCII conversion
#
# Usage:
#     use compiler.backend.common.*
#     val mapper = LlvmTypeMapper__create_64bit()
#     val value = LiteralConverter__convert_int(42, nil)

# === Codegen Trait Hierarchy ===
export codegen.Codegen
export codegen.CodegenOutput
export codegen.CodegenOutputKind

export mir_text_codegen.MirTextCodegen
export gpu_codegen.GpuCodegen
export gpu_codegen.GpuBarrierScope
export gpu_codegen.GpuAtomicOpKind
export verification_codegen.VerificationCodegen
export hardware_codegen.HardwareCodegen
export hardware_codegen.VhdlProcessKind
export native_codegen.NativeCodegen

# === Shared Abstractions ===
export type_mapper.TypeMapper
export type_mapper.PrimitiveType
export type_mapper.Mutability

export literal_converter.LiteralConverter

export expression_evaluator.ExpressionEvaluator
export expression_evaluator.EvalContext
export expression_evaluator.Environment

# === Native Backend Utilities ===
export isel_context.ISelContext
export isel_context.new_isel_context
export isel_context.isel_alloc_vreg
export isel_context.isel_get_vreg
export isel_context.isel_alloc_frame_slot
export isel_context.isel_frame_offset
export isel_context.isel_add_extern
export isel_context.isel_add_string_data
export isel_context.isel_last_string_label

export ascii_utils.char_to_ascii

export isel_common.LoweredOperand
export isel_common.ISelFuncResult
export isel_common.ISelBlockResult
export isel_common.ISelInstResult
export isel_common.local_to_vreg
export isel_common.local_vreg_op

# === Type Mapper Implementations ===
# Note: These are in parent directory (backend/), not common/
# They are re-exported here for convenience

# LLVM type mapper
use compiler.backend.llvm_type_mapper.LlvmTypeMapper
export LlvmTypeMapper

# Cranelift type mapper
use compiler.backend.cranelift_type_mapper.CraneliftTypeMapper
export CraneliftTypeMapper

# WebAssembly type mapper
use compiler.backend.wasm_type_mapper.WasmTypeMapper
export WasmTypeMapper

# Interpreter type mapper
use compiler.backend.interpreter_type_mapper.InterpreterTypeMapper
export InterpreterTypeMapper
