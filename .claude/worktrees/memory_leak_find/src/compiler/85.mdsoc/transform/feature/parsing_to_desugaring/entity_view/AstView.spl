# AST â†’ Desugaring adapter
#
# Bridges raw AST output into the desugar pipeline input.
# Desugar works on source text; this provides both source + AST context.

struct AstDesugarView:
    """
    Combines source text with AST for the desugar pipeline.
    Desugar works primarily on source text; the AST context
    provides span information for accurate rewriting.
    """
    source_text: text
    root_decl_count: i64
    module_name: text

    fn has_declarations() -> bool:
        self.root_decl_count > 0

    static fn from_source(source: text, module: text) -> AstDesugarView:
        AstDesugarView(
            source_text: source,
            root_decl_count: 0,
            module_name: module
        )

export AstDesugarView
