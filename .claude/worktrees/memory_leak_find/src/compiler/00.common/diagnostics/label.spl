# Diagnostic Labels
#
# Labels attach descriptive messages to specific source locations.

use span.Span

# A labeled span with a message
struct Label:
    span: Span    # Source location
    message: text # Label message

impl Label:
    # Create a new label
    static fn new(span: Span, message: text) -> Label:
        Label(span: span, message: message)

    # Create a label at a specific position
    static fn at(line: i64, column: i64, message: text) -> Label:
        val span = Span.at(0, line, column)
        Label(span: span, message: message)

    # Get the span
    fn span() -> Span:
        self.span

    # Get the message
    fn message() -> text:
        self.message

    # Format as "line:column: message"
    fn to_string() -> text:
        "{self.span.to_string()}: {self.message}"

# Public exports
export Label
