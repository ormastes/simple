# Test rt_compile_to_llvm_ir function

use app.io.mod (rt_compile_to_llvm_ir, print)

fn main():
    print "Testing rt_compile_to_llvm_ir..."

    val source = "test/baremetal/e2e_simple_hello.spl"
    val target = "i686-unknown-none"

    val (llvm_ir, stderr, exit_code) = rt_compile_to_llvm_ir(source, target, true)

    print "Exit code: {exit_code}"
    print "LLVM IR length: {llvm_ir.len()}"
    print "Stderr:"
    print stderr
