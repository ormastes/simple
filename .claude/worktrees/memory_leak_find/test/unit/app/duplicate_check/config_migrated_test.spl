# Test migrated duplicate_check config

use app.duplicate_check.config.{default_config, parse_config_file}

fn test_main():
    # Test default config loads
    val config = default_config()
    if config.min_tokens == 30:
        print "PASS: default min_tokens"
    else:
        print "FAIL: default min_tokens = {config.min_tokens}"

    # Test parsing a simple config
    val content = "duplicate-check:\n  min-tokens: 50\n  min-lines: 10\n  ignore-identifiers: false"
    val parsed = parse_config_file(content)

    if parsed.min_tokens == 50:
        print "PASS: parsed min_tokens"
    else:
        print "FAIL: parsed min_tokens = {parsed.min_tokens}"

    if parsed.min_lines == 10:
        print "PASS: parsed min_lines"
    else:
        print "FAIL: parsed min_lines = {parsed.min_lines}"

    if parsed.ignore_identifiers == false:
        print "PASS: parsed ignore_identifiers"
    else:
        print "FAIL: parsed ignore_identifiers = {parsed.ignore_identifiers}"

    print "\nâœ“ Duplicate check config migration successful"

test_main()
