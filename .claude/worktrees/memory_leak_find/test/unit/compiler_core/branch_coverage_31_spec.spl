"""
# Branch Coverage Test Suite - Negative Literals & Constants

**Feature IDs:** #BRANCH #NEGATIVE_LITERALS #CONSTANTS
**Category:** Testing
**Status:** Implemented

## Overview

Tests negative number literals and constant expressions to cover
is_constant_expr branch at line 521 in seed.cpp.
"""

use std.spec.{check}

describe "Negative Integer Literals":
    it "negative constant":
        val x = -42
        check(x == -42)

    it "negative in expression":
        val y = -100 + 50
        check(y == -50)

    it "negative zero":
        val z = -0
        check(z == 0)

    it "large negative":
        val big = -999999
        check(big < 0)

describe "Negative Float Literals":
    it "negative float constant":
        val f = -3.14
        check(f < 0.0)

    it "negative scientific":
        val s = -1e2
        check(s == -100.0)

    it "negative small float":
        val small = -0.001
        check(small < 0.0)

describe "Negative in Arrays":
    it "array of negatives":
        val arr = [-1, -2, -3, -4, -5]
        check(arr.len() == 5)
        check(arr[0] == -1)
        check(arr[4] == -5)

    it "mixed positive and negative":
        val mixed = [1, -2, 3, -4, 5]
        check(mixed[1] == -2)
        check(mixed[3] == -4)

    it "negative indices operations":
        val nums = [10, 20, 30]
        val result = nums[0] - nums[1]
        check(result == -10)

describe "Negative in Calculations":
    it "negative multiply":
        val x = -5 * 3
        check(x == -15)

    it "negative divide":
        val y = -10 / 2
        check(y == -5)

    it "negative power":
        val p = -2 ** 2
        check(p == -4)

    it "double negative":
        val d = -(-5)
        check(d == 5)

describe "Constant Expressions":
    it "nil constant":
        val n = nil
        check(not n.?)

    it "true constant":
        val t = true
        check(t)

    it "false constant":
        val f = false
        check(not f)

    it "string constant":
        val s = "constant"
        check(s == "constant")

    it "numeric constant in condition":
        if -5 < 0:
            check(true)
        else:
            check(false)
