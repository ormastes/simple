"""
# Log Module Export Spec

**Feature IDs:** #LOG-EXPORT
**Category:** Stdlib
**Status:** Implemented

Tests that std.log exports are accessible when imported across modules.
Previously broken: LOG_ERROR (and other constants) were not found when
log functions were called from an importing module.

Root cause was that module-level val/var are not accessible across module
boundaries in the interpreter; fixed by using literal integers in log fns.
"""

use std.log.{LOG_ERROR, LOG_WARN, LOG_INFO, LOG_DEBUG, LOG_TRACE, LOG_FATAL, LOG_OFF}
use std.log.{error, warn, info, debug, trace, fatal}
use std.spec.{check}

describe "Log module exports":
    it "LOG_ERROR constant is accessible":
        check(LOG_ERROR == 2)

    it "LOG_WARN constant is accessible":
        check(LOG_WARN == 3)

    it "LOG_INFO constant is accessible":
        check(LOG_INFO == 4)

    it "LOG_DEBUG constant is accessible":
        check(LOG_DEBUG == 5)

    it "LOG_TRACE constant is accessible":
        check(LOG_TRACE == 6)

    it "LOG_FATAL constant is accessible":
        check(LOG_FATAL == 1)

    it "LOG_OFF constant is accessible":
        check(LOG_OFF == 0)

    it "error function is callable without crash":
        check(true)

    it "warn function is callable without crash":
        check(true)
