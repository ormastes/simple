# Input Abstraction Tests
# Feature: Game Engine Input System
# Category: Game Engine, Input
# Status: Complete
#
# Tests for the input abstraction module including keyboard key codes,
# key type identification, and string/integer conversions.

use game_engine.input.KeyCode.*

describe "KeyCode":
    """
    Tests for KeyCode enum including key identification and conversions.
    """
    context "key identification":
        it "identifies letter keys":
            expect KeyCode.A.is_letter()
            expect KeyCode.W.is_letter()
            expect KeyCode.S.is_letter()
            expect not KeyCode.Space.is_letter()
            expect not KeyCode.Enter.is_letter()

        it "identifies arrow keys":
            expect KeyCode.Left.is_arrow()
            expect KeyCode.Right.is_arrow()
            expect KeyCode.Up.is_arrow()
            expect KeyCode.Down.is_arrow()
            expect not KeyCode.A.is_arrow()

        it "identifies modifier keys":
            expect KeyCode.Shift.is_modifier()
            expect KeyCode.Ctrl.is_modifier()
            expect KeyCode.Alt.is_modifier()
            expect not KeyCode.Space.is_modifier()
            expect not KeyCode.Enter.is_modifier()

    context "string conversion":
        it "converts to string":
            expect KeyCode.Space.to_string() == "space"
            expect KeyCode.A.to_string() == "a"
            expect KeyCode.Enter.to_string() == "enter"
            expect KeyCode.Escape.to_string() == "escape"

        it "provides descriptions":
            expect "Space" in KeyCode.Space.description()
            expect "Enter" in KeyCode.Enter.description()

    context "integer values":
        it "has correct space code":
            expect KeyCode.Space.to_int() == 32

        it "has correct A code":
            expect KeyCode.A.to_int() == 65
