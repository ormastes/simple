# Tests for std.validation_utils module
# Covers numeric and string validation functions

use std.validation_utils.{is_positive, is_negative, is_non_negative, is_zero}
use std.validation_utils.{is_in_range, is_outside_range}
use std.validation_utils.{is_not_empty, is_empty}
use std.validation_utils.{is_divisible, is_multiple_of}

describe "std.validation_utils":
    describe "is_positive":
        it "returns true for positive numbers":
            expect(is_positive(1)).to_equal(true)
            expect(is_positive(42)).to_equal(true)

        it "returns false for zero and negatives":
            expect(is_positive(0)).to_equal(false)
            expect(is_positive(-1)).to_equal(false)

    describe "is_negative":
        it "returns true for negative numbers":
            expect(is_negative(-1)).to_equal(true)
            expect(is_negative(-42)).to_equal(true)

        it "returns false for zero and positives":
            expect(is_negative(0)).to_equal(false)
            expect(is_negative(1)).to_equal(false)

    describe "is_non_negative":
        it "returns true for zero and positives":
            expect(is_non_negative(0)).to_equal(true)
            expect(is_non_negative(42)).to_equal(true)

        it "returns false for negatives":
            expect(is_non_negative(-1)).to_equal(false)

    describe "is_zero":
        it "returns true for zero":
            expect(is_zero(0)).to_equal(true)

        it "returns false for non-zero":
            expect(is_zero(1)).to_equal(false)
            expect(is_zero(-1)).to_equal(false)

    describe "is_in_range":
        it "returns true when in range":
            expect(is_in_range(5, 1, 10)).to_equal(true)
            expect(is_in_range(1, 1, 10)).to_equal(true)
            expect(is_in_range(10, 1, 10)).to_equal(true)

        it "returns false when out of range":
            expect(is_in_range(0, 1, 10)).to_equal(false)
            expect(is_in_range(11, 1, 10)).to_equal(false)

    describe "is_outside_range":
        it "returns true when outside range":
            expect(is_outside_range(0, 1, 10)).to_equal(true)
            expect(is_outside_range(11, 1, 10)).to_equal(true)

        it "returns false when in range":
            expect(is_outside_range(5, 1, 10)).to_equal(false)

    describe "is_not_empty":
        it "returns true for non-empty strings":
            expect(is_not_empty("hello")).to_equal(true)

        it "returns false for empty string":
            expect(is_not_empty("")).to_equal(false)

    describe "is_empty":
        it "returns true for empty string":
            expect(is_empty("")).to_equal(true)

        it "returns false for non-empty":
            expect(is_empty("hello")).to_equal(false)

    describe "is_divisible":
        it "checks divisibility":
            expect(is_divisible(10, 5)).to_equal(true)
            expect(is_divisible(10, 3)).to_equal(false)

        it "handles zero divisor":
            expect(is_divisible(10, 0)).to_equal(false)

    describe "is_multiple_of":
        it "checks if multiple":
            expect(is_multiple_of(15, 5)).to_equal(true)
            expect(is_multiple_of(15, 4)).to_equal(false)
