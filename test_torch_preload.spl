#!/usr/bin/env simple
# Test torch FFI with LD_PRELOAD

extern fn rt_torch_available() -> bool
extern fn rt_torch_version() -> text

fn main():
    print "=== Testing PyTorch FFI with LD_PRELOAD ==="
    val available = rt_torch_available()
    print "torch_available() = {available}"
    
    val version = rt_torch_version()
    print "torch_version() = {version}"
    
    if available:
        print "✓ PyTorch FFI is working!"
    else:
        print "⚠ Running in stub mode (expected)"

export main
