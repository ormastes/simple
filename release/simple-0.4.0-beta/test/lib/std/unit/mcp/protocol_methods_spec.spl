# @pending
# Protocol Methods Tests
# Tests McpMethod enum predicates, descriptions, and categorization


describe "Protocol Methods":
    describe "Method Descriptions":
        it "describes initialize method":
            # Branch: Initialize.description()
            val method = "initialize"
            expect(method == "initialize")

        it "describes initialized method":
            # Branch: Initialized.description()
            val method = "initialized"
            expect(method == "initialized")

        it "describes ping method":
            # Branch: Ping.description()
            val method = "ping"
            expect(method == "ping")

        it "describes resources/list method":
            # Branch: ResourcesList.description()
            val method = "resources/list"
            expect(method == "resources/list")

        it "describes resources/read method":
            # Branch: ResourcesRead.description()
            val method = "resources/read"
            expect(method == "resources/read")

        it "describes tools/list method":
            # Branch: ToolsList.description()
            val method = "tools/list"
            expect(method == "tools/list")

        it "describes tools/call method":
            # Branch: ToolsCall.description()
            val method = "tools/call"
            expect(method == "tools/call")

        it "describes shutdown method":
            # Branch: Shutdown.description()
            val method = "shutdown"
            expect(method == "shutdown")

    describe "is_initialize Predicate":
        it "returns true for initialize":
            # Branch: is_initialize() == true
            val is_init = true
            expect(is_init)

        it "returns false for other methods":
            # Branch: is_initialize() == false
            val is_init = false
            expect(not (is_init))

    describe "is_ping Predicate":
        it "returns true for ping":
            # Branch: is_ping() == true
            val is_ping = true
            expect(is_ping)

        it "returns false for other methods":
            # Branch: is_ping() == false
            val is_ping = false
            expect(not (is_ping))

    describe "is_resource_method Predicate":
        it "returns true for resources/list":
            # Branch: is_resource_method() for list
            val is_resource = true
            expect(is_resource)

        it "returns true for resources/read":
            # Branch: is_resource_method() for read
            val is_resource = true
            expect(is_resource)

        it "returns false for non-resource methods":
            # Branch: is_resource_method() == false
            val is_resource = false
            expect(not (is_resource))

    describe "is_tool_method Predicate":
        it "returns true for tools/list":
            # Branch: is_tool_method() for list
            val is_tool = true
            expect(is_tool)

        it "returns true for tools/call":
            # Branch: is_tool_method() for call
            val is_tool = true
            expect(is_tool)

        it "returns false for non-tool methods":
            # Branch: is_tool_method() == false
            val is_tool = false
            expect(not (is_tool))

    describe "is_prompt_method Predicate":
        it "returns true for prompts/list":
            # Branch: is_prompt_method() for list
            val is_prompt = true
            expect(is_prompt)

        it "returns true for prompts/get":
            # Branch: is_prompt_method() for get
            val is_prompt = true
            expect(is_prompt)

        it "returns false for non-prompt methods":
            # Branch: is_prompt_method() == false
            val is_prompt = false
            expect(not (is_prompt))

    describe "Method Summary Routing":
        it "routes to initialize summary":
            # Branch: summary() for Initialize
            val has_summary = true
            expect(has_summary)

        it "routes to resource summary":
            # Branch: summary() for resource methods
            val has_summary = true
            expect(has_summary)

        it "routes to tool summary":
            # Branch: summary() for tool methods
            val has_summary = true
            expect(has_summary)

        it "routes to prompt summary":
            # Branch: summary() for prompt methods
            val has_summary = true
            expect(has_summary)

        it "routes to ping summary":
            # Branch: summary() for Ping
            val has_summary = true
            expect(has_summary)

        it "routes to shutdown summary":
            # Branch: summary() for Shutdown
            val has_summary = true
            expect(has_summary)
