# @pending
"""
# Game Engine Component Specification

**Feature IDs:** #GE-001
**Category:** Stdlib
**Difficulty:** 2/5
**Status:** Implemented

## Overview
Component system with ComponentType enum, Component trait, and ComponentManager.

## Key Concepts
| Concept | Description |
|---------|-------------|
| ComponentType | Enum of standard component categories |
| Component | Trait for component lifecycle |
| ComponentManager | Manages components on an entity |

## Behavior
- ComponentType provides is_* helpers and descriptions
- ComponentManager supports add, remove, query by type
- Trait-only design (no FFI adapters)
"""

import std.spec
use game_engine.component

# ============================================================================
# ComponentType
# ============================================================================

describe "ComponentType":
    it "converts to string":
        expect ComponentType.Transform.to_string() == "Transform"
        expect ComponentType.Render.to_string() == "Render"
        expect ComponentType.Physics.to_string() == "Physics"
        expect ComponentType.Audio.to_string() == "Audio"
        expect ComponentType.Script.to_string() == "Script"
        expect ComponentType.Custom.to_string() == "Custom"

    it "provides descriptions":
        val desc = ComponentType.Physics.description()
        expect desc == "Physics simulation and collision"

    it "checks type categories":
        expect ComponentType.Transform.is_transform() == true
        expect ComponentType.Render.is_render() == true
        expect ComponentType.Physics.is_physics() == true

    it "checks visual and simulation":
        expect ComponentType.Render.is_visual() == true
        expect ComponentType.Physics.is_simulation() == true
        expect ComponentType.Transform.is_simulation() == true
        expect ComponentType.Render.is_output() == true
        expect ComponentType.Audio.is_output() == true

# ============================================================================
# ComponentManager
# ============================================================================

describe "ComponentManager":
    it "starts empty":
        val mgr = ComponentManager.create()
        expect mgr.is_empty() == true
        expect mgr.count() == 0
        expect mgr.has_components() == false

    it "provides summary":
        val mgr = ComponentManager.create()
        val s = mgr.summary()
        expect s == "ComponentManager: 0 components, 0 enabled, 0 initialized"
