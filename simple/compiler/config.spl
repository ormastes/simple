# Compiler Configuration
#
# Configuration types and loaders for the compiler.

struct Config:
    """Runtime configuration."""
    values: Dict<text, text>

    static fn default() -> Config:
        Config(values: {})

    fn get(key: text) -> text?:
        self.values.get(key)

    me set(key: text, value: text):
        self.values[key] = value

class Logger:
    """Simple logger."""
    level: i64

    static fn new(level: i64) -> Logger:
        Logger(level: level)

    fn log(level: i64, message: text):
        if level <= self.level:
            print "[LOG:{level}] {message}"

    fn debug(message: text):
        self.log(10, message)

    fn info(message: text):
        self.log(4, message)

    fn warn(message: text):
        self.log(2, message)

    fn error(message: text):
        self.log(1, message)
