# ML Infrastructure Example - Simplified Version

import config.Conf

fn main():
    print("\n")
    print("=" * 70)
    print("ML INFRASTRUCTURE EXAMPLE")
    print("=" * 70)

    # Example 1: Configuration
    print("\n[1/3] Configuration System")
    val base_config = {
        "project": "mnist-example",
        "epochs": 10,
        "lr": 0.001
    }

    val cfg = Conf.from_dict(base_config)
    print(f"  Project: {cfg.get('project')}")
    print(f"  Epochs: {cfg.get('epochs')}")
    print(f"  Learning rate: {cfg.get('lr')}")

    # Example 2: Config Merging
    print("\n[2/3] Config Merging")
    val override_config = {
        "epochs": 20,
        "lr": 0.005
    }

    val override_cfg = Conf.from_dict(override_config)
    val merged = Conf.merge(cfg, override_cfg)

    print(f"  Merged epochs: {merged.get('epochs')}")  # Should be 20
    print(f"  Merged lr: {merged.get('lr')}")  # Should be 0.005

    # Example 3: Done
    print("\n[3/3] Complete")
    print("  All examples ran successfully!")

    print("\n" + "=" * 70)
    print("Example completed!")
    print("=" * 70 + "\n")

main()
