# Test multi-mode execution - basic enum tests only
import std.spec

describe "Multi-Mode Test Execution":
    context "ExecutionMode enum":
        it "defines interpreter mode":
            val mode = ExecutionMode.Interpreter
            expect mode_to_string(mode) == "interpreter"

        it "defines JIT mode":
            val mode = ExecutionMode.JIT
            expect mode_to_string(mode) == "jit"

        it "defines SMF Cranelift mode":
            val mode = ExecutionMode.SMF_Cranelift
            expect mode_to_string(mode) == "smf_cranelift"

        it "defines SMF LLVM mode":
            val mode = ExecutionMode.SMF_LLVM
            expect mode_to_string(mode) == "smf_llvm"

    context "ModeSet operations":
        it "creates a mode set with all modes":
            val modes = ModeSet.all()
            expect modes.size() == 4

        it "creates interpreter-only mode set":
            val modes = ModeSet.interpreter_only()
            expect modes.size() == 1
            expect modes.contains(ExecutionMode.Interpreter)

        it "creates compiled-only mode set":
            val modes = ModeSet.compiled_only()
            expect modes.size() == 3
            expect modes.contains(ExecutionMode.JIT)
            expect modes.contains(ExecutionMode.SMF_Cranelift)
            expect modes.contains(ExecutionMode.SMF_LLVM)
