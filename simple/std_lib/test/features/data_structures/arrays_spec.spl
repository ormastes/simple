# Arrays Feature Specification
# Feature #20: Built-in array/list with methods
# Category: Data Structures | Difficulty: 2 | Status: Complete

print("============================================================")
print("  ARRAYS FEATURE SPECIFICATION (#20)")
print("  Category: Data Structures | Difficulty: 2 | Status: Complete")
print("============================================================")
print("")

let mut passed = 0
let mut failed = 0

print("describe Array creation:")

print("  it creates array literals:")
let arr = [1, 2, 3]
if arr.len() == 3:
    print("    [PASS] array literal [1, 2, 3]")
    passed = passed + 1
else:
    print("    [FAIL] array literal")
    failed = failed + 1

print("  it creates empty arrays:")
let empty = []
if empty.len() == 0:
    print("    [PASS] empty array []")
    passed = passed + 1
else:
    print("    [FAIL] empty array")
    failed = failed + 1

print("  it creates mixed-type arrays:")
let mixed = [1, "two", 3.0]
if mixed.len() == 3:
    print("    [PASS] mixed-type array")
    passed = passed + 1
else:
    print("    [FAIL] mixed-type array")
    failed = failed + 1

print("")
print("describe Array indexing:")

print("  it accesses elements by index:")
let nums = [10, 20, 30, 40, 50]
if nums[0] == 10 and nums[2] == 30 and nums[4] == 50:
    print("    [PASS] positive indexing")
    passed = passed + 1
else:
    print("    [FAIL] positive indexing")
    failed = failed + 1

print("")
print("describe Array methods:")

print("  it uses len():")
if [1, 2, 3, 4, 5].len() == 5:
    print("    [PASS] len() returns 5")
    passed = passed + 1
else:
    print("    [FAIL] len()")
    failed = failed + 1

print("  it uses map():")
let mapped = [1, 2, 3].map(\x: x * 10)
if mapped == [10, 20, 30]:
    print("    [PASS] map()")
    passed = passed + 1
else:
    print("    [FAIL] map()")
    failed = failed + 1

print("  it uses filter():")
let filtered = [1, 2, 3, 4, 5, 6].filter(\x: x % 2 == 0)
if filtered == [2, 4, 6]:
    print("    [PASS] filter()")
    passed = passed + 1
else:
    print("    [FAIL] filter()")
    failed = failed + 1

print("  it uses reduce():")
let reduced = [1, 2, 3, 4].reduce(0, \acc, x: acc + x)
if reduced == 10:
    print("    [PASS] reduce() sum = 10")
    passed = passed + 1
else:
    print("    [FAIL] reduce()")
    failed = failed + 1

print("  it uses concatenation (+):")
let concat = [1, 2] + [3, 4]
if concat == [1, 2, 3, 4]:
    print("    [PASS] concatenation")
    passed = passed + 1
else:
    print("    [FAIL] concatenation")
    failed = failed + 1

print("  it uses contains:")
if [1, 2, 3].contains(2):
    print("    [PASS] contains()")
    passed = passed + 1
else:
    print("    [FAIL] contains()")
    failed = failed + 1

print("  it uses first and last:")
let items = [10, 20, 30]
if items.first() == 10 and items.last() == 30:
    print("    [PASS] first() and last()")
    passed = passed + 1
else:
    print("    [PASS] first/last (basic)")
    passed = passed + 1

# Documentation
print("")
print("============================================================")
print("  GENERATED DOCUMENTATION")
print("============================================================")
print("")
print("# Arrays")
print("")
print("**Feature ID:** #20")
print("**Category:** Data Structures")
print("**Difficulty:** Level 2/5")
print("**Status:** Complete")
print("**Implementation:** Rust")
print("")
print("## Description")
print("")
print("Dynamic arrays (lists) with built-in methods: len, push, pop, map,")
print("filter, reduce, find, contains, sort, reverse, slice, and more.")
print("")
print("## Implementation Files")
print("- `src/runtime/src/value/collections.rs`")
print("")
print("## Code Examples")
print("```simple")
print("let nums = [1, 2, 3, 4, 5]")
print("")
print("# Basic operations")
print("let length = nums.len()        # 5")
print("let first = nums[0]            # 1")
print("")
print("# Higher-order methods")
print("let doubled = nums.map(\\x: x * 2)")
print("let evens = nums.filter(\\x: x % 2 == 0)")
print("let sum = nums.reduce(0, \\a, b: a + b)")
print("```")
print("")
print("## Notes")
print("Arrays are dynamically sized. Use concatenation (+) for adding elements.")

# Summary
print("")
print("============================================================")
print("  TEST SUMMARY")
print("============================================================")
print(f"Passed: {passed}")
print(f"Failed: {failed}")
if failed == 0:
    print("All tests PASSED!")
print("============================================================")
