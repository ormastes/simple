# Basic Types Feature Specification
# Feature #10: Primitive types
# Category: Types | Difficulty: 2 | Status: Complete

# =====================================================
# Feature Metadata
# =====================================================

class FeatureMetadata:
    id: i32
    name: text
    category: text
    difficulty: i32
    status: text
    impl_type: text
    spec_ref: text
    files: List<text>
    tests: List<text>
    description: text
    code_examples: List<text>
    dependencies: List<i32>
    required_by: List<i32>
    notes: text

val FEATURE = FeatureMetadata {
    id: 10,
    name: "Basic Types",
    category: "Types",
    difficulty: 2,
    status: "Complete",
    impl_type: "Rust",
    spec_ref: "doc/spec/types.md",
    files: [
        "src/compiler/src/hir/types.rs",
        "src/runtime/src/value/core.rs"
    ],
    tests: [
        "src/driver/tests/interpreter_types_tests.rs"
    ],
    description: "Primitive types: i32 (i64), f32 (f64), bool, text, and Nil. Supports type annotations and inference.",
    code_examples: [
        "val i: i32 = 42",
        "val f: f32 = 3.14",
        "val b: bool = true"
    ],
    dependencies: [1, 2],
    required_by: [11, 12, 14],
    notes: "i32 is 64-bit signed. f32 is 64-bit IEEE 754. bool is true/false."
}

# =====================================================
# BDD Specification Tests
# =====================================================

print("============================================================")
print("  BASIC TYPES FEATURE SPECIFICATION (#10)")
print("  Category: Types | Difficulty: 2 | Status: Complete")
print("============================================================")

var passed = 0
var failed = 0

# Integer types
print("describe Integer types:")

print("  it creates integer literals:")
val x = 42
val y = -100
if x == 42 and y == -100:
    print("    [PASS] integer literals")
    passed = passed + 1
else:
    print("    [FAIL] integer literals")
    failed = failed + 1

print("  it performs integer arithmetic:")
val a = 10 + 5
val b = 10 - 3
val c = 4 * 5
val d = 20 / 4
if a == 15 and b == 7 and c == 20 and d == 5:
    print("    [PASS] integer arithmetic")
    passed = passed + 1
else:
    print("    [FAIL] integer arithmetic")
    failed = failed + 1

print("  it supports modulo operation:")
val r = 17 % 5
if r == 2:
    print("    [PASS] modulo operation")
    passed = passed + 1
else:
    print("    [FAIL] modulo operation")
    failed = failed + 1

# f32 types
print("")
print("describe f32 types:")

print("  it creates f32 literals:")
val f1 = 3.14
val f2 = -2.5
if f1 == 3.14 and f2 == -2.5:
    print("    [PASS] f32 literals")
    passed = passed + 1
else:
    print("    [FAIL] f32 literals")
    failed = failed + 1

print("  it performs f32 arithmetic:")
val fa = 1.5 + 2.5
val fb = 5.0 - 1.5
val fc = 2.0 * 3.0
if fa == 4.0 and fb == 3.5 and fc == 6.0:
    print("    [PASS] f32 arithmetic")
    passed = passed + 1
else:
    print("    [FAIL] f32 arithmetic")
    failed = failed + 1

# Boolean types
print("")
print("describe Boolean types:")

print("  it creates boolean literals:")
val t = true
val f = false
if t == true and f == false:
    print("    [PASS] boolean literals")
    passed = passed + 1
else:
    print("    [FAIL] boolean literals")
    failed = failed + 1

print("  it performs boolean operations:")
if (true and true) == true and (true and false) == false:
    if (true or false) == true and (not false) == true:
        print("    [PASS] boolean operations")
        passed = passed + 1
    else:
        print("    [FAIL] boolean operations")
        failed = failed + 1
else:
    print("    [FAIL] boolean operations")
    failed = failed + 1

# Comparisons
print("")
print("describe Type comparisons:")

print("  it compares integers:")
if 5 > 3 and 3 < 5 and 5 >= 5 and 5 <= 5 and 5 == 5 and 5 != 3:
    print("    [PASS] integer comparisons")
    passed = passed + 1
else:
    print("    [FAIL] integer comparisons")
    failed = failed + 1

print("  it compares floats:")
if 3.14 > 2.0 and 1.5 < 2.5:
    print("    [PASS] f32 comparisons")
    passed = passed + 1
else:
    print("    [FAIL] f32 comparisons")
    failed = failed + 1

# Print generated documentation
print("============================================================")
print("  GENERATED DOCUMENTATION")
print("============================================================")
print("# {FEATURE.name}")
print("")
print("**Feature ID:** #{FEATURE.id}")
print("**Category:** {FEATURE.category}")
print("**Difficulty:** Level {FEATURE.difficulty}/5")
print("**Status:** {FEATURE.status}")
print("**Implementation:** {FEATURE.impl_type}")
print("")
print("## Description")
print("")
print(FEATURE.description)
print("")
print("## Implementation Files")
for file in FEATURE.files:
    print("- `{file}`")
print("")
print("## Test Files")
for test in FEATURE.tests:
    print("- `{test}`")
print("")
print("## Notes")
print("")
print(FEATURE.notes)

# Print summary
print("============================================================")
print("  TEST SUMMARY")
print("============================================================")
print("Passed: {passed}")
print("Failed: {failed}")
print("Total:  {passed + failed}")
if failed == 0:
    print("All tests PASSED!")
else:
    print("Some tests FAILED!")
print("============================================================")
