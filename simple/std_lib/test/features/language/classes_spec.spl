# Classes Feature Specification
# Feature #11: Class definitions, methods, inheritance
# Category: Language | Difficulty: 4 | Status: Complete

# =====================================================
# Feature Metadata
# =====================================================

class FeatureMetadata:
    id: i32
    name: text
    category: text
    difficulty: i32
    status: text
    impl_type: text
    spec_ref: text
    files: List<text>
    tests: List<text>
    description: text
    code_examples: List<text>
    dependencies: List<i32>
    required_by: List<i32>
    notes: text

# Feature Definition
val FEATURE = FeatureMetadata {
    id: 11,
    name: "Classes",
    category: "Language",
    difficulty: 4,
    status: "Complete",
    impl_type: "Rust",
    spec_ref: "doc/spec/data_structures.md",
    files: [
        "src/compiler/src/interpreter.rs",
        "src/compiler/src/interpreter_method.rs",
        "src/parser/src/statements/mod.rs"
    ],
    tests: [
        "src/driver/tests/interpreter_oop_tests.rs"
    ],
    description: "Object-oriented programming with class definitions, typed fields, methods, static methods, and struct-literal instantiation. Supports single inheritance.",
    code_examples: [
        '# Define a class with fields and methods',
        '# class Point: x: i32, y: i32',
        '# val p = Point { x: 3, y: 4 }',
        '# print(p.x)  # 3'
    ],
    dependencies: [1, 2, 12],
    required_by: [],
    notes: "Classes support struct-literal syntax for instantiation. Methods use self parameter for instance access."
}

# =====================================================
# BDD Specification Tests
# =====================================================

print("  CLASSES FEATURE SPECIFICATION (#11)")
print("  Category: Language | Difficulty: 4 | Status: Complete")
print("")


describe "Class definitions":
    """
    TODO: Add documentation here
    """
        it "defines classes with typed fields":
            """
            TODO: Add documentation here
            """

class Point:
    x: i32
    y: i32

val p = Point { x: 3, y: 4 }
if p.x == 3 and p.y == 4:
else:

        it "supports methods":
            """
            TODO: Add documentation here
            """

class Counter:
   value: i32

    fn increment():
        self.value = self.value + 1

    fn get():
        return self.value

val c = Counter {value: 0 }
c.increment()
c.increment()
if c.get() == 2:
else:

        it "supports static methods (new pattern)":
            """
            TODO: Add documentation here
            """

class Person:
    name: text
    age: i32

    fn new(n: text, a: i32):
        return Person { name: n, age: a }

    fn greet():
        return "Hello, I am {self.name}"

val person = Person.new("Alice", 30)
if person.name == "Alice" and person.age == 30:
else:

print("")
describe "Class with collections":
    """
    TODO: Add documentation here
    """

        it "supports List fields":
            """
            TODO: Add documentation here
            """

class Container:
    items: List

    fn new():
        return Container { items: [] }

    fn add(item):
        self.items = self.items + [item]

    fn count():
        return self.items.len()

val cont = Container.new()
cont.add(1)
cont.add(2)
cont.add(3)
if cont.count() == 3:
else:

        it "supports nested class instances":
            """
            TODO: Add documentation here
            """

class Outer:
    inner: Point

val outer = Outer { inner: Point { x: 1, y: 2 } }
if outer.inner.x == 1 and outer.inner.y == 2:
else:

# =====================================================
# Documentation Output
# =====================================================

print("")
print("  GENERATED DOCUMENTATION")
print("")
print("# {FEATURE.name}")
print("")
print("**Feature ID:** #{FEATURE.id}")
print("**Category:** {FEATURE.category}")
print("**Difficulty:** Level {FEATURE.difficulty}/5")
print("**Status:** {FEATURE.status}")
print("**Implementation:** {FEATURE.impl_type}")
print("")
print("## Description")
print("")
print(FEATURE.description)
print("")
print("## Implementation Files")
print("")
for file in FEATURE.files:
    print("- `{file}`")
print("")
print("## Test Files")
print("")
for test in FEATURE.tests:
    print("- `{test}`")
print("")
print("## Code Examples")
print("")
print("```simple")
for example in FEATURE.code_examples:
    print(example)
print("```")
print("")
if FEATURE.dependencies.len() > 0:
    print("## Dependencies")
    print("")
    print("Depends on: {FEATURE.dependencies}")
    print("")
if FEATURE.required_by.len() > 0:
    print("## Required By")
    print("")
    print("Features: {FEATURE.required_by}")
    print("")
print("## Notes")
print("")
print(FEATURE.notes)

# Summary
print("")
print("  TEST SUMMARY")
print("Passed: {passed}")
print("Failed: {failed}")
    print("All tests PASSED!")