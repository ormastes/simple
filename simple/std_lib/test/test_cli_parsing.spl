# Test CLI int/float parsing

# Import the parsed_args module
import cli.parsed_args

fn main() -> i32:
    # Test parsed_args.parse_int_safe
    print("Testing parsed_args.parse_int_safe:")
    val i1 = parsed_args.parse_int_safe("42")
    print("  '42' -> {i1}")
    val i2 = parsed_args.parse_int_safe("-123")
    print("  '-123' -> {i2}")
    val i3 = parsed_args.parse_int_safe("  456  ")
    print("  '  456  ' -> {i3}")
    val i4 = parsed_args.parse_int_safe("+789")
    print("  '+789' -> {i4}")
    val i5 = parsed_args.parse_int_safe("")
    print("  '' -> {i5}")
    val i6 = parsed_args.parse_int_safe("abc")
    print("  'abc' -> {i6}")

    # Test parsed_args.parse_float_safe
    print("")
    print("Testing parsed_args.parse_float_safe:")
    val f1 = parsed_args.parse_float_safe("3.14")
    print("  '3.14' -> {f1}")
    val f2 = parsed_args.parse_float_safe("-2.5")
    print("  '-2.5' -> {f2}")
    val f3 = parsed_args.parse_float_safe("1e3")
    print("  '1e3' -> {f3}")
    val f4 = parsed_args.parse_float_safe("1.5e-2")
    print("  '1.5e-2' -> {f4}")
    val f5 = parsed_args.parse_float_safe("  0.001  ")
    print("  '  0.001  ' -> {f5}")

    # Verify correctness
    if i1 != 42:
        print("FAIL: parsed_args.parse_int_safe('42')")
        return 1
    if i2 != -123:
        print("FAIL: parsed_args.parse_int_safe('-123')")
        return 1
    if i3 != 456:
        print("FAIL: parsed_args.parse_int_safe('  456  ')")
        return 1
    if f1 < 3.13 or f1 > 3.15:
        print("FAIL: parsed_args.parse_float_safe('3.14')")
        return 1
    if f2 < -2.51 or f2 > -2.49:
        print("FAIL: parsed_args.parse_float_safe('-2.5')")
        return 1
    if f3 < 999.0 or f3 > 1001.0:
        print("FAIL: parsed_args.parse_float_safe('1e3')")
        return 1

    print("")
    print("All tests passed!")
    return 0
