# System module - Process control and standard streams
# Local implementation for LMS

# Re-export standard system functions from root sys module
pub use sys.{stdout_write, stderr_write, get_args, exit}

# Environment variable access (LMS-specific extension)
pub class Env:
    _dummy: Bool  # Placeholder field (classes must have at least one field)

impl Env:
    # Get environment variable
    pub fn get(self, name: String) -> Option<String>:
        """Get environment variable value.

        Args:
            name: Variable name

        Returns:
            Variable value if set, None otherwise
        """
        @extern("runtime", "rt_env_get")
        fn _rt_env_get(name_ptr: &u8, name_len: u64) -> Any

        let result = _rt_env_get(name.ptr(), name.len())
        if result.is_nil():
            None
        else:
            Some(result as String)

# Global env instance
pub fn env() -> Env:
    Env { _dummy: true }
