# Networking API - Top-level module with variant selection
#
# This is the main networking API that users import.
# It automatically selects the right variant based on module context.
#
# DEFAULT: Async GC variant (host.async_gc_mut.net)
#
# Quick Start:
#   use io.net as net
#
#   # TCP server (string convenience API)
#   val listener = await net.TcpListener::bind_str("127.0.0.1:8080")?
#   val stream = await listener.accept()?
#
#   # TCP client with context manager
#   async with await net.TcpStream::connect_str("127.0.0.1:8080") as stream:
#       await stream.write_all(data)?
#
#   # Type-safe semantic API
#   val addr = SocketAddr::new(IpAddr::v4(127, 0, 0, 1), Port(8080))
#   async with await net.TcpStream::connect(addr) as stream:
#       await stream.write_all(data)?
#
# Variant Selection:
#   - Default/GC: host.async_gc_mut.net (automatic memory)
#   - NoGC (#[no_gc]): host.async_nogc_mut.net (manual memory)

# Variant selection - automatically picks based on module context
#[variant(default: "host.async_gc_mut.net")]
#[variant(nogc: "host.async_nogc_mut.net")]
pub use variant::*

# Re-export all public APIs from selected variant
pub use {
    # TCP
    TcpListener, TcpStream,

    # UDP
    UdpSocket,

    # Runtime (monoio)
    Runtime, init_runtime, init_global_runtime, shutdown_runtime,
    spawn, block_on, get_num_cores,

    # HTTP (from host module)
    HttpClient, HttpRequest, HttpResponse,

    # FTP (from host module)
    FtpClient,

    # Types
    NetError,

    # Context manager support
    AsyncContextManager,
    Exception,
}

# Note: Context manager implementations are provided by the variant modules
# Usage:
#   async with await TcpStream::connect_str("127.0.0.1:8080") as stream:
#   async with await TcpListener::bind_str("127.0.0.1:8080") as listener:
