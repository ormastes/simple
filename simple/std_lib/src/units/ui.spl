# UI Unit Types
# Pixel dimensions and UI-related semantic types

# Pixel dimension (can be negative for relative positioning)
unit PixelDimension: i32 as px_dim

impl PixelDimension:
    pub fn from_i32(n: i32) -> PixelDimension:
        """Create pixel dimension from i32."""
        return n_px_dim

    pub fn value() -> i32:
        """Get underlying i32 value."""
        return self as i32

    pub fn zero() -> PixelDimension:
        """Zero pixels."""
        return 0_px_dim

    pub fn is_zero() -> bool:
        """Check if dimension is zero."""
        return self.value() == 0

    pub fn is_negative() -> bool:
        """Check if dimension is negative."""
        return self.value() < 0

    pub fn is_positive() -> bool:
        """Check if dimension is positive."""
        return self.value() > 0

    pub fn abs() -> PixelDimension:
        """Get absolute value."""
        val v = self.value()
        if v < 0:
            return (-v)_px_dim
        return self

    pub fn add(other: PixelDimension) -> PixelDimension:
        """Add two pixel dimensions."""
        return (self.value() + other.value())_px_dim

    pub fn sub(other: PixelDimension) -> PixelDimension:
        """Subtract pixel dimensions."""
        return (self.value() - other.value())_px_dim

    pub fn clamp(min: PixelDimension, max: PixelDimension) -> PixelDimension:
        """Clamp dimension to range [min, max]."""
        val v = self.value()
        val min_val = min.value()
        val max_val = max.value()

        if v < min_val:
            return min
        if v > max_val:
            return max
        return self

    pub fn max_with(other: PixelDimension) -> PixelDimension:
        """Get maximum of two dimensions."""
        if self.value() > other.value():
            return self
        return other

    pub fn min_with(other: PixelDimension) -> PixelDimension:
        """Get minimum of two dimensions."""
        if self.value() < other.value():
            return self
        return other
