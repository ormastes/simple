# Configuration System
# Minimal working version

export Conf, Config

class Config:
    _data: any

    fn __init__(self, data: any):
        self._data = data

    fn get(self, path: str) -> any:
        # Simple implementation - just get from dict
        if "." in path:
            let parts = path.split(".")
            let current = self._data
            for part in parts:
                if part in current:
                    current = current[part]
                else:
                    return 0  # TODO: proper null handling
            return current
        else:
            if path in self._data:
                return self._data[path]
            return 0  # TODO: proper null handling


class Conf:
    @static
    fn from_dict(data: any) -> Config:
        return Config(data)

    @static
    fn merge(base: Config, overlay: Config) -> Config:
        let merged = {}

        # Copy base
        for (key, val) in base._data.items():
            merged[key] = val

        # Overlay second config
        for (key, val) in overlay._data.items():
            merged[key] = val

        return Config(merged)
