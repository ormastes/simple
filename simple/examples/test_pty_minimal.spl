# Minimal PTY test - just test opening and closing

import sys.pty

def main():
    print("Testing PTY operations...")

    # Test 1: Open PTY
    print("1. Opening PTY pair...")
    pty_pair = sys.pty.openpty()
    (master_fd, slave_fd) = pty_pair

    print("   Master FD: " + str(master_fd))
    print("   Slave FD: " + str(slave_fd))

    # Test 2: Write and read
    print("2. Testing write/read...")
    write_ok = sys.pty.write(master_fd, "hello")
    print("   Write result: " + str(write_ok))

    # Note: Reading might timeout since we're not spawning a process
    output = sys.pty.read(slave_fd, 100)
    print("   Read result: '" + output + "'")

    # Test 3: Close
    print("3. Closing PTY pair...")
    close1 = sys.pty.close(master_fd)
    close2 = sys.pty.close(slave_fd)

    print("   Close master: " + str(close1))
    print("   Close slave: " + str(close2))

    print("")
    print("PTY test complete!")


if __name__ == "__main__":
    main()
