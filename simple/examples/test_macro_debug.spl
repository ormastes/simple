# Debug macro registration

macro gen_answer() -> (
    intro my_func:
        enclosing.module.fn "get_answer"() -> Int
):
    const_eval:
        println!("Macro executing - const_eval block")

    emit my_func:
        println!("Macro executing - emit block")
        fn get_answer() -> Int:
            println!("get_answer() called!")
            return 42

println!("Before macro invocation")
gen_answer!()
println!("After macro invocation")

fn main():
    println!("In main, about to call get_answer")
    let result = get_answer()
    println!("Result: ", result)
