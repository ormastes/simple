# Test file for new primitive and collection methods
# Tests methods added from Ruby/Python comparison

print "=== Testing String Methods ==="

# capitalize
print "hello world".capitalize()  # Should: Hello world

# swapcase
print "Hello World".swapcase()  # Should: hELLO wORLD

# title
print "hello world from simple".title()  # Should: Hello World From Simple

# removeprefix / removesuffix
print "HelloWorld".removeprefix("Hello")  # Should: World
print "HelloWorld".removesuffix("World")  # Should: Hello

# center
print "hi".center(10, "*")  # Should: ****hi****

# zfill
print "42".zfill(5)  # Should: 00042
print "-42".zfill(5)  # Should: -0042

# partition
parts = "hello-world-test".partition("-")
print parts  # Should: ["hello", "-", "world-test"]

# rpartition
parts = "hello-world-test".rpartition("-")
print parts  # Should: ["hello-world", "-", "test"]

# chomp
print "hello\n".chomp()  # Should: hello
print "hello\r\n".chomp()  # Should: hello

# squeeze
print "hello    world".squeeze(" ")  # Should: hello world
print "bookkeeper".squeeze()  # Should: bokeper

print "\n=== Testing Integer Methods ==="

# gcd
print 48.gcd(18)  # Should: 6
print 100.gcd(75)  # Should: 25

# lcm
print 12.lcm(18)  # Should: 36
print 21.lcm(6)  # Should: 42

# digits
print 12345.digits()  # Should: [5, 4, 3, 2, 1]
print 255.digits(16)  # Should: [15, 15] (0xFF in hex)

# bit_length
print 0.bit_length()  # Should: 0
print 7.bit_length()  # Should: 3
print 255.bit_length()  # Should: 8

# chr
print 65.chr()  # Should: A
print 97.chr()  # Should: a
print 128512.chr()  # Should: ðŸ˜€

print "\n=== Testing Float Methods ==="

# is_integer
print 3.0.is_integer()  # Should: true
print 3.5.is_integer()  # Should: false

# as_integer_ratio
print 0.5.as_integer_ratio()  # Should: [1, 2]
print 0.25.as_integer_ratio()  # Should: [1, 4]

print "\n=== Testing Array Methods ==="

# compact
arr = [1, nil, 2, nil, 3]
print arr.compact()  # Should: [1, 2, 3]

# rotate
arr = [1, 2, 3, 4, 5]
print arr.rotate(2)  # Should: [3, 4, 5, 1, 2]
print arr.rotate(-1)  # Should: [5, 1, 2, 3, 4]

# shuffle (just test it runs)
arr = [1, 2, 3, 4, 5]
shuffled = arr.shuffle()
print "Shuffled: {shuffled}"

# sample
arr = [1, 2, 3, 4, 5]
print "Single sample: {arr.sample()}"
print "Multiple samples: {arr.sample(3)}"

# transpose
matrix = [[1, 2, 3], [4, 5, 6]]
print matrix.transpose()  # Should: [[1, 4], [2, 5], [3, 6]]

# fetch
arr = [10, 20, 30]
print arr.fetch(1, 999)  # Should: 20
print arr.fetch(10, 999)  # Should: 999

print "\n=== Testing Dict Methods ==="

# compact
dict = {"a": 1, "b": nil, "c": 3}
print dict.compact()  # Should: {"a": 1, "c": 3}

# fetch
dict = {"a": 1, "b": 2}
print dict.fetch("a", 999)  # Should: 1
print dict.fetch("z", 999)  # Should: 999

# setdefault
dict = {"a": 1}
result = dict.setdefault("a", 999)
print result  # Should: [1, {"a": 1}]
result = dict.setdefault("b", 2)
print result  # Should: [2, {"a": 1, "b": 2}]

# dig
nested = {"a": {"b": {"c": 42}}}
print nested.dig("a", "b", "c")  # Should: 42
print nested.dig("a", "x", "y")  # Should: nil

print "\n=== All Tests Complete ==="
