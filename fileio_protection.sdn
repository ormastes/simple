# File I/O Protection Rules Configuration
# Defines access control rules for file operations via MCP

# Protection rules table
# pattern: File path or pattern to match
# type: exact|glob|regex
# action: deny|protect|redirect|atomic|allow
# reason: Human-readable explanation

protected_paths |pattern, type, action, reason|
    "/", exact, deny, "System root directory"
    "/etc/*", glob, deny, "System configuration"
    "/usr/*", glob, deny, "System binaries"
    "/var/*", glob, deny, "System data"
    "/boot/*", glob, deny, "System boot files"
    "/sys/*", glob, deny, "System kernel interface"
    "/proc/*", glob, deny, "Process information"
    "fileio_protection.sdn", exact, atomic, "MCP configuration file"
    "CLAUDE.md", exact, protect, "Project instructions"
    "MEMORY.md", exact, protect, "Memory notes"
    "*.sdn", glob, atomic, "Database files require atomic writes"
    "*.lock", glob, deny, "Lock files managed by system"
    "*.sh", glob, redirect, "Shell scripts redirected to temp"
    "src/", exact, protect, "Source code directory"
    "test/", exact, protect, "Test directory"
    "rust/", exact, protect, "Rust source directory"
    "doc/", exact, allow, "Documentation can be modified"
    ".git/", exact, deny, "Git directory"
    ".jj/", exact, deny, "Jujutsu directory"
    "bin/", exact, protect, "Binary directory"
    ".coverage/", exact, allow, "Coverage data"
    "build/", exact, allow, "Build artifacts"
    ".", exact, protect, "Project root - no new file creation"

# Temporary directory configuration
temp_config:
    base_dir: ".fileio_temp"
    session_prefix: "session_"
    cleanup_on_exit: true
    max_age_hours: 24
