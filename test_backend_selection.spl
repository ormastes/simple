# Test Backend Selection
#
# Minimal test to verify backend parsing functions work

use compiler_core.backend_types.{BackendKind, backendkind_from_text, backendkind_to_text}

fn test_backend_parsing():
    print "Testing backend name parsing..."

    # Test Cranelift
    val clif = backendkind_from_text("cranelift")
    if clif != nil:
        print "  'cranelift' -> {backendkind_to_text(clif)}"
    else:
        print "  ERROR: 'cranelift' returned nil"

    # Test LLVM
    val llvm = backendkind_from_text("llvm")
    if llvm != nil:
        print "  'llvm' -> {backendkind_to_text(llvm)}"
    else:
        print "  ERROR: 'llvm' returned nil"

    # Test auto
    val auto = backendkind_from_text("auto")
    if auto == nil:
        print "  'auto' -> nil (correct - use auto-selection)"
    else:
        print "  ERROR: 'auto' should return nil"

    # Test invalid
    val invalid = backendkind_from_text("invalid")
    if invalid == nil:
        print "  'invalid' -> nil (correct - unknown backend)"
    else:
        print "  ERROR: 'invalid' should return nil"

    print ""
    print "Backend parsing tests complete!"

fn main():
    test_backend_parsing()

main()
