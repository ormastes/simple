# Basic Types Feature Specification
# Feature #10: Primitive types
# Category: Types | Difficulty: 2 | Status: Complete

# =====================================================
# Feature Metadata
# =====================================================

class FeatureMetadata:
    id: Int
    name: String
    category: String
    difficulty: Int
    status: String
    impl_type: String
    spec_ref: String
    files: List<String>
    tests: List<String>
    description: String
    code_examples: List<String>
    dependencies: List<Int>
    required_by: List<Int>
    notes: String

let FEATURE = FeatureMetadata {
    id: 10,
    name: "Basic Types",
    category: "Types",
    difficulty: 2,
    status: "Complete",
    impl_type: "Rust",
    spec_ref: "doc/spec/types.md",
    files: [
        "src/compiler/src/hir/types.rs",
        "src/runtime/src/value/core.rs"
    ],
    tests: [
        "src/driver/tests/interpreter_types_tests.rs"
    ],
    description: "Primitive types: Int (i64), Float (f64), Bool, String, and Nil. Supports type annotations and inference.",
    code_examples: [
        "let i: Int = 42",
        "let f: Float = 3.14",
        "let b: Bool = true"
    ],
    dependencies: [1, 2],
    required_by: [11, 12, 14],
    notes: "Int is 64-bit signed. Float is 64-bit IEEE 754. Bool is true/false."
}

# =====================================================
# BDD Specification Tests
# =====================================================

print("============================================================")
print("  BASIC TYPES FEATURE SPECIFICATION (#10)")
print("  Category: Types | Difficulty: 2 | Status: Complete")
print("============================================================")

let mut passed = 0
let mut failed = 0

# Integer types
print("describe Integer types:")

print("  it creates integer literals:")
let x = 42
let y = -100
if x == 42 and y == -100:
    print("    [PASS] integer literals")
    passed = passed + 1
else:
    print("    [FAIL] integer literals")
    failed = failed + 1

print("  it performs integer arithmetic:")
let a = 10 + 5
let b = 10 - 3
let c = 4 * 5
let d = 20 / 4
if a == 15 and b == 7 and c == 20 and d == 5:
    print("    [PASS] integer arithmetic")
    passed = passed + 1
else:
    print("    [FAIL] integer arithmetic")
    failed = failed + 1

print("  it supports modulo operation:")
let r = 17 % 5
if r == 2:
    print("    [PASS] modulo operation")
    passed = passed + 1
else:
    print("    [FAIL] modulo operation")
    failed = failed + 1

# Float types
print("")
print("describe Float types:")

print("  it creates float literals:")
let f1 = 3.14
let f2 = -2.5
if f1 == 3.14 and f2 == -2.5:
    print("    [PASS] float literals")
    passed = passed + 1
else:
    print("    [FAIL] float literals")
    failed = failed + 1

print("  it performs float arithmetic:")
let fa = 1.5 + 2.5
let fb = 5.0 - 1.5
let fc = 2.0 * 3.0
if fa == 4.0 and fb == 3.5 and fc == 6.0:
    print("    [PASS] float arithmetic")
    passed = passed + 1
else:
    print("    [FAIL] float arithmetic")
    failed = failed + 1

# Boolean types
print("")
print("describe Boolean types:")

print("  it creates boolean literals:")
let t = true
let f = false
if t == true and f == false:
    print("    [PASS] boolean literals")
    passed = passed + 1
else:
    print("    [FAIL] boolean literals")
    failed = failed + 1

print("  it performs boolean operations:")
if (true and true) == true and (true and false) == false:
    if (true or false) == true and (not false) == true:
        print("    [PASS] boolean operations")
        passed = passed + 1
    else:
        print("    [FAIL] boolean operations")
        failed = failed + 1
else:
    print("    [FAIL] boolean operations")
    failed = failed + 1

# Comparisons
print("")
print("describe Type comparisons:")

print("  it compares integers:")
if 5 > 3 and 3 < 5 and 5 >= 5 and 5 <= 5 and 5 == 5 and 5 != 3:
    print("    [PASS] integer comparisons")
    passed = passed + 1
else:
    print("    [FAIL] integer comparisons")
    failed = failed + 1

print("  it compares floats:")
if 3.14 > 2.0 and 1.5 < 2.5:
    print("    [PASS] float comparisons")
    passed = passed + 1
else:
    print("    [FAIL] float comparisons")
    failed = failed + 1

# Print generated documentation
print("============================================================")
print("  GENERATED DOCUMENTATION")
print("============================================================")
print("# {FEATURE.name}")
print("")
print("**Feature ID:** #{FEATURE.id}")
print("**Category:** {FEATURE.category}")
print("**Difficulty:** Level {FEATURE.difficulty}/5")
print("**Status:** {FEATURE.status}")
print("**Implementation:** {FEATURE.impl_type}")
print("")
print("## Description")
print("")
print(FEATURE.description)
print("")
print("## Implementation Files")
for file in FEATURE.files:
    print("- `{file}`")
print("")
print("## Test Files")
for test in FEATURE.tests:
    print("- `{test}`")
print("")
print("## Notes")
print("")
print(FEATURE.notes)

# Print summary
print("============================================================")
print("  TEST SUMMARY")
print("============================================================")
print("Passed: {passed}")
print("Failed: {failed}")
print("Total:  {passed + failed}")
if failed == 0:
    print("All tests PASSED!")
else:
    print("Some tests FAILED!")
print("============================================================")
