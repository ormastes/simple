# Operators Feature Specification
# Feature #30: Arithmetic, comparison, and logical operators
# Category: Types | Difficulty: 2 | Status: Complete

# =====================================================
# Feature Metadata
# =====================================================

class FeatureMetadata:
    id: Int
    name: String
    category: String
    difficulty: Int
    status: String
    impl_type: String
    spec_ref: String
    files: List<String>
    tests: List<String>
    description: String
    code_examples: List<String>
    dependencies: List<Int>
    required_by: List<Int>
    notes: String

# Feature Definition
let FEATURE = FeatureMetadata {
    id: 30,
    name: 'Operators',
    category: 'Types',
    difficulty: 2,
    status: 'Complete',
    impl_type: 'Rust',
    spec_ref: 'doc/spec/syntax.md',
    files: [
        'src/compiler/src/interpreter.rs',
        'src/parser/src/expressions/mod.rs'
    ],
    tests: [
        'src/driver/tests/interpreter_expressions_tests.rs'
    ],
    description: 'Full set of operators: arithmetic (+, -, *, /, %), comparison (==, !=, <, >, <=, >=), logical (and, or, not), and bitwise operations.',
    code_examples: [],
    dependencies: [1, 2, 10],
    required_by: [12, 13],
    notes: 'Operators follow standard precedence rules. Use parentheses for explicit grouping.'
}

# =====================================================
# BDD Specification Tests
# =====================================================

print('============================================================')
print('  OPERATORS FEATURE SPECIFICATION (#30)')
print('  Category: Types | Difficulty: 2 | Status: Complete')
print('============================================================')
print('')

let mut passed = 0
let mut failed = 0

print('describe Arithmetic operators:')
print('  it performs addition:')

if 2 + 3 == 5:
    print('    [PASS] addition')
    passed = passed + 1
else:
    print('    [FAIL] addition')
    failed = failed + 1

print('  it performs subtraction:')

if 10 - 4 == 6:
    print('    [PASS] subtraction')
    passed = passed + 1
else:
    print('    [FAIL] subtraction')
    failed = failed + 1

print('  it performs multiplication:')

if 3 * 4 == 12:
    print('    [PASS] multiplication')
    passed = passed + 1
else:
    print('    [FAIL] multiplication')
    failed = failed + 1

print('  it performs division:')

if 15 / 3 == 5:
    print('    [PASS] division')
    passed = passed + 1
else:
    print('    [FAIL] division')
    failed = failed + 1

print('  it performs modulo:')

if 17 % 5 == 2:
    print('    [PASS] modulo')
    passed = passed + 1
else:
    print('    [FAIL] modulo')
    failed = failed + 1

print('  it respects operator precedence:')

if 2 + 3 * 4 == 14:
    print('    [PASS] precedence (* before +)')
    passed = passed + 1
else:
    print('    [FAIL] precedence')
    failed = failed + 1

print('')
print('describe Comparison operators:')
print('  it compares with ==:')

if 5 == 5:
    print('    [PASS] equality ==')
    passed = passed + 1
else:
    print('    [FAIL] equality')
    failed = failed + 1

print('  it compares with !=:')

if 5 != 3:
    print('    [PASS] inequality !=')
    passed = passed + 1
else:
    print('    [FAIL] inequality')
    failed = failed + 1

print('  it compares with < and >:')

if 3 < 5 and 5 > 3:
    print('    [PASS] less/greater than')
    passed = passed + 1
else:
    print('    [FAIL] less/greater')
    failed = failed + 1

print('  it compares with <= and >=:')

if 5 <= 5 and 5 >= 5:
    print('    [PASS] less/greater or equal')
    passed = passed + 1
else:
    print('    [FAIL] less/greater equal')
    failed = failed + 1

print('')
print('describe Logical operators:')
print('  it performs and:')

if true and true:
    print('    [PASS] logical and')
    passed = passed + 1
else:
    print('    [FAIL] and')
    failed = failed + 1

print('  it performs or:')

if false or true:
    print('    [PASS] logical or')
    passed = passed + 1
else:
    print('    [FAIL] or')
    failed = failed + 1

print('  it performs not:')

if not false:
    print('    [PASS] logical not')
    passed = passed + 1
else:
    print('    [FAIL] not')
    failed = failed + 1

print('  it short-circuits and:')

let mut called = false
fn set_called():
    called = true
    return true

if false and set_called():
    pass
if not called:
    print('    [PASS] and short-circuit')
    passed = passed + 1
else:
    print('    [FAIL] short-circuit')
    failed = failed + 1

print('')
print('describe Unary operators:')
print('  it negates numbers:')

let x = 5
if -x == -5:
    print('    [PASS] unary minus')
    passed = passed + 1
else:
    print('    [FAIL] unary minus')
    failed = failed + 1

# =====================================================
# Documentation Output
# =====================================================

print('')
print('============================================================')
print('  GENERATED DOCUMENTATION')
print('============================================================')
print('')
print('# Operators')
print('')
print('**Feature ID:** #30')
print('**Category:** Types')
print('**Difficulty:** Level 2/5')
print('**Status:** Complete')
print('**Implementation:** Rust')
print('')
print('## Description')
print('')
print(FEATURE.description)
print('')
print('## Notes')
print('')
print(FEATURE.notes)

# Summary
print('')
print('============================================================')
print('  TEST SUMMARY')
print('============================================================')
print('Passed: {passed}')
print('Failed: {failed}')
print('Total:  {passed + failed}')
if failed == 0:
    print('All tests PASSED!')
print('============================================================')
