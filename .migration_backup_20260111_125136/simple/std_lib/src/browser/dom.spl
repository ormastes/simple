# Browser DOM API
#
# Provides access to the Document Object Model (DOM) for manipulating HTML elements,
# handling events, and updating the user interface.
#
# Example:
#   ```
#   import browser.dom as dom
#
#   # Get element by ID
#   let button = dom.get_element_by_id("submit-btn")
#
#   # Add event listener
#   button.add_event_listener("click", on_click)
#
#   # Update text content
#   button.set_text_content("Click Me!")
#   ```

# Get the document object
#
# Returns a reference to the global document object.
@extern("browser", "get_document")
fn get_document() -> Document:
    pass

# Document class representing the HTML document
class Document:
    # Get an element by its ID
    #
    # Example:
    #   ```
    #   let doc = dom.get_document()
    #   let elem = doc.get_element_by_id("header")
    #   ```
    @extern("browser", "document_get_element_by_id")
    fn get_element_by_id(id: str) -> Element:
        pass

    # Query for the first element matching a CSS selector
    #
    # Example:
    #   ```
    #   let elem = doc.query_selector(".btn-primary")
    #   ```
    @extern("browser", "document_query_selector")
    fn query_selector(selector: str) -> Element:
        pass

    # Query for all elements matching a CSS selector
    #
    # Example:
    #   ```
    #   let buttons = doc.query_selector_all("button")
    #   ```
    @extern("browser", "document_query_selector_all")
    fn query_selector_all(selector: str) -> List<Element>:
        pass

    # Create a new element
    #
    # Example:
    #   ```
    #   let div = doc.create_element("div")
    #   ```
    @extern("browser", "document_create_element")
    fn create_element(tag_name: str) -> Element:
        pass

    # Create a text node
    #
    # Example:
    #   ```
    #   let text = doc.create_text_node("Hello World")
    #   ```
    @extern("browser", "document_create_text_node")
    fn create_text_node(data: str) -> Node:
        pass

    # Get the document body element
    @extern("browser", "document_get_body")
    fn get_body() -> Element:
        pass

    # Get the document head element
    @extern("browser", "document_get_head")
    fn get_head() -> Element:
        pass

    # Get document title
    @extern("browser", "document_get_title")
    fn get_title() -> str:
        pass

    # Set document title
    @extern("browser", "document_set_title")
    fn set_title(title: str):
        pass

# HTML Element class
class Element:
    # Get element ID
    @extern("browser", "element_get_id")
    fn get_id() -> str:
        pass

    # Set element ID
    @extern("browser", "element_set_id")
    fn set_id(id: str):
        pass

    # Get tag name
    @extern("browser", "element_get_tag_name")
    fn get_tag_name() -> str:
        pass

    # Get class name
    @extern("browser", "element_get_class_name")
    fn get_class_name() -> str:
        pass

    # Set class name
    @extern("browser", "element_set_class_name")
    fn set_class_name(class_name: str):
        pass

    # Get text content
    @extern("browser", "element_get_text_content")
    fn get_text_content() -> str:
        pass

    # Set text content
    @extern("browser", "element_set_text_content")
    fn set_text_content(text: str):
        pass

    # Get inner HTML
    @extern("browser", "element_get_inner_html")
    fn get_inner_html() -> str:
        pass

    # Set inner HTML
    @extern("browser", "element_set_inner_html")
    fn set_inner_html(html: str):
        pass

    # Get attribute value
    #
    # Example:
    #   ```
    #   let href = link.get_attribute("href")
    #   ```
    @extern("browser", "element_get_attribute")
    fn get_attribute(name: str) -> str:
        pass

    # Set attribute value
    #
    # Example:
    #   ```
    #   link.set_attribute("href", "https://example.com")
    #   ```
    @extern("browser", "element_set_attribute")
    fn set_attribute(name: str, value: str):
        pass

    # Remove attribute
    @extern("browser", "element_remove_attribute")
    fn remove_attribute(name: str):
        pass

    # Check if attribute exists
    @extern("browser", "element_has_attribute")
    fn has_attribute(name: str) -> bool:
        pass

    # Add event listener
    #
    # Example:
    #   ```
    #   fn on_click(event: Event):
    #       console.log("Clicked!")
    #
    #   button.add_event_listener("click", on_click)
    #   ```
    @extern("browser", "element_add_event_listener")
    fn add_event_listener(event_type: str, handler: fn):
        pass

    # Remove event listener
    @extern("browser", "element_remove_event_listener")
    fn remove_event_listener(event_type: str, handler: fn):
        pass

    # Append a child element
    #
    # Example:
    #   ```
    #   parent.append_child(child)
    #   ```
    @extern("browser", "element_append_child")
    fn append_child(child: Element):
        pass

    # Remove a child element
    @extern("browser", "element_remove_child")
    fn remove_child(child: Element):
        pass

    # Insert before a reference node
    @extern("browser", "element_insert_before")
    fn insert_before(new_node: Element, ref_node: Element):
        pass

    # Replace a child element
    @extern("browser", "element_replace_child")
    fn replace_child(new_child: Element, old_child: Element):
        pass

    # Get parent element
    @extern("browser", "element_get_parent")
    fn get_parent() -> Element:
        pass

    # Get first child
    @extern("browser", "element_get_first_child")
    fn get_first_child() -> Element:
        pass

    # Get last child
    @extern("browser", "element_get_last_child")
    fn get_last_child() -> Element:
        pass

    # Get next sibling
    @extern("browser", "element_get_next_sibling")
    fn get_next_sibling() -> Element:
        pass

    # Get previous sibling
    @extern("browser", "element_get_previous_sibling")
    fn get_previous_sibling() -> Element:
        pass

    # Get children
    @extern("browser", "element_get_children")
    fn get_children() -> List<Element>:
        pass

    # Add CSS class
    #
    # Example:
    #   ```
    #   button.add_class("active")
    #   ```
    @extern("browser", "element_add_class")
    fn add_class(class_name: str):
        pass

    # Remove CSS class
    @extern("browser", "element_remove_class")
    fn remove_class(class_name: str):
        pass

    # Toggle CSS class
    @extern("browser", "element_toggle_class")
    fn toggle_class(class_name: str):
        pass

    # Check if has CSS class
    @extern("browser", "element_has_class")
    fn has_class(class_name: str) -> bool:
        pass

    # Get computed style
    @extern("browser", "element_get_style")
    fn get_style(property: str) -> str:
        pass

    # Set inline style
    #
    # Example:
    #   ```
    #   elem.set_style("color", "red")
    #   elem.set_style("font-size", "16px")
    #   ```
    @extern("browser", "element_set_style")
    fn set_style(property: str, value: str):
        pass

    # Get bounding rectangle
    @extern("browser", "element_get_bounding_rect")
    fn get_bounding_rect() -> DOMRect:
        pass

    # Scroll into view
    @extern("browser", "element_scroll_into_view")
    fn scroll_into_view():
        pass

    # Focus the element
    @extern("browser", "element_focus")
    fn focus():
        pass

    # Blur the element (remove focus)
    @extern("browser", "element_blur")
    fn blur():
        pass

    # Click the element programmatically
    @extern("browser", "element_click")
    fn click():
        pass

# DOM Node (base class for elements and text nodes)
class Node:
    # Get node type
    @extern("browser", "node_get_type")
    fn get_type() -> i64:
        pass

    # Get node value
    @extern("browser", "node_get_value")
    fn get_value() -> str:
        pass

    # Set node value
    @extern("browser", "node_set_value")
    fn set_value(value: str):
        pass

# DOM Rectangle for element bounds
class DOMRect:
    @extern("browser", "rect_get_x")
    fn get_x() -> f64:
        pass

    @extern("browser", "rect_get_y")
    fn get_y() -> f64:
        pass

    @extern("browser", "rect_get_width")
    fn get_width() -> f64:
        pass

    @extern("browser", "rect_get_height")
    fn get_height() -> f64:
        pass

    @extern("browser", "rect_get_top")
    fn get_top() -> f64:
        pass

    @extern("browser", "rect_get_bottom")
    fn get_bottom() -> f64:
        pass

    @extern("browser", "rect_get_left")
    fn get_left() -> f64:
        pass

    @extern("browser", "rect_get_right")
    fn get_right() -> f64:
        pass

# Event class for event handlers
class Event:
    # Get event type
    @extern("browser", "event_get_type")
    fn get_type() -> str:
        pass

    # Get event target
    @extern("browser", "event_get_target")
    fn get_target() -> Element:
        pass

    # Prevent default action
    @extern("browser", "event_prevent_default")
    fn prevent_default():
        pass

    # Stop event propagation
    @extern("browser", "event_stop_propagation")
    fn stop_propagation():
        pass

    # Get timestamp
    @extern("browser", "event_get_timestamp")
    fn get_timestamp() -> f64:
        pass

# Helper functions for common DOM operations

# Get element by ID (shorthand)
#
# Example:
#   ```
#   let button = dom.get_element_by_id("submit")
#   ```
@extern("browser", "document_get_element_by_id")
fn get_element_by_id(id: str) -> Element:
    pass

# Query selector (shorthand)
@extern("browser", "document_query_selector")
fn query_selector(selector: str) -> Element:
    pass

# Query selector all (shorthand)
@extern("browser", "document_query_selector_all")
fn query_selector_all(selector: str) -> List<Element>:
    pass

# Create element (shorthand)
@extern("browser", "document_create_element")
fn create_element(tag_name: str) -> Element:
    pass

# Get window object
@extern("browser", "get_window")
fn get_window() -> Window:
    pass

# Window class
class Window:
    # Get inner width
    @extern("browser", "window_get_inner_width")
    fn get_inner_width() -> i64:
        pass

    # Get inner height
    @extern("browser", "window_get_inner_height")
    fn get_inner_height() -> i64:
        pass

    # Alert dialog
    @extern("browser", "window_alert")
    fn alert(message: str):
        pass

    # Confirm dialog
    @extern("browser", "window_confirm")
    fn confirm(message: str) -> bool:
        pass

    # Prompt dialog
    @extern("browser", "window_prompt")
    fn prompt(message: str, default_value: str) -> str:
        pass

    # Set timeout
    @extern("browser", "window_set_timeout")
    fn set_timeout(handler: fn, delay: i64) -> i64:
        pass

    # Clear timeout
    @extern("browser", "window_clear_timeout")
    fn clear_timeout(timeout_id: i64):
        pass

    # Set interval
    @extern("browser", "window_set_interval")
    fn set_interval(handler: fn, delay: i64) -> i64:
        pass

    # Clear interval
    @extern("browser", "window_clear_interval")
    fn clear_interval(interval_id: i64):
        pass

    # Request animation frame
    @extern("browser", "window_request_animation_frame")
    fn request_animation_frame(callback: fn) -> i64:
        pass

    # Cancel animation frame
    @extern("browser", "window_cancel_animation_frame")
    fn cancel_animation_frame(request_id: i64):
        pass
