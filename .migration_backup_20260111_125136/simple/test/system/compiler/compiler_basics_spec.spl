# System Test: Compiler Basics
# Tests fundamental compiler functionality: arithmetic, variables, control flow, collections

import std.spec

describe "Simple Compiler":
    context "basic arithmetic":
        it "produces correct output for arithmetic":
            let result = 2 + 3
            expect(result).to(eq(5))

        it "handles variables":
            let x = 10
            let y = 20
            let sum = x + y
            expect(sum).to(eq(30))

    context "control flow":
        it "handles basic control flow":
            let x = 10
            let result = "smaller"
            if x > 5:
                result = "greater"
            expect(result).to(eq("greater"))

    context "collections":
        it "handles arrays":
            let arr = [1, 2, 3]
            expect(arr.len()).to(eq(3))
            expect(arr[0]).to(eq(1))

        it "handles dicts":
            let d = {"name": "Alice", "age": 30}
            expect(d["name"]).to(eq("Alice"))
            expect(d["age"]).to(eq(30))
