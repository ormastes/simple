# Test the new regex engine implementation
import std.core.regex

let pattern = regex.compile("h.*o")
let text = "hello world"

# Test match
let m = pattern.match(text)
if m.is_some():
    print("Match found: " + m.unwrap().matched_text())
else:
    print("No match")

# Test search
let pattern2 = regex.compile("\\d+")
let m2 = pattern2.search("age: 25 years")
if m2.is_some():
    let match_val = m2.unwrap()
    print("Found number: " + match_val.matched_text())

# Test replacement
let pattern3 = regex.compile("(\\w+)\\s+(\\w+)")
let result = pattern3.sub("\\2 \\1", "hello world")
print("Replaced: " + result)

# Test split
let pattern4 = regex.compile("\\s+")
let parts = pattern4.split("hello  world  foo")
print("Split into " + parts.len() + " parts")
