# Test the new regex engine implementation
import std.core.regex

val pattern = regex.compile("h.*o")
val text = "hello world"

# Test match
val m = pattern.match(text)
if m.is_some():
    print("Match found: " + m.unwrap().matched_text())
else:
    print("No match")

# Test search
val pattern2 = regex.compile("\\d+")
val m2 = pattern2.search("age: 25 years")
if m2.is_some():
    val match_val = m2.unwrap()
    print("Found number: " + match_val.matched_text())

# Test replacement
val pattern3 = regex.compile("(\\w+)\\s+(\\w+)")
val result = pattern3.sub("\\2 \\1", "hello world")
print("Replaced: " + result)

# Test split
val pattern4 = regex.compile("\\s+")
val parts = pattern4.split("hello  world  foo")
print("Split into " + parts.len() + " parts")
