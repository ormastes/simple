# Infrastructure

## Features

| ID | Feature | Description | Modes | Platforms | Spec |
|----|---------|-------------|-------|-----------|------|
| <a id="feature-1"></a>1 | Lexer | Tokenizes Simple language source code into a stream of tokens. Handles indentation-based syntax with INDENT/DEDENT tokens, string literals, numbers, identifiers, operators, and keywords. | interpreter:supported, jit:supported, smf_cranelift:supported, smf_llvm:supported | - | [doc/spec/lexer_parser.md](../../spec/lexer_parser.md#feature-1) |
| <a id="feature-2"></a>2 | Parser | Transforms token stream into Abstract Syntax Tree (AST). Uses recursive descent for statements and Pratt parsing for expressions with operator precedence. | interpreter:supported, jit:supported, smf_cranelift:supported, smf_llvm:supported | - | [doc/spec/lexer_parser.md](../../spec/lexer_parser.md#feature-2) |
| <a id="feature-3"></a>3 | AST | Abstract Syntax Tree for all Simple language constructs. Parses literals, expressions, statements, patterns, and type annotations into structured tree representation. | interpreter:supported, jit:supported, smf_cranelift:supported, smf_llvm:supported | - | [doc/spec/lexer_parser.md](../../spec/lexer_parser.md#feature-3) |
| <a id="feature-4"></a>4 | HIR | High-level IR for type checking and semantic analysis. Performs type inference, mutability checking, and capability verification after AST parsing. | interpreter:supported, jit:supported, smf_cranelift:supported, smf_llvm:supported | - | [doc/architecture/README.md](../../architecture/README.md#feature-4) |
| <a id="feature-5"></a>5 | MIR | Mid-level IR with 50+ instruction variants. Lowers HIR to basic blocks with explicit control flow. Handles arithmetic, memory, collections, patterns, async, and generators. | interpreter:supported, jit:supported, smf_cranelift:supported, smf_llvm:supported | - | [doc/codegen_technical.md](../../codegen_technical.md#feature-5) |
| <a id="feature-6"></a>6 | RuntimeValue | Tagged pointer value system with 64-bit encoding. Supports integers (61-bit), floats, booleans, nil, strings, arrays, dicts, and heap objects with type tagging. | interpreter:supported, jit:supported, smf_cranelift:supported, smf_llvm:supported | - | [doc/architecture/README.md](../../architecture/README.md#feature-6) |
| <a id="feature-7"></a>7 | GC | Automatic memory management with tracing garbage collection. Handles allocation, collection cycles, and safe deallocation of heap objects. | interpreter:supported, jit:supported, smf_cranelift:supported, smf_llvm:supported | - | [doc/architecture/README.md](../../architecture/README.md#feature-7) |
| <a id="feature-8"></a>8 | Package Manager | UV-style fast package management for Simple language. Supports simple.toml manifests, lock files, path/git dependencies, global cache, and dependency resolution. | interpreter:supported, jit:supported, smf_cranelift:supported, smf_llvm:supported | - | [doc/architecture/README.md](../../architecture/README.md#feature-8) |
| <a id="feature-9"></a>9 | SMF | Simple Module Format - binary executable format for compiled Simple programs. Supports sections, symbols, relocations, and memory mapping for efficient loading and execution. | interpreter:supported, jit:supported, smf_cranelift:supported, smf_llvm:supported | - | [doc/architecture/README.md](../../architecture/README.md#feature-9) |
| <a id="feature-200"></a>200 | Type Inference & Unification | Hindley-Milner type inference with Lean 4 verification. Provides automatic type deduction for expressions, generic instantiation, and Robinson unification algorithm. Formally verified with determinism, soundness, and progress theorems. | interpreter:supported, jit:supported, smf_cranelift:supported, smf_llvm:supported | - | [doc/spec/type_inference_spec.md](../../spec/type_inference_spec.md#feature-200) |
| <a id="feature-201"></a>201 | Effect System | Automatic async/sync effect inference implementing Simple's async-by-default concurrency model. Detects suspension points, propagates effects through call chains, validates sync constraints, and wraps async return values in Promises. Formally verified with effect determinism theorems. | interpreter:supported, jit:supported, smf_cranelift:supported, smf_llvm:supported | - | [doc/spec/effect_system_spec.md](../../spec/effect_system_spec.md#feature-201) |
| <a id="feature-202"></a>202 | Web Types & HTTP Utilities | Type-safe HTTP utilities including status code enumeration (1xx-5xx), fluent response builder API, route parameter extraction with type conversion, and bitfield types for compact data representation. | interpreter:supported, jit:supported, smf_cranelift:supported, smf_llvm:supported | - | [doc/spec/web_types_spec.md](../../spec/web_types_spec.md#feature-202) |
| <a id="feature-203"></a>203 | Common Utilities | Foundational infrastructure including memory-mapped file I/O (15% faster for large files), unified configuration management (env vars, CLI args), thread-safe module caching, and runtime symbol provider with ABI versioning. | interpreter:supported, jit:supported, smf_cranelift:supported, smf_llvm:supported | - | [doc/spec/common_utilities_spec.md](../../spec/common_utilities_spec.md#feature-203) |
| <a id="feature-204"></a>204 | Dependency Tracker | Formally verified module resolution with 17 Lean 4 theorems. Implements module path resolution (dot-path to filesystem), visibility system (public/private/internal), macro auto-import semantics, and cyclic dependency detection. | interpreter:supported, jit:supported, smf_cranelift:supported, smf_llvm:supported | - | [doc/spec/dependency_tracker_spec.md](../../spec/dependency_tracker_spec.md#feature-204) |
| <a id="feature-205"></a>205 | Native Loader | FFI and dynamic library loading for native integration. Provides cross-platform library loading (.so/.dylib/.dll), type-safe symbol lookup, module registry with hot reload, and three-tier symbol providers (static/dynamic/chained). | interpreter:supported, jit:supported, smf_cranelift:supported, smf_llvm:supported | - | [doc/spec/native_loader_spec.md](../../spec/native_loader_spec.md#feature-205) |
| <a id="feature-206"></a>206 | Compiler Driver & Runner | Compilation pipeline orchestration managing multiple execution modes (interpreter, JIT, AOT, SMF). Supports cross-compilation targets, module resolution, dependency tracking, and unified compilation options. | interpreter:supported, jit:supported, smf_cranelift:supported, smf_llvm:supported | - | [doc/spec/compiler_driver_spec.md](../../spec/compiler_driver_spec.md#feature-206) |
| <a id="feature-207"></a>207 | Interpreter & REPL | Runtime execution engine with full language support including async/await, pattern matching, and associated function calls. Provides interactive REPL with state persistence and error recovery. | interpreter:supported, jit:not_supported, smf_cranelift:not_supported, smf_llvm:not_supported | - | [doc/spec/interpreter_repl_spec.md](../../spec/interpreter_repl_spec.md#feature-207) |
| <a id="feature-208"></a>208 | Testing Framework | Comprehensive test infrastructure including doctest extraction from documentation, BDD-style SimpleTest/SSpec syntax, async test support, coverage reporting, and code duplication detection. | interpreter:supported, jit:supported, smf_cranelift:supported, smf_llvm:supported | - | [doc/spec/testing_framework_spec.md](../../spec/testing_framework_spec.md#feature-208) |
| <a id="feature-209"></a>209 | CLI Tools & Utilities | Developer utilities including LLM-friendly tools (context packs, IR export), code analysis (dependency graphs, duplication), migration tools (SSpec, generic syntax), code generation (Lean export, documentation), and debugging support. | interpreter:supported, jit:supported, smf_cranelift:supported, smf_llvm:supported | - | [doc/spec/cli_tools_spec.md](../../spec/cli_tools_spec.md#feature-209) |
