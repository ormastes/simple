# Simple Language v0.6.1 Release Notes

**Release Date:** 2026-02-23
**Release Type:** Patch Release
**Status:** Stable
**Tag:** v0.6.1
**Bootstrap:** Built with v0.6.0

## Release Highlights

This patch release focuses on **stability, correctness, and test coverage**. Over 831 additional test cases now pass, all known memory leaks in the C runtime have been eliminated, and the C backend has been hardened with string escaping, C++ keyword safety, and runtime intrinsics.

### Key Achievements

- **+831 passing test cases** across all test suites
- **Zero memory leaks** in generated C code (all 9 leak categories fixed)
- **C/LLVM backend unification** via shared MirTextCodegen trait
- **11-platform release matrix** (added FreeBSD x86, Windows x86, Windows ARM64)

## What's New in 0.6.1

### Mass Test Suite Repair

- 831 additional test cases repaired and passing
- 337 `skip_it` tests converted back to active `it` blocks across 27 files
- Test runner binary resolution fixed for reliable test execution
- Parse errors in test files corrected

### Memory Leak Elimination

All 9 categories of C runtime memory leaks identified and fixed:
1. String array cleanup in generated `main.c`
2. String ownership tracking in C backend
3. Option/Result string ownership via `strdup`
4. Nested array deep-free functions
5. String copy_push deep-copy semantics
6. Slice cleanup
7. Substring cleanup
8. Lexer argument cleanup
9. Program argument cleanup

ASan (AddressSanitizer) now reports zero leaks on all tested paths.

### C Backend Improvements

- String escaping for special characters in generated code
- C++ reserved keyword safety (automatic renaming of collisions)
- Runtime intrinsics support for codegen
- Compile entry point improvements
- Codegen heuristics for dependency parsing

### MIR Codegen Trait Unification

- C and LLVM backends now share a unified `MirTextCodegen` trait
- Reduces code duplication between backends
- Easier to add new backend targets

### Async I/O Infrastructure (Preview)

- Platform-specific async I/O driver backends added:
  - Linux: epoll and io_uring
  - macOS: kqueue
  - FreeBSD: kqueue
  - Windows: IOCP
- Vendored liburing for io_uring support
- Driver abstraction layer (`async_driver.c`)

### Infrastructure

- Bootstrap builds now use v0.6.0 as base (previously v0.5.0)
- Sanitizer CI workflow added (ASan builds)
- Valgrind check script added
- Optimized build script added
- All stale version references updated from 0.5.0 to 0.6.1

## Platform Support

| Platform | Architecture | Status |
|----------|-------------|--------|
| Linux | x86_64 | Supported |
| Linux | aarch64 | Supported |
| Linux | riscv64 | Supported |
| macOS | arm64 | Supported |
| macOS | x86_64 | Supported |
| FreeBSD | x86_64 | Supported |
| FreeBSD | x86 | New |
| Windows | x86_64 | Supported |
| Windows | x86 | New |
| Windows | aarch64 | New |

## Upgrade Instructions

```bash
# Download
wget https://github.com/simple-lang/simple/releases/download/v0.6.1/simple-0.6.1-linux-x86_64.tar.gz
tar -xzf simple-0.6.1-linux-x86_64.tar.gz
cd simple-0.6.1
export PATH="$PWD/bin:$PATH"
simple --version  # Should show: Simple v0.6.1
```

## Breaking Changes

None. This is a fully backwards-compatible patch release.

## Known Issues

- Interpreter mode test runner only verifies file loading, not `it` block execution
- Async I/O driver is preview/infrastructure only (not yet exposed to user code)
