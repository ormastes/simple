# Error Recovery System Demonstration
#
# This file demonstrates the Simple compiler's error recovery system by
# intentionally using syntax from other programming languages. Each mistake
# triggers a helpful error message with suggestions.
#
# Run: ./target/debug/simple doc/examples/error_recovery_demo.spl
#
# Expected: The compiler will display helpful hints for each mistake below

# ============================================================================
# Python-Style Mistakes
# ============================================================================

# Mistake 1: Using 'def' instead of 'fn'
# Expected hint: Replace 'def' with 'fn'
def python_function(x, y):
    return x + y

# Mistake 2: Using 'None' instead of 'nil'
# Expected hint: Replace 'None' with 'nil'
val empty_value = None

# Mistake 3: Using 'True' instead of 'true'
# Expected hint: Replace 'True' with 'true'
val python_true = True

# Mistake 4: Using 'False' instead of 'false'
# Expected hint: Replace 'False' with 'false'
val python_false = False

# ============================================================================
# Rust-Style Mistakes
# ============================================================================

# Mistake 5: Using 'let mut' instead of 'var'
# Expected hint: Use 'var' instead of 'let mut'
fn rust_variables():
    let mut counter = 0
    return counter

# ============================================================================
# Java/C++-Style Mistakes
# ============================================================================

# Mistake 6: Using 'void' keyword
# Expected hint: Omit the return type for void functions
val void_value = void

# Mistake 7: Using 'new' keyword
# Expected hint: Use struct literal: Type { field: value }
val instance = new Point()

# Mistake 8: Using 'this' instead of self
# Expected hint: Use 'self' (which is implicit in methods)
val self_ref = this

# Mistake 9: Using 'namespace' keyword
# Expected hint: Use 'mod' for modules
val ns = namespace

# Mistake 10: Using 'template' keyword
# Expected hint: Generic parameters come after the name
val tpl = template

# ============================================================================
# TypeScript/JavaScript-Style Mistakes
# ============================================================================

# Mistake 11: Using 'function' instead of 'fn'
# Expected hint: Replace 'function' with 'fn'
function javascript_function(a, b):
    return a + b

# Mistake 12: Using 'let' (info-level suggestion)
# Expected hint: Use 'val' (immutable) or 'var' (mutable)
let js_variable = 42

# Mistake 13: Using 'const' as value (when parsed as identifier)
# Note: 'const' is a keyword in Simple, so this specific test may vary
val const_value = 10

# ============================================================================
# All Mistakes in One Function
# ============================================================================

# This function contains multiple mistakes to demonstrate how the system
# handles multiple detections in a single file
def demo_function():
    let x = None
    val flag = True
    val obj = new Object()
    return False

# ============================================================================
# Main Function
# ============================================================================

fn main():
    # This will compile with semantic errors due to undefined variables,
    # but the error hints should display first
    return 0

# ============================================================================
# Expected Output Summary
# ============================================================================
#
# The compiler should display error hints for approximately 13-15 mistakes:
#
# ERROR level (red):
#   - def → fn (2 occurrences)
#   - None → nil (2 occurrences)
#   - True → true (2 occurrences)
#   - False → false (2 occurrences)
#   - function → fn (1 occurrence)
#   - void (1 occurrence)
#   - new (2 occurrences)
#   - this (1 occurrence)
#   - namespace (1 occurrence)
#   - template (1 occurrence)
#
# INFO level (cyan):
#   - let → val/var (2 occurrences)
#
# Total: ~19 error hints
#
# After displaying hints, semantic analysis will fail due to undefined
# variables, which is expected.
