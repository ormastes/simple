# Example file showing helpful error messages for common mistakes
# This file intentionally contains errors to demonstrate error recovery

# ============================================
# Python-style mistakes
# ============================================

# Error 1: Using 'def' instead of 'fn'
def add(a, b):  # ❌ Error: Use 'fn' instead of 'def'
    return a + b

# Correct:
fn add_correct(a, b):  # ✅
    return a + b

# Error 2: Using 'None' instead of 'nil'
fn get_nothing():
    return None  # ❌ Error: Use 'nil' instead of 'None'

# Correct:
fn get_nothing_correct():
    return nil  # ✅

# Error 3: Using 'True'/'False' instead of 'true'/'false'
val flag = True  # ❌ Error: Use 'true' instead of 'True'

# Correct:
val flag_correct = true  # ✅

# ============================================
# Rust-style mistakes
# ============================================

# Error 4: Using 'let mut' instead of 'var'
let mut counter = 0  # ❌ Error: Use 'var' for mutable variables

# Correct:
var counter_correct = 0  # ✅

# Error 5: Explicit self parameter
struct Point:
    x: i32
    y: i32

impl Point:
    fn get_x(self) -> i32:  # ⚠️ Warning: 'self' is implicit, don't write it
        return x

# Correct:
impl Point:
    fn get_x_correct() -> i32:  # ✅ No self parameter
        return x

# ============================================
# Java/C++ mistakes
# ============================================

# Error 6: Using 'public class' (Java style)
public class Rectangle:  # ❌ Error: Use 'pub class' or 'pub struct'
    width: i32
    height: i32

# Correct:
pub class Rectangle:  # ✅
    width: i32
    height: i32

# Error 7: Using 'void' return type
fn print_message(msg: String) void:  # ❌ Error: Just omit return type
    print(msg)

# Correct:
fn print_message_correct(msg: String):  # ✅ No return type = void
    print(msg)

# Error 8: Using 'new' keyword
val p = new Point(1, 2)  # ❌ Error: Use struct literal syntax

# Correct:
val p_correct = Point { x: 1, y: 2 }  # ✅

# ============================================
# TypeScript/JavaScript mistakes
# ============================================

# Error 9: Using 'function' keyword
function multiply(a, b):  # ❌ Error: Use 'fn' instead of 'function'
    return a * b

# Correct:
fn multiply_correct(a, b):  # ✅
    return a * b

# Error 10: Using 'const' instead of 'val'
const PI = 3.14159  # ❌ Error: Use 'val' instead of 'const'

# Correct:
val PI_CORRECT = 3.14159  # ✅

# Error 11: Using 'interface' instead of 'trait'
interface Drawable:  # ❌ Error: Use 'trait' instead of 'interface'
    fn draw():

# Correct:
trait Drawable:  # ✅
    fn draw():

# ============================================
# C-style mistakes
# ============================================

# Error 12: Type-first declaration
int x = 5  # ❌ Error: Type comes after variable name

# Correct:
val x: i32 = 5  # ✅ Type after name
val x_inferred = 5  # ✅ Or use type inference

# Error 13: Unnecessary semicolons
val a = 1;  # ⚠️ Warning: Semicolons are optional
val b = 2;  # ⚠️ Warning: Semicolons are optional

# Correct:
val a_correct = 1  # ✅ No semicolon needed
val b_correct = 2  # ✅ No semicolon needed

# ============================================
# Generic mistakes
# ============================================

# Error 14: Missing colon before function body
fn foo()  # ❌ Error: Missing ':' before function body
    print("hello")

# Correct:
fn foo_correct():  # ✅ Colon before body
    print("hello")

# Error 15: Using [] instead of <> for generics (legacy)
struct List[T]:  # ⚠️ Warning: Prefer <> for generics
    data: *T

# Correct:
struct List<T>:  # ✅ Modern syntax
    data: *T

# Error 16: Verbose return type when inference works
fn add_verbose(a: i32, b: i32) -> i32:  # ⚠️ Warning: Return type can be inferred
    return a + b

# Correct (more concise):
fn add_concise(a: i32, b: i32):  # ✅ Return type inferred
    return a + b

# Error 17: Semicolon after block
if true:
    print("yes")
;  # ❌ Error: Unnecessary semicolon after block

# Correct:
if true:
    print("yes")  # ✅ No semicolon

# ============================================
# Expected error output for this file:
# ============================================

# error: unknown keyword 'def'
#   --> line 8:1
#    |
#  8 | def add(a, b):
#    | ^^^
#
# Suggestion: Use 'fn' to define functions in Simple, not 'def'
#
# Help:
#   Python:  def add(a, b):
#   Simple:  fn add(a, b):
#
# ---
#
# error: unknown identifier 'None'
#   --> line 17:12
#    |
# 17 |     return None
#    |            ^^^^
#
# Suggestion: Use 'nil' instead of 'None'
#
# Help:
#   Python:  return None
#   Simple:  return nil
#
# (... and so on for all other errors)
