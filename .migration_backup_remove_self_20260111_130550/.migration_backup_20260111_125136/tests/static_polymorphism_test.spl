# Static Polymorphism Test
# Tests the bind Interface = ImplType feature for static dispatch

trait Logger:
    fn log(self, msg: str) -> str

class ConsoleLogger:
    fn log(self, msg: str) -> str:
        return "Console: " + msg

class FileLogger:
    fn log(self, msg: str) -> str:
        return "File: " + msg

# Bind Logger to ConsoleLogger for static dispatch
bind Logger = ConsoleLogger

fn create_logger() -> Logger:
    return ConsoleLogger()

fn test_static_dispatch() -> i64:
    let logger: Logger = create_logger()
    let result = logger.log("Hello")
    # With binding, should dispatch statically to ConsoleLogger
    if result == "Console: Hello":
        print("PASS: Static dispatch works correctly")
        return 0
    else:
        print("FAIL: Expected 'Console: Hello' but got: " + result)
        return 1

fn main() -> i64:
    return test_static_dispatch()
