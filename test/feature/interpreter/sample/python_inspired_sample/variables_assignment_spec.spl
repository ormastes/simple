# # Variables and Assignment Specification
#
# **Feature IDs:** #VARIABLES-ASSIGNMENT
# **Category:** Core
# **Status:** Implemented
#
# Tests Python-inspired variable assignment semantics in Simple.
# Covers val (immutable) and var (mutable) declarations, type inference,
# and assignment expressions.
use std.spec

describe "Variables and Assignment":
    # ## Variable Declaration and Assignment
    #
    # Verifies Python-like variable semantics:
    # - val for immutable bindings (like Python's convention for constants)
    # - var for mutable bindings
    # - Type inference from assigned values
    # - Multiple assignment patterns

    context "val declarations":
        it "creates immutable binding with inferred type":
            val x = 42
            expect x == 42

        it "creates immutable binding with explicit type":
            val name: text = "Alice"
            expect name == "Alice"

    context "var declarations":
        it "allows reassignment of mutable binding":
            var count = 0
            count = count + 1
            expect count == 1

        it "supports compound assignment":
            var total = 10
            total = total + 5
            expect total == 15

    context "type inference":
        it "infers integer type":
            val num = 100
            expect num == 100

        it "infers string type":
            val msg = "hello"
            expect msg == "hello"

        it "infers boolean type":
            val flag = true
            expect flag == true
