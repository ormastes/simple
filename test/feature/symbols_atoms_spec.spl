"""
# Symbols and Atoms Specification

**Feature IDs:** #SYMBOLS-001
**Category:** Language | Types
**Status:** Implemented

## Overview

Symbols (also called atoms) are immutable, interned identifiers that are
compared by identity rather than value. They provide efficient comparison
operations and are commonly used for keys, tags, and enum-like values.

## Syntax

```simple
val status = :ok
val error = :not_found

if status is :ok:
    handle_success()
```

## Key Concepts

| Concept | Description |
|---------|-------------|
| Symbol | Interned identifier compared by identity |
| Atom | Alternative name for symbol (Erlang terminology) |
| Interning | Process of storing unique string once |
| Symbol Table | Runtime storage for interned symbols |

## Behavior

- Symbols are prefixed with colon: `:name`
- Symbol comparison is O(1) pointer equality
- All occurrences of same symbol share memory
- Symbols are immutable and cannot be modified
"""



# ============================================================================
# Test Group 1: Symbol Creation
# ============================================================================

describe "Symbol Creation":
    """
    ## Creating Symbols

    Tests for symbol creation using colon prefix syntax.
    """

    it "creates simple symbol":
        val status = :ok
        var result = 0
        if status is :ok:
            result = 1
        expect result == 1

    it "creates symbol with underscore":
        val err = :not_found
        var result = 0
        if err is :not_found:
            result = 1
        expect result == 1

    it "creates multiple distinct symbols":
        val a = :hello
        val b = :world
        var result = 0
        if a is :hello:
            if b is :world:
                result = 1
        expect result == 1


# ============================================================================
# Test Group 2: Symbol Comparison
# ============================================================================

describe "Symbol Comparison":
    """
    ## Comparing Symbols

    Tests for symbol comparison by identity.
    """

    it "compares equal symbols":
        val a = :hello
        val b = :hello
        var result = 0
        if a is b:
            result = 10
        expect result == 10

    it "distinguishes different symbols":
        val a = :hello
        val b = :world
        var result = 1
        if a is b:
            result = 0
        expect result == 1

    it "compares symbol in if-else":
        val status = :ok
        val result = if status is :ok: 42 else: 0
        expect result == 42

    it "compares symbol with not equal":
        val a = :hello
        val b = :world
        var result = 0
        if not (a is b):
            result = 1
        expect result == 1


# ============================================================================
# Test Group 3: Symbol Use Cases
# ============================================================================

describe "Symbol Use Cases":
    """
    ## Practical Symbol Usage

    Tests for common symbol usage patterns.
    """

    it "uses symbol as return value":
        fn get_status():
            return :success
        val result = get_status()
        var r = 0
        if result is :success:
            r = 1
        expect r == 1

    it "uses symbol as function parameter":
        fn process(status):
            if status is :ok:
                return 42
            return 0
        expect process(:ok) == 42

    it "uses symbol in conditional logic":
        val state = :running
        var code = 0
        if state is :stopped:
            code = 1
        else:
            if state is :running:
                code = 2
            else:
                code = 3
        expect code == 2

    it "chains symbol checks":
        val a = :first
        val b = :second
        var result = 0
        if a is :first:
            if b is :second:
                result = 100
        expect result == 100
