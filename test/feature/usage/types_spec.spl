"""
# Simple Language Type System - Test Specification

**Status:** Stable (Basic Features)
**Feature IDs:** #20-29
**Keywords:** types, mutability, type-inference
**Last Updated:** 2026-02-08
**Topics:** type-system
**Migrated From:** doc/spec/types.md

## Overview

Executable tests for Simple's type system basics: primitives, mutability, generics, and type inference.

Note: Advanced features (unit types, capability effects, suspension operators) are not yet implemented.
"""

use std.spec
use std.spec.{check, check_msg, expect}

describe "Types Spec":
    it "basic type literals":
        # String, integer, boolean, float literals
        val s = "hello"
        val i = 42
        val b = true
        val f = 3.14
        expect(s).to_equal("hello")
        expect(i).to_equal(42)
        expect(b).to_equal(true)

    it "mutability rules - val and const":
        val y = 20
        const MAX = 100
        expect(y).to_equal(20)
        expect(MAX).to_equal(100)

    it "mutable variables":
        var count = 0
        count = count + 1
        count = count + 1
        expect(count).to_equal(2)

    it "generic container - array":
        # Array is a generic type [T]
        val numbers = [1, 2, 3, 4, 5]
        val strings = ["a", "b", "c"]
        expect(numbers[0]).to_equal(1)
        expect(strings[1]).to_equal("b")

    it "option type basic usage":
        # Option is a built-in generic type
        val some_val = 42
        val none_val = nil

        # Basic Option behavior
        if some_val != nil:
            expect(some_val).to_equal(42)

        if none_val == nil:
            check(true)
