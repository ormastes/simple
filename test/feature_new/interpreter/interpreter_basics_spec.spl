"""
System test for fundamental interpreter functionality.

Tests the interpreter's ability to evaluate basic expressions, perform
arithmetic, handle comparisons, evaluate boolean logic, and process strings.
"""


describe "Simple Interpreter":
    """
    Verifies core interpreter capabilities including expression evaluation,
    operator precedence, string concatenation, and variable interpolation.
    """
    context "when evaluating expressions":
        it "handles arithmetic operations":
            expect(1 + 1).to_equal(2)
            expect(10 - 3).to_equal(7)
            expect(4 * 5).to_equal(20)
            expect(15 / 3).to_equal(5)

        it "handles comparison operations":
            expect(5 > 3).to_equal(true)
            expect(2 < 10).to_equal(true)
            expect(5 == 5).to_equal(true)
            expect(3 != 4).to_equal(true)

        it "handles boolean operations":
            expect(true and true).to_equal(true)
            expect(true and false).to_equal(false)
            expect(true or false).to_equal(true)
            expect(not false).to_equal(true)

    context "when working with strings":
        it "supports string concatenation":
            val s = "Hello" + " " + "World"
            expect(s).to_equal("Hello World")

        it "supports string interpolation":
            val name = "Alice"
            val age = 30
            val msg = "Name: {name}, Age: {age}"
            expect(msg).to_equal("Name: Alice, Age: 30")
