"""
Compiler Basics Tests
Feature: Fundamental compiler functionality
Category: Compiler System Tests
Status: Complete

Tests for core compiler functionality including arithmetic operations, variable handling,
control flow structures, and collection manipulation.
"""

import std.spec

describe "Simple Compiler":
    """
    Tests for basic compiler functionality including arithmetic, variables, control flow, and collections.
    """
    context "basic arithmetic":
        it "produces correct output for arithmetic":
            val result = 2 + 3
            expect(result).to(eq(5))

        it "handles variables":
            val x = 10
            val y = 20
            val sum = x + y
            expect(sum).to(eq(30))

    context "control flow":
        it "handles basic control flow":
            val x = 10
            val result = "smaller"
            if x > 5:
                result = "greater"
            expect(result).to(eq("greater"))

    context "collections":
        it "handles arrays":
            val arr = [1, 2, 3]
            expect(arr.len()).to(eq(3))
            expect(arr[0]).to(eq(1))

        it "handles dicts":
            val d = {"name": "Alice", "age": 30}
            expect(d["name"]).to(eq("Alice"))
            expect(d["age"]).to(eq(30))
