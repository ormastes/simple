"""
Target-Based Mutability Defaults - SSpec Tests
Decision #9: --target=embedded makes arrays immutable by default

Category: Collections
Status: Partially Implemented
"""

describe "Target-Based Mutability Defaults":

    context "General Mode (Default)":
        it "makes arrays mutable by default":
            val arr = [1, 2, 3]
            arr.push(4)
            expect arr.len() == 4
            expect arr[3] == 4

        it "makes dicts mutable by default":
            val dict = {"a": 1}
            dict["b"] = 2
            expect dict["b"] == 2
