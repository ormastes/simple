# Target-Based Mutability Defaults - SSpec Tests
# Decision #9: --target=embedded makes arrays immutable by default

describe "Target-Based Mutability Defaults":

    context "General Mode (Default)":
        it "should make arrays mutable by default":
            val arr = [1, 2, 3]
            arr.push(4)
            expect(arr).to_equal([1, 2, 3, 4])

        it "should make dicts mutable by default":
            val dict = {"a": 1}
            dict["b"] = 2
            expect(dict).to_equal({"a": 1, "b": 2})

    # Note: Embedded mode tests would be in separate file with @target(embedded)
    # or run with --target=embedded flag
