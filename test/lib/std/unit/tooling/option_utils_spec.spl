# Tests for option utilities
# NOTE: Implementations provided locally

fn unwrap_or(opt: Option<i64>, default_val: i64) -> i64:
    match opt:
        case Some(v): v
        case nil: default_val

fn is_some(opt: Option<i64>) -> bool:
    match opt:
        case Some(_): true
        case nil: false

fn is_none(opt: Option<i64>) -> bool:
    match opt:
        case Some(_): false
        case nil: true

describe "Option Utilities":
    describe "unwrap_or":
        it "returns value if Some":
            expect unwrap_or(Some(42), 0) == 42

        it "returns default if nil":
            expect unwrap_or(nil, 10) == 10

    describe "is_some/is_none":
        it "is_some returns true for Some":
            expect is_some(Some(42))

        it "is_some returns false for nil":
            expect not is_some(nil)

        it "is_none returns true for nil":
            expect is_none(nil)

        it "is_none returns false for Some":
            expect not is_none(Some(42))
