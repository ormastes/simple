"""
Feature: Collision Contact Information
Category: Physics
Status: Implemented
"""
# @skip

# Physics Collision Contact Tests
# Tests for physics.collision.contact module

use physics.core.Vector3
use physics.collision.contact.Contact

describe "Contact":
    """
    Tests for collision contact representation.
    Covers creation of contacts with point, normal, penetration depth,
    and body indices.
    """
    it "creates contact with all properties":
        val contact = Contact(
            Vector3(1.0, 0.0, 0.0),
            Vector3(1.0, 0.0, 0.0),
            0.1,
            0,
            1
        )
        expect contact.penetration == 0.1
        expect contact.body1_index == 0
        expect contact.body2_index == 1

    it "stores contact point":
        val contact = Contact(
            Vector3(5.0, 3.0, 2.0),
            Vector3(1.0, 0.0, 0.0),
            0.5,
            0,
            1
        )
        expect contact.point.x == 5.0
        expect contact.point.y == 3.0
        expect contact.point.z == 2.0

    it "stores contact normal":
        val contact = Contact(
            Vector3(0.0, 0.0, 0.0),
            Vector3(0.0, 1.0, 0.0),
            0.2,
            0,
            1
        )
        expect contact.normal.y == 1.0

    it "stores body indices":
        val contact = Contact(
            Vector3(0.0, 0.0, 0.0),
            Vector3(1.0, 0.0, 0.0),
            0.1,
            5,
            10
        )
        expect contact.body1_index == 5
        expect contact.body2_index == 10
