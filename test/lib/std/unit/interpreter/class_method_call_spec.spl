"""
Imported Class Static Method Call Tests
Feature: Imported Class Method Resolution
Category: Interpreter, Class Methods
Status: Complete

Tests the fix for a bug where calling ClassName.new() on imported classes
would fail with argument count mismatch errors.
"""

import spec.{describe, it}
import spec.registry.{ExampleGroup, Example}

describe "Imported class static method calls":
    """
    Tests for correct argument handling when calling static methods on imported classes.
    """
    it "should call Example.new with correct args":
        fn test_block():
            pass
        val ex = Example.new("test description", test_block)
        # Verify the object was created correctly
        if ex.description != "test description":
            panic("Example.new failed: description mismatch")

    it "should call ExampleGroup.new with correct args":
        val grp = ExampleGroup.new("test group", nil)
        # Verify the object was created correctly
        if grp.description != "test group":
            panic("ExampleGroup.new failed: description mismatch")
