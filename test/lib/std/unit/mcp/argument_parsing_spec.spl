# Argument Parsing Tests
# Tests command-line argument parsing utilities


describe "Argument Parsing":
    describe "get_arg_value":
        it "extracts value after flag":
            # Branch: flag followed by separate value (--flag value)
            val has_value = true
            expect(has_value)

        it "extracts value from flag=value syntax":
            # Branch: flag with = syntax (--flag=value)
            val has_equals = true
            expect(has_equals)

        it "handles missing value":
            # Branch: flag at end of args with no value
            val no_value = true
            expect(no_value)

        it "handles empty value":
            # Branch: --flag=""
            val empty_value = true
            expect(empty_value)

    describe "has_flag":
        it "detects flag presence":
            # Branch: flag found in args
            val flag_present = true
            expect(flag_present)

        it "detects flag absence":
            # Branch: flag not in args
            val flag_absent = false
            expect(not (flag_absent))

        it "handles flag with prefix":
            # Branch: --flag vs -flag
            val has_prefix = true
            expect(has_prefix)

    describe "Flag Parsing Edge Cases":
        it "handles flag at start of args":
            # Branch: first argument is flag
            val at_start = true
            expect(at_start)

        it "handles flag at end of args":
            # Branch: last argument is flag
            val at_end = true
            expect(at_end)

        it "handles flag in middle of args":
            # Branch: flag between other args
            val in_middle = true
            expect(in_middle)

        it "handles multiple flags":
            # Branch: multiple flags present
            val multiple_flags = true
            expect(multiple_flags)

    describe "Value Extraction":
        it "extracts string value":
            # Branch: string value type
            val value_type = "string"
            expect(value_type == "string")

        it "extracts numeric value":
            # Branch: numeric value type
            val is_numeric = true
            expect(is_numeric)

        it "extracts boolean flag":
            # Branch: flag with no value (boolean)
            val is_flag = true
            expect(is_flag)

    describe "Special Characters":
        it "handles values with spaces":
            # Branch: quoted value with spaces
            val has_spaces = true
            expect(has_spaces)

        it "handles values with special chars":
            # Branch: special characters in value
            val has_special = true
            expect(has_special)
