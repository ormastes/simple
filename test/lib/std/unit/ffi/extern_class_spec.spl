# @pending
# Extern Class FFI Object System Specification
# Tests the object-based FFI system for wrapping Rust objects

describe "Extern Class Parsing":
    it "parses extern class declaration with static methods":
        # This test verifies the parser accepts extern class syntax
        # The syntax:
        #   extern class ClassName:
        #       static fn method(...) -> Type
        #       fn method(...) -> Type
        #       me method(...) -> Type

        # Parser test - the following would be valid Simple code:
        # extern class Counter:
        #     static fn new() -> Counter
        #     fn get() -> Int
        #     me increment()
        #     me reset()

        check(true) # Parser tests are in Rust unit tests

    it "parses extern class with generic parameters":
        # Generic extern classes:
        #   extern class Container<T>:
        #       static fn new() -> Container<T>
        #       fn get() -> T
        #       me set(value: T)

        check(true) # Parser tests are in Rust unit tests

describe "Extern Class Method Kinds":
    it "supports static factory methods":
        # static fn methods are called on the class itself:
        #   val counter = Counter.new()
        #   val db = Database.open("url")
        check(true)

    it "supports immutable instance methods":
        # fn methods don't modify the receiver:
        #   val count = counter.get()
        #   val name = user.name()
        check(true)

    it "supports mutable instance methods":
        # me methods can modify the receiver:
        #   counter.increment()
        #   user.set_name("Alice")
        check(true)

describe "FFI Object Lifecycle":
    it "creates FFI objects via static methods":
        # Objects are created through factory methods
        # that call rt_ffi_object_new internally
        check(true)

    it "calls methods on FFI objects":
        # Method calls dispatch through rt_ffi_object_call_method
        # which looks up the method in the vtable
        check(true)

    it "drops FFI objects when out of scope":
        # Drop calls rt_ffi_object_free to release resources
        check(true)
