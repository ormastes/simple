# Simple schema test without describe/it

use mcp_lib.schema.{get_all_tool_schemas, get_tool_count, init_core_schemas}

fn main():
    print("Testing schema module...")

    # Test init
    init_core_schemas()
    print("✓ init_core_schemas works")

    # Test count
    val count = get_tool_count()
    if count == 8:
        print("✓ get_tool_count returned 8")
    else:
        print("✗ get_tool_count returned {count}, expected 8")

    # Test schemas
    val schemas = get_all_tool_schemas()
    if schemas.starts_with("[") and schemas.ends_with("]"):
        print("✓ get_all_tool_schemas returns JSON array")
    else:
        print("✗ get_all_tool_schemas returned invalid format")

    if schemas.contains("read_code") and schemas.contains("list_files"):
        print("✓ schemas contain expected tools")
    else:
        print("✗ schemas missing expected tools")

    print("All schema tests passed!")

main()
