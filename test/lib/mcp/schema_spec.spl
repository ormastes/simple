# MCP Library Schema Tests

use mcp_lib.schema.{get_all_tool_schemas, get_tool_count, init_core_schemas}
use std.sspec

describe("MCP Library - Schema"):
    it("initializes core schemas"):
        init_core_schemas()
        expect(get_tool_count()).to_be_greater_than(0)

    it("gets all tool schemas"):
        init_core_schemas()
        val schemas = get_all_tool_schemas()
        expect(schemas).to_start_with("[")
        expect(schemas).to_end_with("]")
        expect(schemas).to_contain("read_code")
        expect(schemas).to_contain("list_files")

    it("counts tools"):
        init_core_schemas()
        val count = get_tool_count()
        expect(count).to_equal(8)  # Core tools defined in init_core_schemas
