# Test that handler functions can be imported and called

use std.mcp.helpers.{make_tool_result}
use app.mcp.diag_read_tools.{handle_simple_status}

fn main():
    print("Testing handler function imports...")

    # Create a mock request body
    val mock_body = """{"jsonrpc":"2.0","id":"1","method":"tools/call","params":{"name":"simple_status","arguments":{"directory":"src/"}}}"""

    # Try calling handle_simple_status
    print("Calling handle_simple_status...")
    val result = handle_simple_status("1", mock_body)

    # Check if result contains expected JSON-RPC structure
    if result.contains("jsonrpc"):
        print("✓ handle_simple_status returned valid response")
    else:
        print("✗ handle_simple_status returned invalid response")

    print("Handler function test complete!")

main()
