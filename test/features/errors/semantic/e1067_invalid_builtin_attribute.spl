# E1067: Invalid Built-in Attribute

Feature: E1067 - Invalid Use of Built-in Attribute
  As a Simple compiler
  I want to detect invalid uses of built-in attributes
  So that attributes are used correctly

  Background:
    Given I have the Simple compiler

  Scenario: Invalid attribute usage
    When I compile:
      '''
      #[test(invalid_arg)]  # Error: test doesn't take arguments
      fn my_test():
        assert(true)
      '''
    Then I should see error E1067 at line 1
    And the error message should be "invalid use of built-in attribute `{attr}`"
    And the label should indicate "invalid attribute usage"
    And the help should suggest "check the attribute syntax and placement"

  Scenario: Attribute on wrong item
    When I compile:
      '''
      #[inline]  # Error: cannot inline a struct
      struct Point:
        x: i32
      '''
    Then I should see error E1067

  Scenario: Valid attribute usage
    When I compile:
      '''
      #[test]
      fn my_test():
        assert(true)

      #[inline]
      fn fast_function():
        42
      '''
    Then compilation should succeed

  Scenario: Korean language error
    Given I set compiler language to "ko"
    When I compile:
      '''
      #[test(invalid)]
      fn my_test():
        assert(true)
      '''
    Then I should see error E1067
    And the error message should contain "잘못된 내장 속성"
