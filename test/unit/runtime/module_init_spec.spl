# Module @init and @teardown spec
#
# Tests for @init and @teardown annotation scanning in the annotation scanner.
# Note: Since interpreter mode doesn't re-execute the annotated file,
# we test the annotation detection mechanism.

describe "@init and @teardown annotations":
    it "annotated functions can be defined":
        # @init
        fn my_init():
            pass_do_nothing

        # @teardown
        fn my_teardown():
            pass_do_nothing

        expect(true).to_equal(true)

    it "functions can be called manually if annotated":
        var init_ran = false
        # @init
        fn setup_module():
            init_ran = true

        setup_module()
        expect(init_ran).to_equal(true)
