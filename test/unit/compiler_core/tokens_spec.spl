describe "Tokens":
    it "skipped":
        skip("imports compiler modules - causes OOM via numbered directory resolution")

# # Core Simple â€” Tokens Tests
# use compiler.core.tokens.*
# 
# describe "core.tokens":
#     describe "tok_kind_name":
#         it "maps common tokens":
#             expect(tok_kind_name(TOK_INT_LIT)).to_equal("IntLit")
#             expect(tok_kind_name(TOK_FLOAT_LIT)).to_equal("FloatLit")
#             expect(tok_kind_name(TOK_STRING_LIT)).to_equal("StringLit")
#             expect(tok_kind_name(TOK_BOOL_LIT)).to_equal("BoolLit")
#             expect(tok_kind_name(TOK_NIL_LIT)).to_equal("NilLit")
#             expect(tok_kind_name(TOK_IDENT)).to_equal("Ident")
#             expect(tok_kind_name(TOK_KW_FN)).to_equal("fn")
#             expect(tok_kind_name(TOK_KW_STRUCT)).to_equal("struct")
#             expect(tok_kind_name(TOK_PLUS)).to_equal("+")
#             expect(tok_kind_name(TOK_STAR_STAR)).to_equal("**")
#             expect(tok_kind_name(TOK_EQ)).to_equal("==")
#             expect(tok_kind_name(TOK_ASSIGN)).to_equal("=")
#             expect(tok_kind_name(TOK_LPAREN)).to_equal("(")
#             expect(tok_kind_name(TOK_DOT_DOT_EQ)).to_equal("..=")
#             expect(tok_kind_name(TOK_PIPE_FORWARD)).to_equal("|>")
#             expect(tok_kind_name(TOK_EOF)).to_equal("EOF")
# 
#         it "returns unknown for unmapped":
#             expect(tok_kind_name(9999)).to_equal("Unknown(9999)")
# 
#     describe "keyword_lookup":
#         it "maps keywords":
#             expect(keyword_lookup("fn")).to_equal(TOK_KW_FN)
#             expect(keyword_lookup("val")).to_equal(TOK_KW_VAL)
#             expect(keyword_lookup("var")).to_equal(TOK_KW_VAR)
#             expect(keyword_lookup("struct")).to_equal(TOK_KW_STRUCT)
#             expect(keyword_lookup("enum")).to_equal(TOK_KW_ENUM)
#             expect(keyword_lookup("extern")).to_equal(TOK_KW_EXTERN)
#             expect(keyword_lookup("export")).to_equal(TOK_KW_EXPORT)
#             expect(keyword_lookup("use")).to_equal(TOK_KW_USE)
#             expect(keyword_lookup("import")).to_equal(TOK_KW_IMPORT)
#             expect(keyword_lookup("pub")).to_equal(TOK_KW_PUB)
#             expect(keyword_lookup("static")).to_equal(TOK_KW_STATIC)
#             expect(keyword_lookup("class")).to_equal(TOK_KW_CLASS)
#             expect(keyword_lookup("impl")).to_equal(TOK_KW_IMPL)
#             expect(keyword_lookup("trait")).to_equal(TOK_KW_TRAIT)
#             expect(keyword_lookup("me")).to_equal(TOK_KW_ME)
#             expect(keyword_lookup("type")).to_equal(TOK_KW_TYPE)
#             expect(keyword_lookup("asm")).to_equal(TOK_KW_ASM)
#             expect(keyword_lookup("if")).to_equal(TOK_KW_IF)
#             expect(keyword_lookup("else")).to_equal(TOK_KW_ELSE)
#             expect(keyword_lookup("elif")).to_equal(TOK_KW_ELIF)
#             expect(keyword_lookup("match")).to_equal(TOK_KW_MATCH)
#             expect(keyword_lookup("case")).to_equal(TOK_KW_CASE)
#             expect(keyword_lookup("for")).to_equal(TOK_KW_FOR)
#             expect(keyword_lookup("while")).to_equal(TOK_KW_WHILE)
#             expect(keyword_lookup("break")).to_equal(TOK_KW_BREAK)
#             expect(keyword_lookup("continue")).to_equal(TOK_KW_CONTINUE)
#             expect(keyword_lookup("return")).to_equal(TOK_KW_RETURN)
#             expect(keyword_lookup("in")).to_equal(TOK_KW_IN)
#             expect(keyword_lookup("loop")).to_equal(TOK_KW_LOOP)
#             expect(keyword_lookup("pass")).to_equal(TOK_KW_PASS)
#             expect(keyword_lookup("and")).to_equal(TOK_KW_AND)
#             expect(keyword_lookup("or")).to_equal(TOK_KW_OR)
#             expect(keyword_lookup("not")).to_equal(TOK_KW_NOT)
#             expect(keyword_lookup("true")).to_equal(TOK_KW_TRUE)
#             expect(keyword_lookup("false")).to_equal(TOK_KW_FALSE)
#             expect(keyword_lookup("nil")).to_equal(TOK_NIL_LIT)
#             expect(keyword_lookup("self")).to_equal(TOK_KW_SELF)
#             expect(keyword_lookup("is")).to_equal(TOK_KW_IS)
# 
#         it "returns ident for non-keywords":
#             expect(keyword_lookup("hello")).to_equal(TOK_IDENT)
#             expect(keyword_lookup("xyz123")).to_equal(TOK_IDENT)
# 
#     describe "tok_precedence":
#         it "maps precedence levels":
#             expect(tok_precedence(TOK_ASSIGN)).to_equal(1)
#             expect(tok_precedence(TOK_PLUS_EQ)).to_equal(1)
#             expect(tok_precedence(TOK_KW_OR)).to_equal(2)
#             expect(tok_precedence(TOK_KW_AND)).to_equal(3)
#             expect(tok_precedence(TOK_PIPE)).to_equal(4)
#             expect(tok_precedence(TOK_CARET)).to_equal(5)
#             expect(tok_precedence(TOK_AMPERSAND)).to_equal(6)
#             expect(tok_precedence(TOK_EQ)).to_equal(7)
#             expect(tok_precedence(TOK_LT)).to_equal(8)
#             expect(tok_precedence(TOK_DOT_DOT)).to_equal(9)
#             expect(tok_precedence(TOK_PLUS)).to_equal(10)
#             expect(tok_precedence(TOK_STAR)).to_equal(11)
#             expect(tok_precedence(TOK_STAR_STAR)).to_equal(12)
#             expect(tok_precedence(TOK_PIPE_FORWARD)).to_equal(0)
#             expect(tok_precedence(TOK_COMPOSE)).to_equal(0)
#             expect(tok_precedence(9999)).to_equal(0)
# 
#     describe "tok_is_right_assoc":
#         it "marks right-associative ops":
#             expect(tok_is_right_assoc(TOK_STAR_STAR)).to_equal(true)
#             expect(tok_is_right_assoc(TOK_ASSIGN)).to_equal(true)
#             expect(tok_is_right_assoc(TOK_PLUS_EQ)).to_equal(true)
#             expect(tok_is_right_assoc(TOK_PERCENT_EQ)).to_equal(true)
# 
#         it "returns false for others":
#             expect(tok_is_right_assoc(TOK_PLUS)).to_equal(false)
#             expect(tok_is_right_assoc(TOK_STAR)).to_equal(false)
# 
#     describe "classification helpers":
#         it "detects literals":
#             expect(tok_is_literal(TOK_INT_LIT)).to_equal(true)
#             expect(tok_is_literal(TOK_FLOAT_LIT)).to_equal(true)
#             expect(tok_is_literal(TOK_STRING_LIT)).to_equal(true)
#             expect(tok_is_literal(TOK_BOOL_LIT)).to_equal(true)
#             expect(tok_is_literal(TOK_NIL_LIT)).to_equal(true)
#             expect(tok_is_literal(TOK_IDENT)).to_equal(false)
# 
#         it "detects comparisons":
#             expect(tok_is_comparison(TOK_EQ)).to_equal(true)
#             expect(tok_is_comparison(TOK_NOT_EQ)).to_equal(true)
#             expect(tok_is_comparison(TOK_LT)).to_equal(true)
#             expect(tok_is_comparison(TOK_GT_EQ)).to_equal(true)
#             expect(tok_is_comparison(TOK_PLUS)).to_equal(false)
# 
#         it "detects assignments":
#             expect(tok_is_assignment(TOK_ASSIGN)).to_equal(true)
#             expect(tok_is_assignment(TOK_PLUS_EQ)).to_equal(true)
#             expect(tok_is_assignment(TOK_PERCENT_EQ)).to_equal(true)
#             expect(tok_is_assignment(TOK_EQ)).to_equal(false)
# 
#         it "detects additive/multiplicative":
#             expect(tok_is_additive(TOK_PLUS)).to_equal(true)
#             expect(tok_is_additive(TOK_MINUS)).to_equal(true)
#             expect(tok_is_additive(TOK_STAR)).to_equal(false)
#             expect(tok_is_multiplicative(TOK_STAR)).to_equal(true)
#             expect(tok_is_multiplicative(TOK_SLASH)).to_equal(true)
#             expect(tok_is_multiplicative(TOK_PERCENT)).to_equal(true)
#             expect(tok_is_multiplicative(TOK_PLUS)).to_equal(false)
