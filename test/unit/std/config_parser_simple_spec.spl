use std.spec.{describe, it, expect}
use std.config_parser.{parse_sdn_config, find_section, get_config_int, get_config_bool}

fn test():
    describe "config_parser_simple":
        it "parses simple section":
            val content = "database:\n  host: localhost\n  port: 5432"
            val result = parse_sdn_config(content)
            expect(result.sections.len()).to_equal(1)

        it "handles multiple sections":
            val content = "section1:\n  key1: val1\nsection2:\n  key2: val2"
            val result = parse_sdn_config(content)
            expect(result.sections.len()).to_equal(2)

        it "get_config_int works":
            val content = "config:\n  count: 42"
            val result = parse_sdn_config(content)
            val section = result.sections[0]
            expect(get_config_int(section, "count", 0)).to_equal(42)
