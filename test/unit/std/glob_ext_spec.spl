# Tests for std.glob module
# Covers glob pattern matching

use std.glob.{glob_match}

describe "std.glob":
    describe "glob_match":
        it "matches exact strings":
            expect(glob_match("hello.txt", "hello.txt")).to_equal(true)
            expect(glob_match("hello.txt", "world.txt")).to_equal(false)

        it "matches * wildcard":
            expect(glob_match("hello.txt", "*.txt")).to_equal(true)
            expect(glob_match("hello.spl", "*.txt")).to_equal(false)
            expect(glob_match("test", "*")).to_equal(true)

        it "matches ? single character":
            expect(glob_match("cat", "c?t")).to_equal(true)
            expect(glob_match("cart", "c?t")).to_equal(false)

        it "matches ** recursive":
            expect(glob_match("src/std/text.spl", "**/*.spl")).to_equal(true)
            expect(glob_match("src/test.spl", "**/*.spl")).to_equal(true)

        it "matches character classes":
            expect(glob_match("a", "[abc]")).to_equal(true)
            expect(glob_match("d", "[abc]")).to_equal(false)

        it "handles empty pattern":
            expect(glob_match("", "")).to_equal(true)
            expect(glob_match("hello", "")).to_equal(false)

        it "handles complex patterns":
            expect(glob_match("test_spec.spl", "test_*.spl")).to_equal(true)
            expect(glob_match("test_spec.txt", "test_*.spl")).to_equal(false)
