# Keyword-only params spec
#
# Tests for keyword-only parameter calling conventions.
# The `~` prefix for keyword-only params is planned; currently
# named parameter calling syntax already works for all params.

fn greet(name: text, greeting: text) -> text:
    greeting + ", " + name + "!"

fn configure(host: text, port: i64, debug: bool) -> text:
    if debug:
        host + ":" + str(port) + " [debug]"
    else:
        host + ":" + str(port)

fn add(a: i64, b: i64) -> i64:
    a + b

describe "keyword-only params (~)":
    it "function with named params is callable":
        val result = greet(name: "Alice", greeting: "Hello")
        expect(result).to_equal("Hello, Alice!")

    it "mixed positional and named params work":
        val result = configure("example.com", 443, false)
        expect(result).to_equal("example.com:443")

    it "keyword-only param with debug enabled":
        val result = configure("localhost", 8080, true)
        expect(result).to_equal("localhost:8080 [debug]")

    it "named params in any order":
        val result = greet(greeting: "Hi", name: "Bob")
        expect(result).to_equal("Hi, Bob!")

    it "simple add function with named params":
        val result = add(a: 3, b: 4)
        expect(result).to_equal(7)
