# # Parser Initialization Specification
#
# **Feature IDs:** #TBD
# **Category:** Compiler
# **Status:** In Progress
#
# ## Overview
#
# Tests that the Parser can be created and parse a simple function correctly.

use std.spec
use compiler.core.parser.*
use compiler.core.lexer.*
use compiler.blocks.*
use compiler.treesitter.*


describe "Parser Initialization":
    it "creates a parser and parses a function":
        val src = "fn main() -> i64:\n    0\n"
        var parser = Parser.new(src)
        val ast = parser.parse()
        expect(ast.functions.keys().len()).to_equal(1)
