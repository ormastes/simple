"""
# Parser Formats Specification

**Feature IDs:** #TBD
**Category:** Compiler
**Status:** In Progress

## Overview

Tests that the parser handles various function declaration formats with no errors.
"""

use std.spec
use compiler_core.parser.*
use compiler.parser_types.*
use compiler_core.lexer.*
use compiler.blocks.*
use compiler.treesitter.*


describe "Parser Formats":
    it "parses function with explicit return type":
        var parser = Parser.new("fn main() -> i64:\n    0\n")
        val ast = parser.parse()
        expect(parser.errors.len()).to_equal(0)

    it "parses function without return type":
        var parser = Parser.new("fn main():\n    0\n")
        val ast = parser.parse()
        expect(parser.errors.len()).to_equal(0)

    it "parses function with return statement":
        var parser = Parser.new("fn main() -> i64:\n    return 0\n")
        val ast = parser.parse()
        expect(parser.errors.len()).to_equal(0)

    it "parses function with pass body":
        var parser = Parser.new("fn main():\n    pass\n")
        val ast = parser.parse()
        expect(parser.errors.len()).to_equal(0)
