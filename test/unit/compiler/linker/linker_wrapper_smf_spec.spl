use compiler_shared.linker.linker_wrapper.{link_to_native, NativeLinkConfig, NativeLinkConfig__default}

describe "linker_wrapper SMF handling":
    it "rejects mixed SMF and object inputs":
        val cfg = NativeLinkConfig__default()
        val result = link_to_native(["a.smf", "b.o"], "out.bin", cfg)
        expect(result.is_err()).to_equal(true)

    it "errors on empty input":
        val cfg = NativeLinkConfig__default()
        val result = link_to_native([], "out.bin", cfg)
        expect(result.is_err()).to_equal(true)
