[2m2026-01-02T00:41:08.265417Z[0m [31mERROR[0m ThreadId(01) [1mrun_file_interpreted_with_args[0m[1m{[0m[3mpath[0m[2m=[0msimple/std_lib/test/system/sdn/workflow_spec.spl[1m}[0m[2m:[0m[1mevaluate_module[0m[2m:[0m[1mevaluate_expr[0m[1m{[0m[3mexpr[0m[2m=[0mCall { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("SDN Workflow System Tests")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("configuration management")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("loads config, updates settings, and saves")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 668, end: 869, line: 26, column: 13 }, pattern: Identifier("config"), ty: None, value: Some(String("\napp:\n    name: MyService\n    version: 1.0.0\n    debug: false\n\nserver:\n    host: localhost\n    port: 8080\n    workers: 4\n\ndatabase:\n    host: localhost\n    port: 5432\n    name: mydb\n")), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 882, end: 917, line: 27, column: 13 }, pattern: Identifier("path"), ty: None, value: Some(Call { callee: Identifier("create_test_file"), args: [Argument { name: None, value: Identifier("config") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Match(MatchStmt { span: Span { start: 968, end: 1840, line: 30, column: 13 }, subject: MethodCall { receiver: Identifier("SdnDocument"), method: "from_file", args: [Argument { name: None, value: Identifier("path") }] }, arms: [MatchArm { span: Span { start: 1019, end: 1729, line: 31, column: 17 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([MutIdentifier("doc")]) }, guard: None, body: Block { span: Span { start: 1094, end: 1729, line: 33, column: 21 }, statements: [Expression(MethodCall { receiver: Identifier("doc"), method: "set", args: [Argument { name: None, value: FString([Literal("app.version")]) }, Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "String", args: [Argument { name: None, value: FString([Literal("1.1.0")]) }] } }] }), Expression(MethodCall { receiver: Identifier("doc"), method: "set", args: [Argument { name: None, value: FString([Literal("app.debug")]) }, Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "Bool", args: [Argument { name: None, value: Identifier("True") }] } }] }), Expression(MethodCall { receiver: Identifier("doc"), method: "set", args: [Argument { name: None, value: FString([Literal("server.port")]) }, Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "Int", args: [Argument { name: None, value: Integer(9000) }] } }] }), Expression(MethodCall { receiver: Identifier("doc"), method: "set", args: [Argument { name: None, value: FString([Literal("database.pool_size")]) }, Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "Int", args: [Argument { name: None, value: Integer(20) }] } }] }), Match(MatchStmt { span: Span { start: 1515, end: 1729, line: 45, column: 21 }, subject: MethodCall { receiver: Identifier("doc"), method: "write_file", args: [Argument { name: None, value: Identifier("path") }] }, arms: [MatchArm { span: Span { start: 1567, end: 1636, line: 46, column: 25 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([Wildcard]) }, guard: None, body: Block { span: Span { start: 1607, end: 1636, line: 47, column: 29 }, statements: [Expression(Identifier("pass"))] } }, MatchArm { span: Span { start: 1636, end: 1729, line: 48, column: 25 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 1677, end: 1729, line: 49, column: 29 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to save config: $"), Expr(Identifier("e"))]) }] })] } }] })] } }, MatchArm { span: Span { start: 1729, end: 1840, line: 50, column: 17 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 1762, end: 1840, line: 51, column: 21 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to load config: $"), Expr(Identifier("e"))]) }] })] } }] }), Match(MatchStmt { span: Span { start: 1840, end: 2364, line: 54, column: 13 }, subject: MethodCall { receiver: Identifier("SdnDocument"), method: "from_file", args: [Argument { name: None, value: Identifier("path") }] }, arms: [MatchArm { span: Span { start: 1891, end: 2280, line: 55, column: 17 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([Identifier("doc")]) }, guard: None, body: Block { span: Span { start: 1925, end: 2280, line: 56, column: 21 }, statements: [Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("app.version")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_str", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: FString([Literal("1.1.0")]) }] } } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("app.debug")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_bool", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: Identifier("True") }] } } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("server.port")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_i64", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: Integer(9000) }] } } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("database.pool_size")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_i64", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: Integer(20) }] } } }] })] } }, MatchArm { span: Span { start: 2280, end: 2364, line: 60, column: 17 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 2313, end: 2364, line: 61, column: 21 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to verify config: $"), Expr(Identifier("e"))]) }] })] } }] }), Expression(Call { callee: Identifier("cleanup_file"), args: [Argument { name: None, value: Identifier("path") }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("manages multiple config files")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 2472, end: 2532, line: 67, column: 13 }, pattern: Identifier("dev_config"), ty: None, value: Some(FString([Literal("env: development\nport: 8080\ndebug: true")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2545, end: 2588, line: 68, column: 13 }, pattern: Identifier("dev_path"), ty: None, value: Some(Call { callee: Identifier("create_test_file"), args: [Argument { name: None, value: Identifier("dev_config") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2635, end: 2694, line: 71, column: 13 }, pattern: Identifier("prod_config"), ty: None, value: Some(FString([Literal("env: production\nport: 80\ndebug: false")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2707, end: 2752, line: 72, column: 13 }, pattern: Identifier("prod_path"), ty: None, value: Some(Call { callee: Identifier("create_test_file"), args: [Argument { name: None, value: Identifier("prod_config") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2790, end: 2835, line: 75, column: 13 }, pattern: Identifier("dev_doc"), ty: None, value: Some(MethodCall { receiver: Identifier("SdnDocument"), method: "from_file", args: [Argument { name: None, value: Identifier("dev_path") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2848, end: 2895, line: 76, column: 13 }, pattern: Identifier("prod_doc"), ty: None, value: Some(MethodCall { receiver: Identifier("SdnDocument"), method: "from_file", args: [Argument { name: None, value: Identifier("prod_path") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Match(MatchStmt { span: Span { start: 2909, end: 3494, line: 78, column: 13 }, subject: Tuple([Identifier("dev_doc"), Identifier("prod_doc")]), arms: [MatchArm { span: Span { start: 2952, end: 3422, line: 79, column: 17 }, pattern: Tuple([Enum { name: "Result", variant: "Ok", payload: Some([Identifier("dev")]) }, Enum { name: "Result", variant: "Ok", payload: Some([Identifier("prod")]) }]), guard: None, body: Block { span: Span { start: 3038, end: 3422, line: 81, column: 21 }, statements: [Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("dev"), method: "get", args: [Argument { name: None, value: FString([Literal("env")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_str", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: FString([Literal("development")]) }] } } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("dev"), method: "get", args: [Argument { name: None, value: FString([Literal("debug")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_bool", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: Identifier("True") }] } } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("prod"), method: "get", args: [Argument { name: None, value: FString([Literal("env")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_str", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: FString([Literal("production")]) }] } } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("prod"), method: "get", args: [Argument { name: None, value: FString([Literal("debug")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_bool", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: Identifier("False") }] } } }] })] } }, MatchArm { span: Span { start: 3422, end: 3494, line: 87, column: 17 }, pattern: Wildcard, guard: None, body: Block { span: Span { start: 3450, end: 3494, line: 88, column: 21 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to load configs")]) }] })] } }] }), Expression(Call { callee: Identifier("cleanup_file"), args: [Argument { name: None, value: Identifier("dev_path") }] }), Expression(Call { callee: Identifier("cleanup_file"), args: [Argument { name: None, value: Identifier("prod_path") }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("data migration")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("migrates JSON config to SDN")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 3671, end: 3805, line: 96, column: 13 }, pattern: Identifier("json_config"), ty: None, value: Some(String("\n{\n  \"app\": {\n    \"name\": \"MyApp\",\n    \"version\": \"2.0.0\"\n  },\n  \"features\": [\"auth\", \"logging\", \"metrics\"]\n}\n")), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 3818, end: 3863, line: 97, column: 13 }, pattern: Identifier("json_path"), ty: None, value: Some(Call { callee: Identifier("create_test_file"), args: [Argument { name: None, value: Identifier("json_config") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Match(MatchStmt { span: Span { start: 3902, end: 5039, line: 100, column: 13 }, subject: MethodCall { receiver: Identifier("json"), method: "parse", args: [Argument { name: None, value: Identifier("json_config") }] }, arms: [MatchArm { span: Span { start: 3949, end: 4958, line: 101, column: 17 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([Identifier("json_value")]) }, guard: None, body: Block { span: Span { start: 4027, end: 4958, line: 103, column: 21 }, statements: [Let(LetStmt { span: Span { start: 4027, end: 4066, line: 103, column: 21 }, pattern: Identifier("sdn_value"), ty: None, value: Some(Call { callee: Identifier("json_to_sdn"), args: [Argument { name: None, value: Identifier("json_value") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 4087, end: 4122, line: 104, column: 21 }, pattern: Identifier("sdn_content"), ty: None, value: Some(Call { callee: Identifier("to_sdn"), args: [Argument { name: None, value: Identifier("sdn_value") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 4178, end: 4211, line: 107, column: 21 }, pattern: Identifier("sdn_path"), ty: None, value: Some(FString([Literal("$"), Expr(Identifier("json_path")), Literal(".sdn")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Match(MatchStmt { span: Span { start: 4232, end: 4958, line: 108, column: 21 }, subject: MethodCall { receiver: Identifier("fs"), method: "write", args: [Argument { name: None, value: Identifier("sdn_path") }, Argument { name: None, value: Identifier("sdn_content") }] }, arms: [MatchArm { span: Span { start: 4295, end: 4867, line: 109, column: 25 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([Wildcard]) }, guard: None, body: Block { span: Span { start: 4381, end: 4867, line: 111, column: 29 }, statements: [Match(MatchStmt { span: Span { start: 4381, end: 4820, line: 111, column: 29 }, subject: MethodCall { receiver: Identifier("SdnDocument"), method: "from_file", args: [Argument { name: None, value: Identifier("sdn_path") }] }, arms: [MatchArm { span: Span { start: 4452, end: 4709, line: 112, column: 33 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([Identifier("doc")]) }, guard: None, body: Block { span: Span { start: 4502, end: 4709, line: 113, column: 37 }, statements: [Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("app.name")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_str", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: FString([Literal("MyApp")]) }] } } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("app.version")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_str", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: FString([Literal("2.0.0")]) }] } } }] })] } }, MatchArm { span: Span { start: 4709, end: 4820, line: 115, column: 33 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 4758, end: 4820, line: 116, column: 37 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to load SDN: $"), Expr(Identifier("e"))]) }] })] } }] }), Expression(Call { callee: Identifier("cleanup_file"), args: [Argument { name: None, value: Identifier("sdn_path") }] })] } }, MatchArm { span: Span { start: 4867, end: 4958, line: 119, column: 25 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 4908, end: 4958, line: 120, column: 29 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to write SDN: $"), Expr(Identifier("e"))]) }] })] } }] })] } }, MatchArm { span: Span { start: 4958, end: 5039, line: 121, column: 17 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 4991, end: 5039, line: 122, column: 21 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to parse JSON: $"), Expr(Identifier("e"))]) }] })] } }] }), Expression(Call { callee: Identifier("cleanup_file"), args: [Argument { name: None, value: Identifier("json_path") }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("migrates SDN data to JSON")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 5146, end: 5266, line: 128, column: 13 }, pattern: Identifier("sdn_data"), ty: None, value: Some(String("\nusers:\n    alice:\n        age: 30\n        role: admin\n    bob:\n        age: 25\n        role: user\n")), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 5279, end: 5320, line: 129, column: 13 }, pattern: Identifier("sdn_path"), ty: None, value: Some(Call { callee: Identifier("create_test_file"), args: [Argument { name: None, value: Identifier("sdn_data") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Match(MatchStmt { span: Span { start: 5373, end: 6520, line: 132, column: 13 }, subject: MethodCall { receiver: Identifier("SdnDocument"), method: "from_file", args: [Argument { name: None, value: Identifier("sdn_path") }] }, arms: [MatchArm { span: Span { start: 5428, end: 6441, line: 133, column: 17 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([Identifier("doc")]) }, guard: None, body: Block { span: Span { start: 5462, end: 6441, line: 134, column: 21 }, statements: [Let(LetStmt { span: Span { start: 5462, end: 5494, line: 134, column: 21 }, pattern: Identifier("json_content"), ty: None, value: Some(MethodCall { receiver: Identifier("doc"), method: "to_json", args: [] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 5551, end: 5585, line: 137, column: 21 }, pattern: Identifier("json_path"), ty: None, value: Some(FString([Literal("$"), Expr(Identifier("sdn_path")), Literal(".json")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Match(MatchStmt { span: Span { start: 5606, end: 6441, line: 138, column: 21 }, subject: MethodCall { receiver: Identifier("fs"), method: "write", args: [Argument { name: None, value: Identifier("json_path") }, Argument { name: None, value: Identifier("json_content") }] }, arms: [MatchArm { span: Span { start: 5671, end: 6349, line: 139, column: 25 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([Wildcard]) }, guard: None, body: Block { span: Span { start: 5762, end: 6349, line: 141, column: 29 }, statements: [Match(MatchStmt { span: Span { start: 5762, end: 6301, line: 141, column: 29 }, subject: MethodCall { receiver: Identifier("fs"), method: "read_to_string", args: [Argument { name: None, value: Identifier("json_path") }] }, arms: [MatchArm { span: Span { start: 5830, end: 6189, line: 142, column: 33 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([Identifier("content")]) }, guard: None, body: Block { span: Span { start: 5884, end: 6189, line: 143, column: 37 }, statements: [Match(MatchStmt { span: Span { start: 5884, end: 6189, line: 143, column: 37 }, subject: MethodCall { receiver: Identifier("json"), method: "parse", args: [Argument { name: None, value: Identifier("content") }] }, arms: [MatchArm { span: Span { start: 5951, end: 6066, line: 144, column: 41 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([Wildcard]) }, guard: None, body: Block { span: Span { start: 6007, end: 6066, line: 145, column: 45 }, statements: [Expression(Identifier("pass"))] } }, MatchArm { span: Span { start: 6066, end: 6189, line: 146, column: 41 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 6123, end: 6189, line: 147, column: 45 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Invalid JSON output: $"), Expr(Identifier("e"))]) }] })] } }] })] } }, MatchArm { span: Span { start: 6189, end: 6301, line: 148, column: 33 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 6238, end: 6301, line: 149, column: 37 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to read JSON: $"), Expr(Identifier("e"))]) }] })] } }] }), Expression(Call { callee: Identifier("cleanup_file"), args: [Argument { name: None, value: Identifier("json_path") }] })] } }, MatchArm { span: Span { start: 6349, end: 6441, line: 152, column: 25 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 6390, end: 6441, line: 153, column: 29 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to write JSON: $"), Expr(Identifier("e"))]) }] })] } }] })] } }, MatchArm { span: Span { start: 6441, end: 6520, line: 154, column: 17 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 6474, end: 6520, line: 155, column: 21 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to load SDN: $"), Expr(Identifier("e"))]) }] })] } }] }), Expression(Call { callee: Identifier("cleanup_file"), args: [Argument { name: None, value: Identifier("sdn_path") }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("batch operations")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("updates multiple values in batch")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 6635, end: 6789, line: 161, column: 13 }, pattern: Identifier("config"), ty: None, value: Some(String("\nservice_a:\n    port: 8001\n    enabled: true\n\nservice_b:\n    port: 8002\n    enabled: true\n\nservice_c:\n    port: 8003\n    enabled: true\n")), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 6802, end: 6837, line: 162, column: 13 }, pattern: Identifier("path"), ty: None, value: Some(Call { callee: Identifier("create_test_file"), args: [Argument { name: None, value: Identifier("config") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Match(MatchStmt { span: Span { start: 6851, end: 7750, line: 164, column: 13 }, subject: MethodCall { receiver: Identifier("SdnDocument"), method: "from_file", args: [Argument { name: None, value: Identifier("path") }] }, arms: [MatchArm { span: Span { start: 6902, end: 7642, line: 165, column: 17 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([MutIdentifier("doc")]) }, guard: None, body: Block { span: Span { start: 6983, end: 7642, line: 167, column: 21 }, statements: [Expression(MethodCall { receiver: Identifier("doc"), method: "set", args: [Argument { name: None, value: FString([Literal("service_a.enabled")]) }, Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "Bool", args: [Argument { name: None, value: Identifier("False") }] } }] }), Expression(MethodCall { receiver: Identifier("doc"), method: "set", args: [Argument { name: None, value: FString([Literal("service_b.enabled")]) }, Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "Bool", args: [Argument { name: None, value: Identifier("False") }] } }] }), Expression(MethodCall { receiver: Identifier("doc"), method: "set", args: [Argument { name: None, value: FString([Literal("service_c.enabled")]) }, Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "Bool", args: [Argument { name: None, value: Identifier("False") }] } }] }), Expression(MethodCall { receiver: Identifier("doc"), method: "set", args: [Argument { name: None, value: FString([Literal("service_a.port")]) }, Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "Int", args: [Argument { name: None, value: Integer(9001) }] } }] }), Expression(MethodCall { receiver: Identifier("doc"), method: "set", args: [Argument { name: None, value: FString([Literal("service_b.port")]) }, Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "Int", args: [Argument { name: None, value: Integer(9002) }] } }] }), Expression(MethodCall { receiver: Identifier("doc"), method: "set", args: [Argument { name: None, value: FString([Literal("service_c.port")]) }, Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "Int", args: [Argument { name: None, value: Integer(9003) }] } }] }), Match(MatchStmt { span: Span { start: 7435, end: 7642, line: 176, column: 21 }, subject: MethodCall { receiver: Identifier("doc"), method: "write_file", args: [Argument { name: None, value: Identifier("path") }] }, arms: [MatchArm { span: Span { start: 7487, end: 7556, line: 177, column: 25 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([Wildcard]) }, guard: None, body: Block { span: Span { start: 7527, end: 7556, line: 178, column: 29 }, statements: [Expression(Identifier("pass"))] } }, MatchArm { span: Span { start: 7556, end: 7642, line: 179, column: 25 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 7597, end: 7642, line: 180, column: 29 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to save: $"), Expr(Identifier("e"))]) }] })] } }] })] } }, MatchArm { span: Span { start: 7642, end: 7750, line: 181, column: 17 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 7675, end: 7750, line: 182, column: 21 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to load: $"), Expr(Identifier("e"))]) }] })] } }] }), Match(MatchStmt { span: Span { start: 7750, end: 8469, line: 185, column: 13 }, subject: MethodCall { receiver: Identifier("SdnDocument"), method: "from_file", args: [Argument { name: None, value: Identifier("path") }] }, arms: [MatchArm { span: Span { start: 7801, end: 8392, line: 186, column: 17 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([Identifier("doc")]) }, guard: None, body: Block { span: Span { start: 7835, end: 8392, line: 187, column: 21 }, statements: [Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("service_a.enabled")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_bool", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: Identifier("False") }] } } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("service_b.enabled")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_bool", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: Identifier("False") }] } } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("service_c.enabled")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_bool", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: Identifier("False") }] } } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("service_a.port")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_i64", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: Integer(9001) }] } } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("service_b.port")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_i64", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: Integer(9002) }] } } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("service_c.port")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_i64", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: Integer(9003) }] } } }] })] } }, MatchArm { span: Span { start: 8392, end: 8469, line: 193, column: 17 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 8425, end: 8469, line: 194, column: 21 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to verify: $"), Expr(Identifier("e"))]) }] })] } }] }), Expression(Call { callee: Identifier("cleanup_file"), args: [Argument { name: None, value: Identifier("path") }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("processes multiple files in sequence")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 8595, end: 8797, line: 200, column: 13 }, pattern: Identifier("configs"), ty: None, value: Some(Array([Tuple([FString([Literal("config1.sdn")]), FString([Literal("app: app1\nport: 8001")])]), Tuple([FString([Literal("config2.sdn")]), FString([Literal("app: app2\nport: 8002")])]), Tuple([FString([Literal("config3.sdn")]), FString([Literal("app: app3\nport: 8003")])])])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 8811, end: 8829, line: 206, column: 13 }, pattern: Identifier("paths"), ty: None, value: Some(Array([])), mutability: Mutable, storage_class: Auto, is_ghost: false }), For(ForStmt { span: Span { start: 8877, end: 9474, line: 209, column: 13 }, pattern: Tuple([Identifier("name"), Identifier("content")]), iterable: Identifier("configs"), body: Block { span: Span { start: 8925, end: 9474, line: 210, column: 17 }, statements: [Let(LetStmt { span: Span { start: 8925, end: 8961, line: 210, column: 17 }, pattern: Identifier("path"), ty: None, value: Some(Call { callee: Identifier("create_test_file"), args: [Argument { name: None, value: Identifier("content") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(MethodCall { receiver: Identifier("paths"), method: "push", args: [Argument { name: None, value: Identifier("path") }] }), Match(MatchStmt { span: Span { start: 9042, end: 9474, line: 214, column: 17 }, subject: MethodCall { receiver: Identifier("SdnDocument"), method: "from_file", args: [Argument { name: None, value: Identifier("path") }] }, arms: [MatchArm { span: Span { start: 9097, end: 9351, line: 215, column: 21 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([MutIdentifier("doc")]) }, guard: None, body: Block { span: Span { start: 9139, end: 9351, line: 216, column: 25 }, statements: [Let(LetStmt { span: Span { start: 9139, end: 9210, line: 216, column: 25 }, pattern: Identifier("current_port"), ty: None, value: Some(MethodCall { receiver: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("port")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_i64", args: [] }, move_mode: Copy } }] }, method: "unwrap_or", args: [Argument { name: None, value: Integer(0) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(MethodCall { receiver: Identifier("doc"), method: "set", args: [Argument { name: None, value: FString([Literal("port")]) }, Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "Int", args: [Argument { name: None, value: Binary { op: Add, left: Identifier("current_port"), right: Integer(1000) } }] } }] }), Expression(MethodCall { receiver: Identifier("doc"), method: "write_file", args: [Argument { name: None, value: Identifier("path") }] })] } }, MatchArm { span: Span { start: 9351, end: 9474, line: 219, column: 21 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 9388, end: 9474, line: 220, column: 25 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to process $"), Expr(Identifier("name")), Literal(": $"), Expr(Identifier("e"))]) }] })] } }] })] } }), For(ForStmt { span: Span { start: 9474, end: 9855, line: 223, column: 13 }, pattern: Identifier("path"), iterable: Identifier("paths"), body: Block { span: Span { start: 9509, end: 9855, line: 224, column: 17 }, statements: [Match(MatchStmt { span: Span { start: 9509, end: 9831, line: 224, column: 17 }, subject: MethodCall { receiver: Identifier("SdnDocument"), method: "from_file", args: [Argument { name: None, value: Identifier("path") }] }, arms: [MatchArm { span: Span { start: 9564, end: 9746, line: 225, column: 21 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([Identifier("doc")]) }, guard: None, body: Block { span: Span { start: 9602, end: 9746, line: 226, column: 25 }, statements: [Let(LetStmt { span: Span { start: 9602, end: 9665, line: 226, column: 25 }, pattern: Identifier("port"), ty: None, value: Some(MethodCall { receiver: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("port")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_i64", args: [] }, move_mode: Copy } }] }, method: "unwrap_or", args: [Argument { name: None, value: Integer(0) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: And, left: Binary { op: GtEq, left: Identifier("port"), right: Binary { op: BitAnd, left: Integer(9001), right: Unary { op: Ref, operand: Identifier("port") } } }, right: Binary { op: LtEq, left: Binary { op: BitAnd, left: Integer(9001), right: Unary { op: Ref, operand: Identifier("port") } }, right: Integer(9003) } } }] })] } }, MatchArm { span: Span { start: 9746, end: 9831, line: 228, column: 21 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 9783, end: 9831, line: 229, column: 25 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to verify: $"), Expr(Identifier("e"))]) }] })] } }] }), Expression(Call { callee: Identifier("cleanup_file"), args: [Argument { name: None, value: Identifier("path") }] })] } })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("pipeline transformations")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("transforms data through multiple stages")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 10000, end: 10039, line: 236, column: 13 }, pattern: Identifier("initial"), ty: None, value: Some(FString([Literal("items = [1, 2, 3, 4, 5]")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 10052, end: 10088, line: 237, column: 13 }, pattern: Identifier("path"), ty: None, value: Some(Call { callee: Identifier("create_test_file"), args: [Argument { name: None, value: Identifier("initial") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Match(MatchStmt { span: Span { start: 10143, end: 11259, line: 240, column: 13 }, subject: MethodCall { receiver: Identifier("SdnDocument"), method: "from_file", args: [Argument { name: None, value: Identifier("path") }] }, arms: [MatchArm { span: Span { start: 10194, end: 11153, line: 241, column: 17 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([MutIdentifier("doc")]) }, guard: None, body: Block { span: Span { start: 10232, end: 11153, line: 242, column: 21 }, statements: [Match(MatchStmt { span: Span { start: 10232, end: 11116, line: 242, column: 21 }, subject: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("items")]) }] }, arms: [MatchArm { span: Span { start: 10280, end: 11033, line: 243, column: 25 }, pattern: Enum { name: "Option", variant: "Some", payload: Some([Identifier("arr")]) }, guard: None, body: Block { span: Span { start: 10324, end: 11033, line: 244, column: 29 }, statements: [Match(MatchStmt { span: Span { start: 10324, end: 11033, line: 244, column: 29 }, subject: MethodCall { receiver: Identifier("arr"), method: "as_array", args: [] }, arms: [MatchArm { span: Span { start: 10378, end: 10939, line: 245, column: 33 }, pattern: Enum { name: "Option", variant: "Some", payload: Some([Identifier("list")]) }, guard: None, body: Block { span: Span { start: 10431, end: 10939, line: 246, column: 37 }, statements: [Let(LetStmt { span: Span { start: 10431, end: 10451, line: 246, column: 37 }, pattern: Identifier("doubled"), ty: None, value: Some(Array([])), mutability: Mutable, storage_class: Auto, is_ghost: false }), For(ForStmt { span: Span { start: 10488, end: 10865, line: 247, column: 37 }, pattern: Identifier("item"), iterable: Identifier("list"), body: Block { span: Span { start: 10546, end: 10865, line: 248, column: 41 }, statements: [Match(MatchStmt { span: Span { start: 10546, end: 10865, line: 248, column: 41 }, subject: MethodCall { receiver: Identifier("item"), method: "as_i64", args: [] }, arms: [MatchArm { span: Span { start: 10611, end: 10751, line: 249, column: 45 }, pattern: Enum { name: "Option", variant: "Some", payload: Some([Identifier("n")]) }, guard: None, body: Block { span: Span { start: 10673, end: 10751, line: 250, column: 49 }, statements: [Expression(MethodCall { receiver: Identifier("doubled"), method: "push", args: [Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "Int", args: [Argument { name: None, value: Binary { op: Mul, left: Identifier("n"), right: Integer(2) } }] } }] })] } }, MatchArm { span: Span { start: 10751, end: 10865, line: 251, column: 45 }, pattern: Enum { name: "Option", variant: "None", payload: None }, guard: None, body: Block { span: Span { start: 10810, end: 10865, line: 252, column: 49 }, statements: [Expression(MethodCall { receiver: Identifier("doubled"), method: "push", args: [Argument { name: None, value: Identifier("item") }] })] } }] })] } }), Expression(MethodCall { receiver: Identifier("doc"), method: "set", args: [Argument { name: None, value: FString([Literal("items")]) }, Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "Array", args: [Argument { name: None, value: Identifier("doubled") }] } }] })] } }, MatchArm { span: Span { start: 10939, end: 11033, line: 254, column: 33 }, pattern: Enum { name: "Option", variant: "None", payload: None }, guard: None, body: Block { span: Span { start: 10986, end: 11033, line: 255, column: 37 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Expected array")]) }] })] } }] })] } }, MatchArm { span: Span { start: 11033, end: 11116, line: 256, column: 25 }, pattern: Enum { name: "Option", variant: "None", payload: None }, guard: None, body: Block { span: Span { start: 11072, end: 11116, line: 257, column: 29 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Expected items")]) }] })] } }] }), Expression(MethodCall { receiver: Identifier("doc"), method: "write_file", args: [Argument { name: None, value: Identifier("path") }] })] } }, MatchArm { span: Span { start: 11153, end: 11259, line: 260, column: 17 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 11186, end: 11259, line: 261, column: 21 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Stage 2 failed: $"), Expr(Identifier("e"))]) }] })] } }] }), Match(MatchStmt { span: Span { start: 11259, end: 12327, line: 264, column: 13 }, subject: MethodCall { receiver: Identifier("SdnDocument"), method: "from_file", args: [Argument { name: None, value: Identifier("path") }] }, arms: [MatchArm { span: Span { start: 11310, end: 12218, line: 265, column: 17 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([MutIdentifier("doc")]) }, guard: None, body: Block { span: Span { start: 11348, end: 12218, line: 266, column: 21 }, statements: [Match(MatchStmt { span: Span { start: 11348, end: 12181, line: 266, column: 21 }, subject: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("items")]) }] }, arms: [MatchArm { span: Span { start: 11396, end: 12098, line: 267, column: 25 }, pattern: Enum { name: "Option", variant: "Some", payload: Some([Identifier("arr")]) }, guard: None, body: Block { span: Span { start: 11440, end: 12098, line: 268, column: 29 }, statements: [Match(MatchStmt { span: Span { start: 11440, end: 12098, line: 268, column: 29 }, subject: MethodCall { receiver: Identifier("arr"), method: "as_array", args: [] }, arms: [MatchArm { span: Span { start: 11494, end: 12004, line: 269, column: 33 }, pattern: Enum { name: "Option", variant: "Some", payload: Some([Identifier("list")]) }, guard: None, body: Block { span: Span { start: 11547, end: 12004, line: 270, column: 37 }, statements: [Let(LetStmt { span: Span { start: 11547, end: 11562, line: 270, column: 37 }, pattern: Identifier("sum"), ty: None, value: Some(Integer(0)), mutability: Mutable, storage_class: Auto, is_ghost: false }), For(ForStmt { span: Span { start: 11599, end: 11938, line: 271, column: 37 }, pattern: Identifier("item"), iterable: Identifier("list"), body: Block { span: Span { start: 11657, end: 11938, line: 272, column: 41 }, statements: [Match(MatchStmt { span: Span { start: 11657, end: 11938, line: 272, column: 41 }, subject: MethodCall { receiver: Identifier("item"), method: "as_i64", args: [] }, arms: [MatchArm { span: Span { start: 11722, end: 11837, line: 273, column: 45 }, pattern: Enum { name: "Option", variant: "Some", payload: Some([Identifier("n")]) }, guard: None, body: Block { span: Span { start: 11784, end: 11837, line: 274, column: 49 }, statements: [Assignment(AssignmentStmt { span: Span { start: 11788, end: 11790, line: 274, column: 53 }, target: Identifier("sum"), op: AddAssign, value: Identifier("n") })] } }, MatchArm { span: Span { start: 11837, end: 11938, line: 275, column: 45 }, pattern: Enum { name: "Option", variant: "None", payload: None }, guard: None, body: Block { span: Span { start: 11896, end: 11938, line: 276, column: 49 }, statements: [Expression(Identifier("pass"))] } }] })] } }), Expression(MethodCall { receiver: Identifier("doc"), method: "set", args: [Argument { name: None, value: FString([Literal("sum")]) }, Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "Int", args: [Argument { name: None, value: Identifier("sum") }] } }] })] } }, MatchArm { span: Span { start: 12004, end: 12098, line: 279, column: 33 }, pattern: Enum { name: "Option", variant: "None", payload: None }, guard: None, body: Block { span: Span { start: 12051, end: 12098, line: 280, column: 37 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Expected array")]) }] })] } }] })] } }, MatchArm { span: Span { start: 12098, end: 12181, line: 281, column: 25 }, pattern: Enum { name: "Option", variant: "None", payload: None }, guard: None, body: Block { span: Span { start: 12137, end: 12181, line: 282, column: 29 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Expected items")]) }] })] } }] }), Expression(MethodCall { receiver: Identifier("doc"), method: "write_file", args: [Argument { name: None, value: Identifier("path") }] })] } }, MatchArm { span: Span { start: 12218, end: 12327, line: 285, column: 17 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 12251, end: 12327, line: 286, column: 21 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Stage 3 failed: $"), Expr(Identifier("e"))]) }] })] } }] }), Match(MatchStmt { span: Span { start: 12327, end: 12657, line: 289, column: 13 }, subject: MethodCall { receiver: Identifier("SdnDocument"), method: "from_file", args: [Argument { name: None, value: Identifier("path") }] }, arms: [MatchArm { span: Span { start: 12378, end: 12580, line: 290, column: 17 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([Identifier("doc")]) }, guard: None, body: Block { span: Span { start: 12506, end: 12580, line: 293, column: 21 }, statements: [Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("sum")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_i64", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: Integer(30) }] } } }] })] } }, MatchArm { span: Span { start: 12580, end: 12657, line: 294, column: 17 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 12613, end: 12657, line: 295, column: 21 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to verify: $"), Expr(Identifier("e"))]) }] })] } }] }), Expression(Call { callee: Identifier("cleanup_file"), args: [Argument { name: None, value: Identifier("path") }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("error recovery")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("handles partial failures gracefully")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 12769, end: 12800, line: 301, column: 13 }, pattern: Identifier("config"), ty: None, value: Some(FString([Literal("a: 1\nb: 2\nc: 3")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 12813, end: 12848, line: 302, column: 13 }, pattern: Identifier("path"), ty: None, value: Some(Call { callee: Identifier("create_test_file"), args: [Argument { name: None, value: Identifier("config") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Match(MatchStmt { span: Span { start: 12862, end: 13849, line: 304, column: 13 }, subject: MethodCall { receiver: Identifier("SdnDocument"), method: "from_file", args: [Argument { name: None, value: Identifier("path") }] }, arms: [MatchArm { span: Span { start: 12913, end: 13774, line: 305, column: 17 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([MutIdentifier("doc")]) }, guard: None, body: Block { span: Span { start: 12990, end: 13774, line: 307, column: 21 }, statements: [Match(MatchStmt { span: Span { start: 12990, end: 13300, line: 307, column: 21 }, subject: MethodCall { receiver: Identifier("doc"), method: "set", args: [Argument { name: None, value: FString([Literal("a")]) }, Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "Int", args: [Argument { name: None, value: Integer(10) }] } }] }, arms: [MatchArm { span: Span { start: 13052, end: 13149, line: 308, column: 25 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([Wildcard]) }, guard: None, body: Block { span: Span { start: 13092, end: 13149, line: 309, column: 29 }, statements: [Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: Identifier("doc"), method: "is_modified", args: [] }, right: Identifier("True") } }] })] } }, MatchArm { span: Span { start: 13149, end: 13300, line: 310, column: 25 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 13190, end: 13300, line: 311, column: 29 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Valid update failed: $"), Expr(Identifier("e"))]) }] })] } }] }), Match(MatchStmt { span: Span { start: 13300, end: 13627, line: 314, column: 21 }, subject: MethodCall { receiver: Identifier("doc"), method: "set", args: [Argument { name: None, value: FString([Literal("nonexistent.nested")]) }, Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "Int", args: [Argument { name: None, value: Integer(20) }] } }] }, arms: [MatchArm { span: Span { start: 13379, end: 13485, line: 315, column: 25 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([Wildcard]) }, guard: None, body: Block { span: Span { start: 13419, end: 13485, line: 316, column: 29 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Invalid update should have failed")]) }] })] } }, MatchArm { span: Span { start: 13485, end: 13627, line: 317, column: 25 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Wildcard]) }, guard: None, body: Block { span: Span { start: 13526, end: 13627, line: 318, column: 29 }, statements: [Expression(Identifier("pass"))] } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("a")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_i64", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: Integer(10) }] } } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("b")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_i64", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: Integer(2) }] } } }] })] } }, MatchArm { span: Span { start: 13774, end: 13849, line: 323, column: 17 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 13807, end: 13849, line: 324, column: 21 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to load: $"), Expr(Identifier("e"))]) }] })] } }] }), Expression(Call { callee: Identifier("cleanup_file"), args: [Argument { name: None, value: Identifier("path") }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("recovers from write failures")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 13924, end: 13950, line: 329, column: 13 }, pattern: Identifier("config"), ty: None, value: Some(FString([Literal("name: Alice")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 13963, end: 13998, line: 330, column: 13 }, pattern: Identifier("path"), ty: None, value: Some(Call { callee: Identifier("create_test_file"), args: [Argument { name: None, value: Identifier("config") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Match(MatchStmt { span: Span { start: 14012, end: 14837, line: 332, column: 13 }, subject: MethodCall { receiver: Identifier("SdnDocument"), method: "from_file", args: [Argument { name: None, value: Identifier("path") }] }, arms: [MatchArm { span: Span { start: 14063, end: 14732, line: 333, column: 17 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([MutIdentifier("doc")]) }, guard: None, body: Block { span: Span { start: 14101, end: 14732, line: 334, column: 21 }, statements: [Expression(MethodCall { receiver: Identifier("doc"), method: "set", args: [Argument { name: None, value: FString([Literal("name")]) }, Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "String", args: [Argument { name: None, value: FString([Literal("Bob")]) }] } }] }), Match(MatchStmt { span: Span { start: 14213, end: 14521, line: 337, column: 21 }, subject: MethodCall { receiver: Identifier("doc"), method: "write_file", args: [Argument { name: None, value: FString([Literal("/invalid/path/file.sdn")]) }] }, arms: [MatchArm { span: Span { start: 14285, end: 14376, line: 338, column: 25 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([Wildcard]) }, guard: None, body: Block { span: Span { start: 14325, end: 14376, line: 339, column: 29 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Should have failed")]) }] })] } }, MatchArm { span: Span { start: 14376, end: 14521, line: 340, column: 25 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Wildcard]) }, guard: None, body: Block { span: Span { start: 14417, end: 14521, line: 341, column: 29 }, statements: [Expression(Identifier("pass"))] } }] }), Match(MatchStmt { span: Span { start: 14521, end: 14732, line: 344, column: 21 }, subject: MethodCall { receiver: Identifier("doc"), method: "write_file", args: [Argument { name: None, value: Identifier("path") }] }, arms: [MatchArm { span: Span { start: 14573, end: 14642, line: 345, column: 25 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([Wildcard]) }, guard: None, body: Block { span: Span { start: 14613, end: 14642, line: 346, column: 29 }, statements: [Expression(Identifier("pass"))] } }, MatchArm { span: Span { start: 14642, end: 14732, line: 347, column: 25 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 14683, end: 14732, line: 348, column: 29 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Valid write failed: $"), Expr(Identifier("e"))]) }] })] } }] })] } }, MatchArm { span: Span { start: 14732, end: 14837, line: 349, column: 17 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 14765, end: 14837, line: 350, column: 21 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to load: $"), Expr(Identifier("e"))]) }] })] } }] }), Match(MatchStmt { span: Span { start: 14837, end: 15077, line: 353, column: 13 }, subject: MethodCall { receiver: Identifier("SdnDocument"), method: "from_file", args: [Argument { name: None, value: Identifier("path") }] }, arms: [MatchArm { span: Span { start: 14888, end: 15000, line: 354, column: 17 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([Identifier("doc")]) }, guard: None, body: Block { span: Span { start: 14922, end: 15000, line: 355, column: 21 }, statements: [Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("name")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_str", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: FString([Literal("Bob")]) }] } } }] })] } }, MatchArm { span: Span { start: 15000, end: 15077, line: 356, column: 17 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 15033, end: 15077, line: 357, column: 21 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to verify: $"), Expr(Identifier("e"))]) }] })] } }] }), Expression(Call { callee: Identifier("cleanup_file"), args: [Argument { name: None, value: Identifier("path") }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }[1m}[0m[2m:[0m[1mevaluate_expr[0m[1m{[0m[3mexpr[0m[2m=[0mCall { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("configuration management")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("loads config, updates settings, and saves")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 668, end: 869, line: 26, column: 13 }, pattern: Identifier("config"), ty: None, value: Some(String("\napp:\n    name: MyService\n    version: 1.0.0\n    debug: false\n\nserver:\n    host: localhost\n    port: 8080\n    workers: 4\n\ndatabase:\n    host: localhost\n    port: 5432\n    name: mydb\n")), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 882, end: 917, line: 27, column: 13 }, pattern: Identifier("path"), ty: None, value: Some(Call { callee: Identifier("create_test_file"), args: [Argument { name: None, value: Identifier("config") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Match(MatchStmt { span: Span { start: 968, end: 1840, line: 30, column: 13 }, subject: MethodCall { receiver: Identifier("SdnDocument"), method: "from_file", args: [Argument { name: None, value: Identifier("path") }] }, arms: [MatchArm { span: Span { start: 1019, end: 1729, line: 31, column: 17 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([MutIdentifier("doc")]) }, guard: None, body: Block { span: Span { start: 1094, end: 1729, line: 33, column: 21 }, statements: [Expression(MethodCall { receiver: Identifier("doc"), method: "set", args: [Argument { name: None, value: FString([Literal("app.version")]) }, Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "String", args: [Argument { name: None, value: FString([Literal("1.1.0")]) }] } }] }), Expression(MethodCall { receiver: Identifier("doc"), method: "set", args: [Argument { name: None, value: FString([Literal("app.debug")]) }, Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "Bool", args: [Argument { name: None, value: Identifier("True") }] } }] }), Expression(MethodCall { receiver: Identifier("doc"), method: "set", args: [Argument { name: None, value: FString([Literal("server.port")]) }, Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "Int", args: [Argument { name: None, value: Integer(9000) }] } }] }), Expression(MethodCall { receiver: Identifier("doc"), method: "set", args: [Argument { name: None, value: FString([Literal("database.pool_size")]) }, Argument { name: None, value: MethodCall { receiver: Identifier("SdnValue"), method: "Int", args: [Argument { name: None, value: Integer(20) }] } }] }), Match(MatchStmt { span: Span { start: 1515, end: 1729, line: 45, column: 21 }, subject: MethodCall { receiver: Identifier("doc"), method: "write_file", args: [Argument { name: None, value: Identifier("path") }] }, arms: [MatchArm { span: Span { start: 1567, end: 1636, line: 46, column: 25 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([Wildcard]) }, guard: None, body: Block { span: Span { start: 1607, end: 1636, line: 47, column: 29 }, statements: [Expression(Identifier("pass"))] } }, MatchArm { span: Span { start: 1636, end: 1729, line: 48, column: 25 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 1677, end: 1729, line: 49, column: 29 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to save config: $"), Expr(Identifier("e"))]) }] })] } }] })] } }, MatchArm { span: Span { start: 1729, end: 1840, line: 50, column: 17 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 1762, end: 1840, line: 51, column: 21 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to load config: $"), Expr(Identifier("e"))]) }] })] } }] }), Match(MatchStmt { span: Span { start: 1840, end: 2364, line: 54, column: 13 }, subject: MethodCall { receiver: Identifier("SdnDocument"), method: "from_file", args: [Argument { name: None, value: Identifier("path") }] }, arms: [MatchArm { span: Span { start: 1891, end: 2280, line: 55, column: 17 }, pattern: Enum { name: "Result", variant: "Ok", payload: Some([Identifier("doc")]) }, guard: None, body: Block { span: Span { start: 1925, end: 2280, line: 56, column: 21 }, statements: [Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("app.version")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_str", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: FString([Literal("1.1.0")]) }] } } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("app.debug")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_bool", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: Identifier("True") }] } } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("server.port")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_i64", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: Integer(9000) }] } } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("doc"), method: "get", args: [Argument { name: None, value: FString([Literal("database.pool_size")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_i64", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: Integer(20) }] } } }] })] } }, MatchArm { span: Span { start: 2280, end: 2364, line: 60, column: 17 }, pattern: Enum { name: "Result", variant: "Err", payload: Some([Identifier("e")]) }, guard: None, body: Block { span: Span { start: 2313, end: 2364, line: 61, column: 21 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to verify config: $"), Expr(Identifier("e"))]) }] })] } }] }), Expression(Call { callee: Identifier("cleanup_file"), args: [Argument { name: None, value: Identifier("path") }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("manages multiple config files")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 2472, end: 2532, line: 67, column: 13 }, pattern: Identifier("dev_config"), ty: None, value: Some(FString([Literal("env: development\nport: 8080\ndebug: true")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2545, end: 2588, line: 68, column: 13 }, pattern: Identifier("dev_path"), ty: None, value: Some(Call { callee: Identifier("create_test_file"), args: [Argument { name: None, value: Identifier("dev_config") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2635, end: 2694, line: 71, column: 13 }, pattern: Identifier("prod_config"), ty: None, value: Some(FString([Literal("env: production\nport: 80\ndebug: false")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2707, end: 2752, line: 72, column: 13 }, pattern: Identifier("prod_path"), ty: None, value: Some(Call { callee: Identifier("create_test_file"), args: [Argument { name: None, value: Identifier("prod_config") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2790, end: 2835, line: 75, column: 13 }, pattern: Identifier("dev_doc"), ty: None, value: Some(MethodCall { receiver: Identifier("SdnDocument"), method: "from_file", args: [Argument { name: None, value: Identifier("dev_path") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2848, end: 2895, line: 76, column: 13 }, pattern: Identifier("prod_doc"), ty: None, value: Some(MethodCall { receiver: Identifier("SdnDocument"), method: "from_file", args: [Argument { name: None, value: Identifier("prod_path") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Match(MatchStmt { span: Span { start: 2909, end: 3494, line: 78, column: 13 }, subject: Tuple([Identifier("dev_doc"), Identifier("prod_doc")]), arms: [MatchArm { span: Span { start: 2952, end: 3422, line: 79, column: 17 }, pattern: Tuple([Enum { name: "Result", variant: "Ok", payload: Some([Identifier("dev")]) }, Enum { name: "Result", variant: "Ok", payload: Some([Identifier("prod")]) }]), guard: None, body: Block { span: Span { start: 3038, end: 3422, line: 81, column: 21 }, statements: [Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("dev"), method: "get", args: [Argument { name: None, value: FString([Literal("env")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_str", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: FString([Literal("development")]) }] } } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("dev"), method: "get", args: [Argument { name: None, value: FString([Literal("debug")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_bool", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: Identifier("True") }] } } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("prod"), method: "get", args: [Argument { name: None, value: FString([Literal("env")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_str", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: FString([Literal("production")]) }] } } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("prod"), method: "get", args: [Argument { name: None, value: FString([Literal("debug")]) }] }, method: "flatmap", args: [Argument { name: None, value: Lambda { params: [LambdaParam { name: "v", ty: None }], body: MethodCall { receiver: Identifier("v"), method: "as_bool", args: [] }, move_mode: Copy } }] }, right: Call { callee: Identifier("Some"), args: [Argument { name: None, value: Identifier("False") }] } } }] })] } }, MatchArm { span: Span { start: 3422, end: 3494, line: 87, column: 17 }, pattern: Wildcard, guard: None, body: Block { span: Span { start: 3450, end: 3494, line: 88, column: 21 }, statements: [Expression(Call { callee: Identifier("fail"), args: [Argument { name: None, value: FString([Literal("Failed to load configs")]) }] })] } }] }), Expression(Call { callee: Identifier("cleanup_file"), args: [Argument { name: None, value: Identifier("dev_path") }] }), Expression(Call { callee: Identifier("cleanup_file"), args: [Argument { name: None, value: Identifier("prod_path") }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }[1m}[0m[2m:[0m [2msimple::cli::init[0m[2m:[0m [2m83:[0m PANIC failed printing to stdout: Broken pipe (os error 32) [3mlocation[0m[2m=[0mlibrary/std/src/io/stdio.rs:1165:9 [3mbacktrace[0m[2m=[0m   0: simple::cli::init::init_panic_hook::{closure#0}
             at ./src/driver/src/cli/init.rs:67:25
   1: <alloc::boxed::Box<dyn for<'a, 'b> core::ops::function::Fn<(&'a std::panic::PanicHookInfo<'b>,), Output = ()> + core::marker::Sync + core::marker::Send> as core::ops::function::Fn<(&std::panic::PanicHookInfo,)>>::call
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/alloc/src/boxed.rs:2220:9
   2: std::panicking::panic_with_hook
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:833:13
   3: std::panicking::panic_handler::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:698:13
   4: std::sys::backtrace::__rust_end_short_backtrace::<std::panicking::panic_handler::{closure#0}, !>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:176:18
   5: __rustc::rust_begin_unwind
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:689:5
   6: core::panicking::panic_fmt
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/panicking.rs:80:14
   7: std::io::stdio::print_to::<std::io::stdio::Stdout>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1165:9
   8: std::io::stdio::_print
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1275:5
   9: simple_compiler::interpreter::interpreter_call::bdd::eval_bdd_builtin
             at ./src/compiler/src/interpreter_call/bdd.rs:174:13
  10: simple_compiler::interpreter::interpreter_call::evaluate_call
             at ./src/compiler/src/interpreter_call/mod.rs:45:31
  11: simple_compiler::interpreter::evaluate_expr
             at ./src/compiler/src/interpreter_expr.rs:772:13
  12: simple_compiler::interpreter::interpreter_call::block_execution::exec_block_closure
             at ./src/compiler/src/interpreter_call/block_execution.rs:64:30
  13: simple_compiler::interpreter::interpreter_call::core::exec_lambda
             at ./src/compiler/src/interpreter_call/core.rs:229:16
  14: simple_compiler::interpreter::interpreter_call::bdd::exec_block_value
             at ./src/compiler/src/interpreter_call/bdd.rs:119:13
  15: simple_compiler::interpreter::interpreter_call::bdd::eval_bdd_builtin
             at ./src/compiler/src/interpreter_call/bdd.rs:184:26
  16: simple_compiler::interpreter::interpreter_call::evaluate_call
             at ./src/compiler/src/interpreter_call/mod.rs:45:31
  17: simple_compiler::interpreter::evaluate_expr
             at ./src/compiler/src/interpreter_expr.rs:772:13
  18: simple_compiler::interpreter::interpreter_helpers::handle_method_call_with_self_update
             at ./src/compiler/src/interpreter_helpers.rs:633:18
  19: simple_compiler::interpreter::interpreter_eval::evaluate_module_impl
             at ./src/compiler/src/interpreter_eval.rs:548:35
  20: simple_compiler::interpreter::evaluate_module_with_di_and_aop
             at ./src/compiler/src/interpreter.rs:362:18
  21: simple_compiler::interpreter::evaluate_module
             at ./src/compiler/src/interpreter.rs:345:5
  22: <simple_driver::exec_core::ExecCore>::run_file_interpreted_with_args
             at ./src/driver/src/exec_core.rs:380:25
  23: <simple_driver::runner::Runner>::run_file_interpreted_with_args
             at ./src/driver/src/runner.rs:76:19
  24: simple::cli::basic::run_file_with_args
             at ./src/driver/src/cli/basic.rs:29:16
  25: simple::main
             at ./src/driver/src/main.rs:773:33
  26: <fn() as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:250:5
  27: std::sys::backtrace::__rust_begin_short_backtrace::<fn(), ()>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:160:18
  28: std::rt::lang_start::<()>::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:206:18
  29: <&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:287:21
  30: std::panicking::catch_unwind::do_call::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  31: std::panicking::catch_unwind::<i32, &dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  32: std::panic::catch_unwind::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  33: std::rt::lang_start_internal::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:175:24
  34: std::panicking::catch_unwind::do_call::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  35: std::panicking::catch_unwind::<isize, std::rt::lang_start_internal::{closure#0}>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  36: std::panic::catch_unwind::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  37: std::rt::lang_start_internal
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:171:5
  38: main
  39: __libc_start_call_main
             at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  40: __libc_start_main_impl
             at ./csu/../csu/libc-start.c:360:3
  41: _start

[2m2026-01-02T00:43:46.920769Z[0m [31mERROR[0m ThreadId(01) [2msimple::cli::init[0m[2m:[0m [2m83:[0m PANIC failed printing to stderr: Broken pipe (os error 32) [3mlocation[0m[2m=[0mlibrary/std/src/io/stdio.rs:1165:9 [3mbacktrace[0m[2m=[0m   0: simple::cli::init::init_panic_hook::{closure#0}
             at ./src/driver/src/cli/init.rs:67:25
   1: <alloc::boxed::Box<dyn for<'a, 'b> core::ops::function::Fn<(&'a std::panic::PanicHookInfo<'b>,), Output = ()> + core::marker::Sync + core::marker::Send> as core::ops::function::Fn<(&std::panic::PanicHookInfo,)>>::call
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/alloc/src/boxed.rs:2220:9
   2: std::panicking::panic_with_hook
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:833:13
   3: std::panicking::panic_handler::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:698:13
   4: std::sys::backtrace::__rust_end_short_backtrace::<std::panicking::panic_handler::{closure#0}, !>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:176:18
   5: __rustc::rust_begin_unwind
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:689:5
   6: core::panicking::panic_fmt
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/panicking.rs:80:14
   7: std::io::stdio::print_to::<std::io::stdio::Stderr>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1165:9
   8: std::io::stdio::_eprint
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1286:5
   9: simple::cli::basic::run_file_with_args
             at ./src/driver/src/cli/basic.rs:36:13
  10: simple::main
             at ./src/driver/src/main.rs:773:33
  11: <fn() as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:250:5
  12: std::sys::backtrace::__rust_begin_short_backtrace::<fn(), ()>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:160:18
  13: std::rt::lang_start::<()>::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:206:18
  14: <&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:287:21
  15: std::panicking::catch_unwind::do_call::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  16: std::panicking::catch_unwind::<i32, &dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  17: std::panic::catch_unwind::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  18: std::rt::lang_start_internal::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:175:24
  19: std::panicking::catch_unwind::do_call::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  20: std::panicking::catch_unwind::<isize, std::rt::lang_start_internal::{closure#0}>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  21: std::panic::catch_unwind::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  22: std::rt::lang_start_internal
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:171:5
  23: main
  24: __libc_start_call_main
             at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  25: __libc_start_main_impl
             at ./csu/../csu/libc-start.c:360:3
  26: _start

[2m2026-01-02T00:44:01.714348Z[0m [31mERROR[0m ThreadId(01) [2msimple::cli::init[0m[2m:[0m [2m83:[0m PANIC failed printing to stderr: Broken pipe (os error 32) [3mlocation[0m[2m=[0mlibrary/std/src/io/stdio.rs:1165:9 [3mbacktrace[0m[2m=[0m   0: simple::cli::init::init_panic_hook::{closure#0}
             at ./src/driver/src/cli/init.rs:67:25
   1: <alloc::boxed::Box<dyn for<'a, 'b> core::ops::function::Fn<(&'a std::panic::PanicHookInfo<'b>,), Output = ()> + core::marker::Sync + core::marker::Send> as core::ops::function::Fn<(&std::panic::PanicHookInfo,)>>::call
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/alloc/src/boxed.rs:2220:9
   2: std::panicking::panic_with_hook
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:833:13
   3: std::panicking::panic_handler::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:698:13
   4: std::sys::backtrace::__rust_end_short_backtrace::<std::panicking::panic_handler::{closure#0}, !>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:176:18
   5: __rustc::rust_begin_unwind
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:689:5
   6: core::panicking::panic_fmt
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/panicking.rs:80:14
   7: std::io::stdio::print_to::<std::io::stdio::Stderr>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1165:9
   8: std::io::stdio::_eprint
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1286:5
   9: simple::cli::basic::run_file_with_args
             at ./src/driver/src/cli/basic.rs:36:13
  10: simple::main
             at ./src/driver/src/main.rs:773:33
  11: <fn() as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:250:5
  12: std::sys::backtrace::__rust_begin_short_backtrace::<fn(), ()>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:160:18
  13: std::rt::lang_start::<()>::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:206:18
  14: <&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:287:21
  15: std::panicking::catch_unwind::do_call::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  16: std::panicking::catch_unwind::<i32, &dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  17: std::panic::catch_unwind::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  18: std::rt::lang_start_internal::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:175:24
  19: std::panicking::catch_unwind::do_call::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  20: std::panicking::catch_unwind::<isize, std::rt::lang_start_internal::{closure#0}>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  21: std::panic::catch_unwind::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  22: std::rt::lang_start_internal
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:171:5
  23: main
  24: __libc_start_call_main
             at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  25: __libc_start_main_impl
             at ./csu/../csu/libc-start.c:360:3
  26: _start

[2m2026-01-02T00:44:23.220738Z[0m [31mERROR[0m ThreadId(01) [2msimple::cli::init[0m[2m:[0m [2m83:[0m PANIC failed printing to stderr: Broken pipe (os error 32) [3mlocation[0m[2m=[0mlibrary/std/src/io/stdio.rs:1165:9 [3mbacktrace[0m[2m=[0m   0: simple::cli::init::init_panic_hook::{closure#0}
             at ./src/driver/src/cli/init.rs:67:25
   1: <alloc::boxed::Box<dyn for<'a, 'b> core::ops::function::Fn<(&'a std::panic::PanicHookInfo<'b>,), Output = ()> + core::marker::Sync + core::marker::Send> as core::ops::function::Fn<(&std::panic::PanicHookInfo,)>>::call
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/alloc/src/boxed.rs:2220:9
   2: std::panicking::panic_with_hook
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:833:13
   3: std::panicking::panic_handler::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:698:13
   4: std::sys::backtrace::__rust_end_short_backtrace::<std::panicking::panic_handler::{closure#0}, !>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:176:18
   5: __rustc::rust_begin_unwind
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:689:5
   6: core::panicking::panic_fmt
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/panicking.rs:80:14
   7: std::io::stdio::print_to::<std::io::stdio::Stderr>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1165:9
   8: std::io::stdio::_eprint
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1286:5
   9: simple::cli::basic::run_file_with_args
             at ./src/driver/src/cli/basic.rs:36:13
  10: simple::main
             at ./src/driver/src/main.rs:773:33
  11: <fn() as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:250:5
  12: std::sys::backtrace::__rust_begin_short_backtrace::<fn(), ()>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:160:18
  13: std::rt::lang_start::<()>::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:206:18
  14: <&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:287:21
  15: std::panicking::catch_unwind::do_call::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  16: std::panicking::catch_unwind::<i32, &dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  17: std::panic::catch_unwind::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  18: std::rt::lang_start_internal::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:175:24
  19: std::panicking::catch_unwind::do_call::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  20: std::panicking::catch_unwind::<isize, std::rt::lang_start_internal::{closure#0}>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  21: std::panic::catch_unwind::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  22: std::rt::lang_start_internal
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:171:5
  23: main
  24: __libc_start_call_main
             at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  25: __libc_start_main_impl
             at ./csu/../csu/libc-start.c:360:3
  26: _start

[2m2026-01-02T00:45:07.362569Z[0m [31mERROR[0m ThreadId(01) [2msimple::cli::init[0m[2m:[0m [2m83:[0m PANIC failed printing to stderr: Broken pipe (os error 32) [3mlocation[0m[2m=[0mlibrary/std/src/io/stdio.rs:1165:9 [3mbacktrace[0m[2m=[0m   0: simple::cli::init::init_panic_hook::{closure#0}
             at ./src/driver/src/cli/init.rs:67:25
   1: <alloc::boxed::Box<dyn for<'a, 'b> core::ops::function::Fn<(&'a std::panic::PanicHookInfo<'b>,), Output = ()> + core::marker::Sync + core::marker::Send> as core::ops::function::Fn<(&std::panic::PanicHookInfo,)>>::call
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/alloc/src/boxed.rs:2220:9
   2: std::panicking::panic_with_hook
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:833:13
   3: std::panicking::panic_handler::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:698:13
   4: std::sys::backtrace::__rust_end_short_backtrace::<std::panicking::panic_handler::{closure#0}, !>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:176:18
   5: __rustc::rust_begin_unwind
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:689:5
   6: core::panicking::panic_fmt
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/panicking.rs:80:14
   7: std::io::stdio::print_to::<std::io::stdio::Stderr>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1165:9
   8: std::io::stdio::_eprint
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1286:5
   9: simple::cli::basic::run_file_with_args
             at ./src/driver/src/cli/basic.rs:36:13
  10: simple::main
             at ./src/driver/src/main.rs:773:33
  11: <fn() as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:250:5
  12: std::sys::backtrace::__rust_begin_short_backtrace::<fn(), ()>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:160:18
  13: std::rt::lang_start::<()>::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:206:18
  14: <&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:287:21
  15: std::panicking::catch_unwind::do_call::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  16: std::panicking::catch_unwind::<i32, &dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  17: std::panic::catch_unwind::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  18: std::rt::lang_start_internal::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:175:24
  19: std::panicking::catch_unwind::do_call::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  20: std::panicking::catch_unwind::<isize, std::rt::lang_start_internal::{closure#0}>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  21: std::panic::catch_unwind::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  22: std::rt::lang_start_internal
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:171:5
  23: main
  24: __libc_start_call_main
             at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  25: __libc_start_main_impl
             at ./csu/../csu/libc-start.c:360:3
  26: _start

[2m2026-01-02T00:45:19.667119Z[0m [31mERROR[0m ThreadId(01) [2msimple::cli::init[0m[2m:[0m [2m83:[0m PANIC failed printing to stderr: Broken pipe (os error 32) [3mlocation[0m[2m=[0mlibrary/std/src/io/stdio.rs:1165:9 [3mbacktrace[0m[2m=[0m   0: simple::cli::init::init_panic_hook::{closure#0}
             at ./src/driver/src/cli/init.rs:67:25
   1: <alloc::boxed::Box<dyn for<'a, 'b> core::ops::function::Fn<(&'a std::panic::PanicHookInfo<'b>,), Output = ()> + core::marker::Sync + core::marker::Send> as core::ops::function::Fn<(&std::panic::PanicHookInfo,)>>::call
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/alloc/src/boxed.rs:2220:9
   2: std::panicking::panic_with_hook
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:833:13
   3: std::panicking::panic_handler::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:698:13
   4: std::sys::backtrace::__rust_end_short_backtrace::<std::panicking::panic_handler::{closure#0}, !>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:176:18
   5: __rustc::rust_begin_unwind
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:689:5
   6: core::panicking::panic_fmt
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/panicking.rs:80:14
   7: std::io::stdio::print_to::<std::io::stdio::Stderr>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1165:9
   8: std::io::stdio::_eprint
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1286:5
   9: simple::cli::basic::run_file_with_args
             at ./src/driver/src/cli/basic.rs:36:13
  10: simple::main
             at ./src/driver/src/main.rs:773:33
  11: <fn() as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:250:5
  12: std::sys::backtrace::__rust_begin_short_backtrace::<fn(), ()>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:160:18
  13: std::rt::lang_start::<()>::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:206:18
  14: <&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:287:21
  15: std::panicking::catch_unwind::do_call::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  16: std::panicking::catch_unwind::<i32, &dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  17: std::panic::catch_unwind::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  18: std::rt::lang_start_internal::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:175:24
  19: std::panicking::catch_unwind::do_call::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  20: std::panicking::catch_unwind::<isize, std::rt::lang_start_internal::{closure#0}>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  21: std::panic::catch_unwind::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  22: std::rt::lang_start_internal
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:171:5
  23: main
  24: __libc_start_call_main
             at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  25: __libc_start_main_impl
             at ./csu/../csu/libc-start.c:360:3
  26: _start

[2m2026-01-02T00:45:33.520322Z[0m [31mERROR[0m ThreadId(01) [2msimple::cli::init[0m[2m:[0m [2m83:[0m PANIC failed printing to stderr: Broken pipe (os error 32) [3mlocation[0m[2m=[0mlibrary/std/src/io/stdio.rs:1165:9 [3mbacktrace[0m[2m=[0m   0: simple::cli::init::init_panic_hook::{closure#0}
             at ./src/driver/src/cli/init.rs:67:25
   1: <alloc::boxed::Box<dyn for<'a, 'b> core::ops::function::Fn<(&'a std::panic::PanicHookInfo<'b>,), Output = ()> + core::marker::Sync + core::marker::Send> as core::ops::function::Fn<(&std::panic::PanicHookInfo,)>>::call
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/alloc/src/boxed.rs:2220:9
   2: std::panicking::panic_with_hook
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:833:13
   3: std::panicking::panic_handler::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:698:13
   4: std::sys::backtrace::__rust_end_short_backtrace::<std::panicking::panic_handler::{closure#0}, !>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:176:18
   5: __rustc::rust_begin_unwind
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:689:5
   6: core::panicking::panic_fmt
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/panicking.rs:80:14
   7: std::io::stdio::print_to::<std::io::stdio::Stderr>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1165:9
   8: std::io::stdio::_eprint
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1286:5
   9: simple::cli::basic::run_file_with_args
             at ./src/driver/src/cli/basic.rs:36:13
  10: simple::main
             at ./src/driver/src/main.rs:773:33
  11: <fn() as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:250:5
  12: std::sys::backtrace::__rust_begin_short_backtrace::<fn(), ()>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:160:18
  13: std::rt::lang_start::<()>::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:206:18
  14: <&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:287:21
  15: std::panicking::catch_unwind::do_call::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  16: std::panicking::catch_unwind::<i32, &dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  17: std::panic::catch_unwind::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  18: std::rt::lang_start_internal::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:175:24
  19: std::panicking::catch_unwind::do_call::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  20: std::panicking::catch_unwind::<isize, std::rt::lang_start_internal::{closure#0}>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  21: std::panic::catch_unwind::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  22: std::rt::lang_start_internal
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:171:5
  23: main
  24: __libc_start_call_main
             at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  25: __libc_start_main_impl
             at ./csu/../csu/libc-start.c:360:3
  26: _start

[2m2026-01-02T00:47:35.810071Z[0m [31mERROR[0m ThreadId(01) [2msimple::cli::init[0m[2m:[0m [2m83:[0m PANIC failed printing to stderr: Broken pipe (os error 32) [3mlocation[0m[2m=[0mlibrary/std/src/io/stdio.rs:1165:9 [3mbacktrace[0m[2m=[0m   0: simple::cli::init::init_panic_hook::{closure#0}
             at ./src/driver/src/cli/init.rs:67:25
   1: <alloc::boxed::Box<dyn for<'a, 'b> core::ops::function::Fn<(&'a std::panic::PanicHookInfo<'b>,), Output = ()> + core::marker::Sync + core::marker::Send> as core::ops::function::Fn<(&std::panic::PanicHookInfo,)>>::call
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/alloc/src/boxed.rs:2220:9
   2: std::panicking::panic_with_hook
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:833:13
   3: std::panicking::panic_handler::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:698:13
   4: std::sys::backtrace::__rust_end_short_backtrace::<std::panicking::panic_handler::{closure#0}, !>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:176:18
   5: __rustc::rust_begin_unwind
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:689:5
   6: core::panicking::panic_fmt
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/panicking.rs:80:14
   7: std::io::stdio::print_to::<std::io::stdio::Stderr>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1165:9
   8: std::io::stdio::_eprint
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1286:5
   9: simple::cli::basic::run_file_with_args
             at ./src/driver/src/cli/basic.rs:36:13
  10: simple::main
             at ./src/driver/src/main.rs:773:33
  11: <fn() as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:250:5
  12: std::sys::backtrace::__rust_begin_short_backtrace::<fn(), ()>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:160:18
  13: std::rt::lang_start::<()>::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:206:18
  14: <&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:287:21
  15: std::panicking::catch_unwind::do_call::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  16: std::panicking::catch_unwind::<i32, &dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  17: std::panic::catch_unwind::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  18: std::rt::lang_start_internal::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:175:24
  19: std::panicking::catch_unwind::do_call::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  20: std::panicking::catch_unwind::<isize, std::rt::lang_start_internal::{closure#0}>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  21: std::panic::catch_unwind::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  22: std::rt::lang_start_internal
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:171:5
  23: main
  24: __libc_start_call_main
             at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  25: __libc_start_main_impl
             at ./csu/../csu/libc-start.c:360:3
  26: _start

[2m2026-01-02T00:48:40.836338Z[0m [31mERROR[0m ThreadId(01) [2msimple::cli::init[0m[2m:[0m [2m83:[0m PANIC failed printing to stderr: Broken pipe (os error 32) [3mlocation[0m[2m=[0mlibrary/std/src/io/stdio.rs:1165:9 [3mbacktrace[0m[2m=[0m   0: simple::cli::init::init_panic_hook::{closure#0}
             at ./src/driver/src/cli/init.rs:67:25
   1: <alloc::boxed::Box<dyn for<'a, 'b> core::ops::function::Fn<(&'a std::panic::PanicHookInfo<'b>,), Output = ()> + core::marker::Sync + core::marker::Send> as core::ops::function::Fn<(&std::panic::PanicHookInfo,)>>::call
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/alloc/src/boxed.rs:2220:9
   2: std::panicking::panic_with_hook
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:833:13
   3: std::panicking::panic_handler::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:698:13
   4: std::sys::backtrace::__rust_end_short_backtrace::<std::panicking::panic_handler::{closure#0}, !>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:176:18
   5: __rustc::rust_begin_unwind
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:689:5
   6: core::panicking::panic_fmt
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/panicking.rs:80:14
   7: std::io::stdio::print_to::<std::io::stdio::Stderr>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1165:9
   8: std::io::stdio::_eprint
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1286:5
   9: simple::cli::basic::run_file_with_args
             at ./src/driver/src/cli/basic.rs:36:13
  10: simple::main
             at ./src/driver/src/main.rs:773:33
  11: <fn() as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:250:5
  12: std::sys::backtrace::__rust_begin_short_backtrace::<fn(), ()>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:160:18
  13: std::rt::lang_start::<()>::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:206:18
  14: <&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:287:21
  15: std::panicking::catch_unwind::do_call::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  16: std::panicking::catch_unwind::<i32, &dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  17: std::panic::catch_unwind::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  18: std::rt::lang_start_internal::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:175:24
  19: std::panicking::catch_unwind::do_call::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  20: std::panicking::catch_unwind::<isize, std::rt::lang_start_internal::{closure#0}>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  21: std::panic::catch_unwind::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  22: std::rt::lang_start_internal
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:171:5
  23: main
  24: __libc_start_call_main
             at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  25: __libc_start_main_impl
             at ./csu/../csu/libc-start.c:360:3
  26: _start

[2m2026-01-02T00:52:17.893060Z[0m [31mERROR[0m ThreadId(01) [1mrun_file_interpreted_with_args[0m[1m{[0m[3mpath[0m[2m=[0m/tmp/feature_gen_first_half.spl[1m}[0m[2m:[0m[1mevaluate_module[0m[2m:[0m[1mevaluate_expr[0m[1m{[0m[3mexpr[0m[2m=[0mCall { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("E2E Feature Documentation Generation")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("before_all"), args: [Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("clear_feature_registry"), args: [] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("Phase 1: Single Feature Generation")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("registers feature metadata from BDD test")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("feature_metadata"), args: [Argument { name: None, value: Integer(999) }, Argument { name: None, value: FString([Literal("E2E Test Feature")]) }, Argument { name: None, value: FString([Literal("E2ETest")]) }, Argument { name: None, value: Integer(1) }, Argument { name: None, value: FString([Literal("✅ Complete")]) }, Argument { name: None, value: FString([Literal("R")]) }, Argument { name: None, value: FString([Literal("doc/spec/test.md")]) }, Argument { name: None, value: Array([FString([Literal("src/e2e_test.rs")])]) }, Argument { name: None, value: Array([FString([Literal("tests/e2e_test.rs")])]) }, Argument { name: None, value: FString([Literal("End-to-end test feature for validation")]) }, Argument { name: None, value: Array([]) }, Argument { name: None, value: Array([]) }, Argument { name: None, value: Array([]) }, Argument { name: None, value: FString([Literal("This is a test feature")]) }] }), Let(LetStmt { span: Span { start: 1522, end: 1554, line: 39, column: 13 }, pattern: Identifier("retrieved"), ty: None, value: Some(Call { callee: Identifier("get_feature"), args: [Argument { name: None, value: Integer(999) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("retrieved"), method: "is_some", args: [] } }] }, method: "to", args: [Argument { name: None, value: Identifier("be_true") }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: FieldAccess { receiver: MethodCall { receiver: Identifier("retrieved"), method: "unwrap", args: [] }, field: "name" } }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("eq"), args: [Argument { name: None, value: FString([Literal("E2E Test Feature")]) }] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("generates markdown from registered feature")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 1813, end: 1845, line: 45, column: 13 }, pattern: Identifier("retrieved"), ty: None, value: Some(Call { callee: Identifier("get_feature"), args: [Argument { name: None, value: Integer(999) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("retrieved"), method: "is_some", args: [] } }] }, method: "to", args: [Argument { name: None, value: Identifier("be_true") }] }), Let(LetStmt { span: Span { start: 1941, end: 1993, line: 49, column: 13 }, pattern: Identifier("markdown"), ty: None, value: Some(Call { callee: Identifier("generate_markdown"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("retrieved"), method: "unwrap", args: [] } }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("markdown") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("# Feature #999: E2E Test Feature")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("markdown") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("| **Feature ID** | #999 |")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("markdown") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("| **Category** | E2ETest |")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("markdown") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("## Description")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("markdown") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("End-to-end test feature")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("markdown") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("## Implementation")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("markdown") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("## Testing")]) }] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("includes all metadata fields in generated markdown")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 2552, end: 2584, line: 61, column: 13 }, pattern: Identifier("retrieved"), ty: None, value: Some(Call { callee: Identifier("get_feature"), args: [Argument { name: None, value: Integer(999) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2597, end: 2649, line: 62, column: 13 }, pattern: Identifier("markdown"), ty: None, value: Some(Call { callee: Identifier("generate_markdown"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("retrieved"), method: "unwrap", args: [] } }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("markdown") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("## Overview")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("markdown") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("## Description")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("markdown") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("## Specification")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("markdown") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("## Implementation")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("markdown") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("## Testing")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("markdown") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("## Examples")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("markdown") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("## Dependencies")]) }] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("includes auto-generation warning")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 3141, end: 3173, line: 74, column: 13 }, pattern: Identifier("retrieved"), ty: None, value: Some(Call { callee: Identifier("get_feature"), args: [Argument { name: None, value: Integer(999) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 3186, end: 3238, line: 75, column: 13 }, pattern: Identifier("markdown"), ty: None, value: Some(Call { callee: Identifier("generate_markdown"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("retrieved"), method: "unwrap", args: [] } }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("markdown") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("This file is auto-generated from BDD system tests")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("markdown") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("Manual edits may be overwritten")]) }] } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("Phase 2: Multiple Features")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("handles multiple features in same category")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("feature_metadata"), args: [Argument { name: None, value: Integer(998) }, Argument { name: None, value: FString([Literal("E2E Second Feature")]) }, Argument { name: None, value: FString([Literal("E2ETest")]) }, Argument { name: None, value: Integer(2) }, Argument { name: None, value: FString([Literal("🔄 In Progress")]) }, Argument { name: None, value: FString([Literal("S")]) }, Argument { name: None, value: FString([Literal("doc/spec/test2.md")]) }, Argument { name: None, value: Array([FString([Literal("simple/std_lib/src/e2e_test.spl")])]) }, Argument { name: None, value: Array([]) }, Argument { name: None, value: FString([Literal("Second test feature")]) }, Argument { name: None, value: Array([]) }, Argument { name: None, value: Array([Integer(999)]) }, Argument { name: None, value: Array([]) }, Argument { name: None, value: FString([]) }] }), Let(LetStmt { span: Span { start: 4125, end: 4175, line: 102, column: 13 }, pattern: Identifier("features"), ty: None, value: Some(Call { callee: Identifier("get_features_by_category"), args: [Argument { name: None, value: FString([Literal("E2ETest")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("features"), method: "len", args: [] } }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("eq"), args: [Argument { name: None, value: Integer(2) }] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("generates category index with multiple features")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 4293, end: 4339, line: 106, column: 13 }, pattern: Identifier("index"), ty: None, value: Some(Call { callee: Identifier("generate_category_index"), args: [Argument { name: None, value: FString([Literal("E2ETest")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("index") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("# E2ETest Features")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("index") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("## Summary")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("index") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("**Total Features:** 2")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("index") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("**Completed:** 1")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("index") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("**In Progress:** 1")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("index") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("| ID | Name | Difficulty | Status |")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("index") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("#999")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("index") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("#998")]) }] } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("Phase 3: Cross-Category")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("handles features across multiple categories")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("feature_metadata"), args: [Argument { name: None, value: Integer(997) }, Argument { name: None, value: FString([Literal("Cross Category Test")]) }, Argument { name: None, value: FString([Literal("AnotherCategory")]) }, Argument { name: None, value: Integer(3) }, Argument { name: None, value: FString([Literal("📋 Planned")]) }, Argument { name: None, value: FString([Literal("S+R")]) }, Argument { name: None, value: FString([]) }, Argument { name: None, value: Array([]) }, Argument { name: None, value: Array([]) }, Argument { name: None, value: FString([Literal("Feature in another category")]) }, Argument { name: None, value: Array([]) }, Argument { name: None, value: Array([]) }, Argument { name: None, value: Array([]) }, Argument { name: None, value: FString([]) }] }), Let(LetStmt { span: Span { start: 5532, end: 5569, line: 142, column: 13 }, pattern: Identifier("categories"), ty: None, value: Some(Call { callee: Identifier("get_all_categories"), args: [] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("categories") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("E2ETest")]) }] } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("categories") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("AnotherCategory")]) }] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("generates master index with all categories")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 5750, end: 5786, line: 147, column: 13 }, pattern: Identifier("master"), ty: None, value: Some(Call { callee: Identifier("generate_master_index"), args: [] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("master") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("include"), args: [Argument { name: None, value: FString([Literal("# Simple Language Feature Documentation")]) }] } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }[1m}[0m[2m:[0m [2msimple::cli::init[0m[2m:[0m [2m83:[0m PANIC failed printing to stdout: Broken pipe (os error 32) [3mlocation[0m[2m=[0mlibrary/std/src/io/stdio.rs:1165:9 [3mbacktrace[0m[2m=[0m   0: simple::cli::init::init_panic_hook::{closure#0}
             at ./src/driver/src/cli/init.rs:67:25
   1: <alloc::boxed::Box<dyn for<'a, 'b> core::ops::function::Fn<(&'a std::panic::PanicHookInfo<'b>,), Output = ()> + core::marker::Sync + core::marker::Send> as core::ops::function::Fn<(&std::panic::PanicHookInfo,)>>::call
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/alloc/src/boxed.rs:2220:9
   2: std::panicking::panic_with_hook
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:833:13
   3: std::panicking::panic_handler::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:698:13
   4: std::sys::backtrace::__rust_end_short_backtrace::<std::panicking::panic_handler::{closure#0}, !>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:176:18
   5: __rustc::rust_begin_unwind
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:689:5
   6: core::panicking::panic_fmt
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/panicking.rs:80:14
   7: std::io::stdio::print_to::<std::io::stdio::Stdout>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1165:9
   8: std::io::stdio::_print
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1275:5
   9: simple_compiler::interpreter::interpreter_call::bdd::eval_bdd_builtin
             at ./src/compiler/src/interpreter_call/bdd.rs:195:17
  10: simple_compiler::interpreter::interpreter_call::evaluate_call
             at ./src/compiler/src/interpreter_call/mod.rs:45:31
  11: simple_compiler::interpreter::evaluate_expr
             at ./src/compiler/src/interpreter_expr.rs:772:13
  12: simple_compiler::interpreter::interpreter_helpers::handle_method_call_with_self_update
             at ./src/compiler/src/interpreter_helpers.rs:633:18
  13: simple_compiler::interpreter::interpreter_eval::evaluate_module_impl
             at ./src/compiler/src/interpreter_eval.rs:548:35
  14: simple_compiler::interpreter::evaluate_module_with_di_and_aop
             at ./src/compiler/src/interpreter.rs:362:18
  15: simple_compiler::interpreter::evaluate_module
             at ./src/compiler/src/interpreter.rs:345:5
  16: <simple_driver::exec_core::ExecCore>::run_file_interpreted_with_args
             at ./src/driver/src/exec_core.rs:380:25
  17: <simple_driver::runner::Runner>::run_file_interpreted_with_args
             at ./src/driver/src/runner.rs:76:19
  18: simple::cli::basic::run_file_with_args
             at ./src/driver/src/cli/basic.rs:29:16
  19: simple::main
             at ./src/driver/src/main.rs:773:33
  20: <fn() as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:250:5
  21: std::sys::backtrace::__rust_begin_short_backtrace::<fn(), ()>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:160:18
  22: std::rt::lang_start::<()>::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:206:18
  23: <&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:287:21
  24: std::panicking::catch_unwind::do_call::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  25: std::panicking::catch_unwind::<i32, &dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  26: std::panic::catch_unwind::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  27: std::rt::lang_start_internal::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:175:24
  28: std::panicking::catch_unwind::do_call::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  29: std::panicking::catch_unwind::<isize, std::rt::lang_start_internal::{closure#0}>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  30: std::panic::catch_unwind::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  31: std::rt::lang_start_internal
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:171:5
  32: main
  33: __libc_start_call_main
             at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  34: __libc_start_main_impl
             at ./csu/../csu/libc-start.c:360:3
  35: _start

[2m2026-01-02T03:57:00.685517Z[0m [31mERROR[0m ThreadId(01) [1mrun_file_interpreted_with_args[0m[1m{[0m[3mpath[0m[2m=[0m/tmp/test_chaining_single.spl[1m}[0m[2m:[0m[1mevaluate_module[0m[2m:[0m[1mevaluate_expr[0m[1m{[0m[3mexpr[0m[2m=[0mCall { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("test")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("test single-line chaining")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 73, end: 166, line: 5, column: 9 }, pattern: Identifier("parser"), ty: None, value: Some(MethodCall { receiver: Call { callee: Path(["cli", "ArgParser", "new"]), args: [Argument { name: None, value: FString([Literal("test")]) }, Argument { name: None, value: FString([Literal("Test")]) }] }, method: "flag", args: [Argument { name: None, value: FString([Literal("verbose")]) }, Argument { name: None, value: FString([Literal("v")]) }, Argument { name: None, value: FString([Literal("Enable verbose output")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("parser") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("be"), args: [Argument { name: None, value: Bool(true) }] } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }[1m}[0m[2m:[0m[1mevaluate_expr[0m[1m{[0m[3mexpr[0m[2m=[0mCall { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("test single-line chaining")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 73, end: 166, line: 5, column: 9 }, pattern: Identifier("parser"), ty: None, value: Some(MethodCall { receiver: Call { callee: Path(["cli", "ArgParser", "new"]), args: [Argument { name: None, value: FString([Literal("test")]) }, Argument { name: None, value: FString([Literal("Test")]) }] }, method: "flag", args: [Argument { name: None, value: FString([Literal("verbose")]) }, Argument { name: None, value: FString([Literal("v")]) }, Argument { name: None, value: FString([Literal("Enable verbose output")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("parser") }] }, method: "to", args: [Argument { name: None, value: Call { callee: Identifier("be"), args: [Argument { name: None, value: Bool(true) }] } }] })]), move_mode: Copy } }] }[1m}[0m[2m:[0m [2msimple::cli::init[0m[2m:[0m [2m83:[0m PANIC failed printing to stdout: Broken pipe (os error 32) [3mlocation[0m[2m=[0mlibrary/std/src/io/stdio.rs:1165:9 [3mbacktrace[0m[2m=[0m   0: simple::cli::init::init_panic_hook::{closure#0}
             at ./src/driver/src/cli/init.rs:67:25
   1: <alloc::boxed::Box<dyn for<'a, 'b> core::ops::function::Fn<(&'a std::panic::PanicHookInfo<'b>,), Output = ()> + core::marker::Sync + core::marker::Send> as core::ops::function::Fn<(&std::panic::PanicHookInfo,)>>::call
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/alloc/src/boxed.rs:2220:9
   2: std::panicking::panic_with_hook
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:833:13
   3: std::panicking::panic_handler::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:698:13
   4: std::sys::backtrace::__rust_end_short_backtrace::<std::panicking::panic_handler::{closure#0}, !>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:176:18
   5: __rustc::rust_begin_unwind
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:689:5
   6: core::panicking::panic_fmt
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/panicking.rs:80:14
   7: std::io::stdio::print_to::<std::io::stdio::Stdout>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1165:9
   8: std::io::stdio::_print
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1275:5
   9: simple_compiler::interpreter::interpreter_call::bdd::eval_bdd_builtin
             at ./src/compiler/src/interpreter_call/bdd.rs:256:17
  10: simple_compiler::interpreter::interpreter_call::evaluate_call
             at ./src/compiler/src/interpreter_call/mod.rs:45:31
  11: simple_compiler::interpreter::evaluate_expr
             at ./src/compiler/src/interpreter_expr.rs:772:13
  12: simple_compiler::interpreter::interpreter_call::block_execution::exec_block_closure
             at ./src/compiler/src/interpreter_call/block_execution.rs:64:30
  13: simple_compiler::interpreter::interpreter_call::core::exec_lambda
             at ./src/compiler/src/interpreter_call/core.rs:229:16
  14: simple_compiler::interpreter::interpreter_call::bdd::exec_block_value
             at ./src/compiler/src/interpreter_call/bdd.rs:119:13
  15: simple_compiler::interpreter::interpreter_call::bdd::eval_bdd_builtin
             at ./src/compiler/src/interpreter_call/bdd.rs:184:26
  16: simple_compiler::interpreter::interpreter_call::evaluate_call
             at ./src/compiler/src/interpreter_call/mod.rs:45:31
  17: simple_compiler::interpreter::evaluate_expr
             at ./src/compiler/src/interpreter_expr.rs:772:13
  18: simple_compiler::interpreter::interpreter_helpers::handle_method_call_with_self_update
             at ./src/compiler/src/interpreter_helpers.rs:633:18
  19: simple_compiler::interpreter::interpreter_eval::evaluate_module_impl
             at ./src/compiler/src/interpreter_eval.rs:548:35
  20: simple_compiler::interpreter::evaluate_module_with_di_and_aop
             at ./src/compiler/src/interpreter.rs:362:18
  21: simple_compiler::interpreter::evaluate_module
             at ./src/compiler/src/interpreter.rs:345:5
  22: <simple_driver::exec_core::ExecCore>::run_file_interpreted_with_args
             at ./src/driver/src/exec_core.rs:380:25
  23: <simple_driver::runner::Runner>::run_file_interpreted_with_args
             at ./src/driver/src/runner.rs:76:19
  24: simple::cli::basic::run_file_with_args
             at ./src/driver/src/cli/basic.rs:29:16
  25: simple::main
             at ./src/driver/src/main.rs:773:33
  26: <fn() as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:250:5
  27: std::sys::backtrace::__rust_begin_short_backtrace::<fn(), ()>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:160:18
  28: std::rt::lang_start::<()>::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:206:18
  29: <&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:287:21
  30: std::panicking::catch_unwind::do_call::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  31: std::panicking::catch_unwind::<i32, &dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  32: std::panic::catch_unwind::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  33: std::rt::lang_start_internal::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:175:24
  34: std::panicking::catch_unwind::do_call::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  35: std::panicking::catch_unwind::<isize, std::rt::lang_start_internal::{closure#0}>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  36: std::panic::catch_unwind::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  37: std::rt::lang_start_internal
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:171:5
  38: main
  39: __libc_start_call_main
             at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  40: __libc_start_main_impl
             at ./csu/../csu/libc-start.c:360:3
  41: _start

[2m2026-01-02T04:00:26.486484Z[0m [31mERROR[0m ThreadId(01) [1mrun_file_interpreted_with_args[0m[1m{[0m[3mpath[0m[2m=[0m/tmp/comparison_first25.spl[1m}[0m[2m:[0m[1mevaluate_module[0m[2m:[0m[1mevaluate_expr[0m[1m{[0m[3mexpr[0m[2m=[0mCall { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("Snapshot Comparison")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("Basic Comparison")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("matches identical snapshots")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 272, end: 302, line: 10, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 315, end: 343, line: 11, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 357, end: 505, line: 13, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(Call { callee: Identifier("compare_snapshots"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_match")]) }, Argument { name: None, value: FString([Literal("text")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_match", args: [] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("detects mismatches")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 590, end: 620, line: 23, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 633, end: 664, line: 24, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("Hello, Universe!")])), mutability: Immutable, storage_class: Auto, is_ghost: false })]), move_mode: Copy } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }[1m}[0m[2m:[0m[1mevaluate_expr[0m[1m{[0m[3mexpr[0m[2m=[0mCall { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("Basic Comparison")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("matches identical snapshots")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 272, end: 302, line: 10, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 315, end: 343, line: 11, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 357, end: 505, line: 13, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(Call { callee: Identifier("compare_snapshots"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_match")]) }, Argument { name: None, value: FString([Literal("text")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_match", args: [] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("detects mismatches")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 590, end: 620, line: 23, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 633, end: 664, line: 24, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("Hello, Universe!")])), mutability: Immutable, storage_class: Auto, is_ghost: false })]), move_mode: Copy } }] })]), move_mode: Copy } }] }[1m}[0m[2m:[0m [2msimple::cli::init[0m[2m:[0m [2m83:[0m PANIC failed printing to stdout: Broken pipe (os error 32) [3mlocation[0m[2m=[0mlibrary/std/src/io/stdio.rs:1165:9 [3mbacktrace[0m[2m=[0m   0: simple::cli::init::init_panic_hook::{closure#0}
             at ./src/driver/src/cli/init.rs:67:25
   1: <alloc::boxed::Box<dyn for<'a, 'b> core::ops::function::Fn<(&'a std::panic::PanicHookInfo<'b>,), Output = ()> + core::marker::Sync + core::marker::Send> as core::ops::function::Fn<(&std::panic::PanicHookInfo,)>>::call
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/alloc/src/boxed.rs:2220:9
   2: std::panicking::panic_with_hook
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:833:13
   3: std::panicking::panic_handler::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:698:13
   4: std::sys::backtrace::__rust_end_short_backtrace::<std::panicking::panic_handler::{closure#0}, !>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:176:18
   5: __rustc::rust_begin_unwind
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:689:5
   6: core::panicking::panic_fmt
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/panicking.rs:80:14
   7: std::io::stdio::print_to::<std::io::stdio::Stdout>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1165:9
   8: std::io::stdio::_print
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1275:5
   9: simple_compiler::interpreter::interpreter_call::bdd::eval_bdd_builtin
             at ./src/compiler/src/interpreter_call/bdd.rs:174:13
  10: simple_compiler::interpreter::interpreter_call::evaluate_call
             at ./src/compiler/src/interpreter_call/mod.rs:45:31
  11: simple_compiler::interpreter::evaluate_expr
             at ./src/compiler/src/interpreter_expr.rs:772:13
  12: simple_compiler::interpreter::interpreter_call::block_execution::exec_block_closure
             at ./src/compiler/src/interpreter_call/block_execution.rs:64:30
  13: simple_compiler::interpreter::interpreter_call::core::exec_lambda
             at ./src/compiler/src/interpreter_call/core.rs:229:16
  14: simple_compiler::interpreter::interpreter_call::bdd::exec_block_value
             at ./src/compiler/src/interpreter_call/bdd.rs:119:13
  15: simple_compiler::interpreter::interpreter_call::bdd::eval_bdd_builtin
             at ./src/compiler/src/interpreter_call/bdd.rs:184:26
  16: simple_compiler::interpreter::interpreter_call::evaluate_call
             at ./src/compiler/src/interpreter_call/mod.rs:45:31
  17: simple_compiler::interpreter::evaluate_expr
             at ./src/compiler/src/interpreter_expr.rs:772:13
  18: simple_compiler::interpreter::interpreter_helpers::handle_method_call_with_self_update
             at ./src/compiler/src/interpreter_helpers.rs:633:18
  19: simple_compiler::interpreter::interpreter_eval::evaluate_module_impl
             at ./src/compiler/src/interpreter_eval.rs:548:35
  20: simple_compiler::interpreter::evaluate_module_with_di_and_aop
             at ./src/compiler/src/interpreter.rs:362:18
  21: simple_compiler::interpreter::evaluate_module
             at ./src/compiler/src/interpreter.rs:345:5
  22: <simple_driver::exec_core::ExecCore>::run_file_interpreted_with_args
             at ./src/driver/src/exec_core.rs:380:25
  23: <simple_driver::runner::Runner>::run_file_interpreted_with_args
             at ./src/driver/src/runner.rs:76:19
  24: simple::cli::basic::run_file_with_args
             at ./src/driver/src/cli/basic.rs:29:16
  25: simple::main
             at ./src/driver/src/main.rs:773:33
  26: <fn() as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:250:5
  27: std::sys::backtrace::__rust_begin_short_backtrace::<fn(), ()>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:160:18
  28: std::rt::lang_start::<()>::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:206:18
  29: <&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:287:21
  30: std::panicking::catch_unwind::do_call::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  31: std::panicking::catch_unwind::<i32, &dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  32: std::panic::catch_unwind::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  33: std::rt::lang_start_internal::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:175:24
  34: std::panicking::catch_unwind::do_call::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  35: std::panicking::catch_unwind::<isize, std::rt::lang_start_internal::{closure#0}>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  36: std::panic::catch_unwind::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  37: std::rt::lang_start_internal
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:171:5
  38: main
  39: __libc_start_call_main
             at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  40: __libc_start_main_impl
             at ./csu/../csu/libc-start.c:360:3
  41: _start

[2m2026-01-02T04:01:21.307647Z[0m [31mERROR[0m ThreadId(01) [1mrun_file_interpreted_with_args[0m[1m{[0m[3mpath[0m[2m=[0m/tmp/comparison_100.spl[1m}[0m[2m:[0m[1mevaluate_module[0m[2m:[0m[1mevaluate_expr[0m[1m{[0m[3mexpr[0m[2m=[0mCall { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("Snapshot Comparison")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("Basic Comparison")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("matches identical snapshots")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 272, end: 302, line: 10, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 315, end: 343, line: 11, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 357, end: 505, line: 13, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(Call { callee: Identifier("compare_snapshots"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_match")]) }, Argument { name: None, value: FString([Literal("text")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_match", args: [] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("detects mismatches")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 590, end: 620, line: 23, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 633, end: 664, line: 24, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("Hello, Universe!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 678, end: 829, line: 26, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(Call { callee: Identifier("compare_snapshots"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_mismatch")]) }, Argument { name: None, value: FString([Literal("text")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_mismatch", args: [] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("normalizes whitespace before comparison")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 938, end: 970, line: 36, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("Hello, World!  ")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 983, end: 1011, line: 37, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 1025, end: 1178, line: 39, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(Call { callee: Identifier("compare_snapshots"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_whitespace")]) }, Argument { name: None, value: FString([Literal("text")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_match", args: [] } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("Multi-line Comparison")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("compares multi-line content")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 1356, end: 1392, line: 51, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("line1\nline2\nline3")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 1405, end: 1439, line: 52, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("line1\nline2\nline3")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 1453, end: 1605, line: 54, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(Call { callee: Identifier("compare_snapshots"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_multiline")]) }, Argument { name: None, value: FString([Literal("text")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_match", args: [] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("detects line differences")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 1696, end: 1732, line: 64, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("line1\nline2\nline3")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 1745, end: 1782, line: 65, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("line1\nmodified\nline3")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 1796, end: 1948, line: 67, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(Call { callee: Identifier("compare_snapshots"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_line_diff")]) }, Argument { name: None, value: FString([Literal("text")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_mismatch", args: [] } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("Unified Diff Generation")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("generates diff for simple change")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 2089, end: 2119, line: 78, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2132, end: 2163, line: 79, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("Hello, Universe!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2177, end: 2309, line: 81, column: 13 }, pattern: Identifier("diff"), ty: None, value: Some(Call { callee: Identifier("generate_unified_diff"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_simple_diff")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("Snapshot mismatch")]), right: Identifier("diff") } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("--- Expected")]), right: Identifier("diff") } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("+++ Actual")]), right: Identifier("diff") } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("shows added lines with + prefix")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 2499, end: 2528, line: 92, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("line1\nline2")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2541, end: 2575, line: 93, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("line1\nline2\nline3")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2589, end: 2715, line: 95, column: 13 }, pattern: Identifier("diff"), ty: None, value: Some(Call { callee: Identifier("generate_unified_diff"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_added")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false })]), move_mode: Copy } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }[1m}[0m[2m:[0m[1mevaluate_expr[0m[1m{[0m[3mexpr[0m[2m=[0mCall { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("Basic Comparison")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("matches identical snapshots")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 272, end: 302, line: 10, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 315, end: 343, line: 11, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 357, end: 505, line: 13, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(Call { callee: Identifier("compare_snapshots"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_match")]) }, Argument { name: None, value: FString([Literal("text")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_match", args: [] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("detects mismatches")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 590, end: 620, line: 23, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 633, end: 664, line: 24, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("Hello, Universe!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 678, end: 829, line: 26, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(Call { callee: Identifier("compare_snapshots"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_mismatch")]) }, Argument { name: None, value: FString([Literal("text")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_mismatch", args: [] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("normalizes whitespace before comparison")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 938, end: 970, line: 36, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("Hello, World!  ")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 983, end: 1011, line: 37, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 1025, end: 1178, line: 39, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(Call { callee: Identifier("compare_snapshots"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_whitespace")]) }, Argument { name: None, value: FString([Literal("text")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_match", args: [] } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }[1m}[0m[2m:[0m [2msimple::cli::init[0m[2m:[0m [2m83:[0m PANIC failed printing to stdout: Broken pipe (os error 32) [3mlocation[0m[2m=[0mlibrary/std/src/io/stdio.rs:1165:9 [3mbacktrace[0m[2m=[0m   0: simple::cli::init::init_panic_hook::{closure#0}
             at ./src/driver/src/cli/init.rs:67:25
   1: <alloc::boxed::Box<dyn for<'a, 'b> core::ops::function::Fn<(&'a std::panic::PanicHookInfo<'b>,), Output = ()> + core::marker::Sync + core::marker::Send> as core::ops::function::Fn<(&std::panic::PanicHookInfo,)>>::call
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/alloc/src/boxed.rs:2220:9
   2: std::panicking::panic_with_hook
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:833:13
   3: std::panicking::panic_handler::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:698:13
   4: std::sys::backtrace::__rust_end_short_backtrace::<std::panicking::panic_handler::{closure#0}, !>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:176:18
   5: __rustc::rust_begin_unwind
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:689:5
   6: core::panicking::panic_fmt
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/panicking.rs:80:14
   7: std::io::stdio::print_to::<std::io::stdio::Stdout>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1165:9
   8: std::io::stdio::_print
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1275:5
   9: simple_compiler::interpreter::interpreter_call::bdd::eval_bdd_builtin
             at ./src/compiler/src/interpreter_call/bdd.rs:174:13
  10: simple_compiler::interpreter::interpreter_call::evaluate_call
             at ./src/compiler/src/interpreter_call/mod.rs:45:31
  11: simple_compiler::interpreter::evaluate_expr
             at ./src/compiler/src/interpreter_expr.rs:772:13
  12: simple_compiler::interpreter::interpreter_call::block_execution::exec_block_closure
             at ./src/compiler/src/interpreter_call/block_execution.rs:64:30
  13: simple_compiler::interpreter::interpreter_call::core::exec_lambda
             at ./src/compiler/src/interpreter_call/core.rs:229:16
  14: simple_compiler::interpreter::interpreter_call::bdd::exec_block_value
             at ./src/compiler/src/interpreter_call/bdd.rs:119:13
  15: simple_compiler::interpreter::interpreter_call::bdd::eval_bdd_builtin
             at ./src/compiler/src/interpreter_call/bdd.rs:184:26
  16: simple_compiler::interpreter::interpreter_call::evaluate_call
             at ./src/compiler/src/interpreter_call/mod.rs:45:31
  17: simple_compiler::interpreter::evaluate_expr
             at ./src/compiler/src/interpreter_expr.rs:772:13
  18: simple_compiler::interpreter::interpreter_helpers::handle_method_call_with_self_update
             at ./src/compiler/src/interpreter_helpers.rs:633:18
  19: simple_compiler::interpreter::interpreter_eval::evaluate_module_impl
             at ./src/compiler/src/interpreter_eval.rs:548:35
  20: simple_compiler::interpreter::evaluate_module_with_di_and_aop
             at ./src/compiler/src/interpreter.rs:362:18
  21: simple_compiler::interpreter::evaluate_module
             at ./src/compiler/src/interpreter.rs:345:5
  22: <simple_driver::exec_core::ExecCore>::run_file_interpreted_with_args
             at ./src/driver/src/exec_core.rs:380:25
  23: <simple_driver::runner::Runner>::run_file_interpreted_with_args
             at ./src/driver/src/runner.rs:76:19
  24: simple::cli::basic::run_file_with_args
             at ./src/driver/src/cli/basic.rs:29:16
  25: simple::main
             at ./src/driver/src/main.rs:773:33
  26: <fn() as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:250:5
  27: std::sys::backtrace::__rust_begin_short_backtrace::<fn(), ()>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:160:18
  28: std::rt::lang_start::<()>::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:206:18
  29: <&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:287:21
  30: std::panicking::catch_unwind::do_call::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  31: std::panicking::catch_unwind::<i32, &dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  32: std::panic::catch_unwind::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  33: std::rt::lang_start_internal::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:175:24
  34: std::panicking::catch_unwind::do_call::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  35: std::panicking::catch_unwind::<isize, std::rt::lang_start_internal::{closure#0}>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  36: std::panic::catch_unwind::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  37: std::rt::lang_start_internal
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:171:5
  38: main
  39: __libc_start_call_main
             at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  40: __libc_start_main_impl
             at ./csu/../csu/libc-start.c:360:3
  41: _start

[2m2026-01-02T04:21:07.897331Z[0m [31mERROR[0m ThreadId(01) [1mrun_file_interpreted_with_args[0m[1m{[0m[3mpath[0m[2m=[0m/tmp/comparison_175.spl[1m}[0m[2m:[0m[1mevaluate_module[0m[2m:[0m[1mevaluate_expr[0m[1m{[0m[3mexpr[0m[2m=[0mCall { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("Snapshot Comparison")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("Basic Comparison")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("matches identical snapshots")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 272, end: 302, line: 10, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 315, end: 343, line: 11, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 357, end: 505, line: 13, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(Call { callee: Identifier("compare_snapshots"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_match")]) }, Argument { name: None, value: FString([Literal("text")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_match", args: [] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("detects mismatches")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 590, end: 620, line: 23, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 633, end: 664, line: 24, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("Hello, Universe!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 678, end: 829, line: 26, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(Call { callee: Identifier("compare_snapshots"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_mismatch")]) }, Argument { name: None, value: FString([Literal("text")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_mismatch", args: [] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("normalizes whitespace before comparison")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 938, end: 970, line: 36, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("Hello, World!  ")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 983, end: 1011, line: 37, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 1025, end: 1178, line: 39, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(Call { callee: Identifier("compare_snapshots"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_whitespace")]) }, Argument { name: None, value: FString([Literal("text")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_match", args: [] } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("Multi-line Comparison")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("compares multi-line content")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 1356, end: 1392, line: 51, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("line1\nline2\nline3")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 1405, end: 1439, line: 52, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("line1\nline2\nline3")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 1453, end: 1605, line: 54, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(Call { callee: Identifier("compare_snapshots"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_multiline")]) }, Argument { name: None, value: FString([Literal("text")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_match", args: [] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("detects line differences")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 1696, end: 1732, line: 64, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("line1\nline2\nline3")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 1745, end: 1782, line: 65, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("line1\nmodified\nline3")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 1796, end: 1948, line: 67, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(Call { callee: Identifier("compare_snapshots"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_line_diff")]) }, Argument { name: None, value: FString([Literal("text")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_mismatch", args: [] } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("Unified Diff Generation")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("generates diff for simple change")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 2089, end: 2119, line: 78, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2132, end: 2163, line: 79, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("Hello, Universe!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2177, end: 2309, line: 81, column: 13 }, pattern: Identifier("diff"), ty: None, value: Some(Call { callee: Identifier("generate_unified_diff"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_simple_diff")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("Snapshot mismatch")]), right: Identifier("diff") } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("--- Expected")]), right: Identifier("diff") } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("+++ Actual")]), right: Identifier("diff") } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("shows added lines with + prefix")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 2499, end: 2528, line: 92, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("line1\nline2")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2541, end: 2575, line: 93, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("line1\nline2\nline3")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2589, end: 2715, line: 95, column: 13 }, pattern: Identifier("diff"), ty: None, value: Some(Call { callee: Identifier("generate_unified_diff"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_added")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("+line3")]), right: Identifier("diff") } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("shows removed lines with - prefix")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 2814, end: 2850, line: 104, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("line1\nline2\nline3")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2863, end: 2890, line: 105, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("line1\nline3")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 2904, end: 3032, line: 107, column: 13 }, pattern: Identifier("diff"), ty: None, value: Some(Call { callee: Identifier("generate_unified_diff"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_removed")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("-line2")]), right: Identifier("diff") } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("shows changed lines")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 3117, end: 3156, line: 116, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("line1\nold line\nline3")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 3169, end: 3206, line: 117, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("line1\nnew line\nline3")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 3220, end: 3348, line: 119, column: 13 }, pattern: Identifier("diff"), ty: None, value: Some(Call { callee: Identifier("generate_unified_diff"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_changed")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("-old line")]), right: Identifier("diff") } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("+new line")]), right: Identifier("diff") } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("includes line numbers in hunks")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 3486, end: 3529, line: 129, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("line1\nline2\nline3\nline4")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 3542, end: 3586, line: 130, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("line1\nmodified\nline3\nline4")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 3600, end: 3733, line: 132, column: 13 }, pattern: Identifier("diff"), ty: None, value: Some(Call { callee: Identifier("generate_unified_diff"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_line_numbers")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("@@")]), right: Identifier("diff") } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("Comparison Result Formatting")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("formats match result")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 3874, end: 3909, line: 142, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(FieldAccess { receiver: Identifier("ComparisonResult"), field: "Match" }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 3922, end: 3970, line: 143, column: 13 }, pattern: Identifier("formatted"), ty: None, value: Some(Call { callee: Identifier("format_comparison_result"), args: [Argument { name: None, value: Identifier("result") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("✓")]), right: Identifier("formatted") } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("matches")]), right: Identifier("formatted") } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("formats mismatch result with diff")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 4113, end: 4133, line: 149, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("old")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 4146, end: 4164, line: 150, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("new")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 4178, end: 4327, line: 152, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(Call { callee: Identifier("compare_snapshots"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_format")]) }, Argument { name: None, value: FString([Literal("text")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 4341, end: 4389, line: 159, column: 13 }, pattern: Identifier("formatted"), ty: None, value: Some(Call { callee: Identifier("format_comparison_result"), args: [Argument { name: None, value: Identifier("result") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("Snapshot mismatch")]), right: Identifier("formatted") } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("Summary")]), right: Identifier("formatted") } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("--snapshot-update")]), right: Identifier("formatted") } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("includes update command in mismatch")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 4600, end: 4749, line: 166, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(Call { callee: Identifier("compare_snapshots"), args: [Argument { name: None, value: FString([Literal("old")]) }, Argument { name: None, value: FString([Literal("new")]) }, Argument { name: None, value: FString([Literal("test_update_cmd")]) }, Argument { name: None, value: FString([Literal("text")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 4763, end: 4811, line: 173, column: 13 }, pattern: Identifier("formatted"), ty: None, value: Some(Call { callee: Identifier("format_comparison_result"), args: [Argument { name: None, value: Identifier("result") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("simple test --snapshot-update=test_update_cmd")]), right: Identifier("formatted") } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }[1m}[0m[2m:[0m[1mevaluate_expr[0m[1m{[0m[3mexpr[0m[2m=[0mCall { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("Basic Comparison")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("matches identical snapshots")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 272, end: 302, line: 10, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 315, end: 343, line: 11, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 357, end: 505, line: 13, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(Call { callee: Identifier("compare_snapshots"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_match")]) }, Argument { name: None, value: FString([Literal("text")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_match", args: [] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("detects mismatches")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 590, end: 620, line: 23, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 633, end: 664, line: 24, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("Hello, Universe!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 678, end: 829, line: 26, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(Call { callee: Identifier("compare_snapshots"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_mismatch")]) }, Argument { name: None, value: FString([Literal("text")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_mismatch", args: [] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("normalizes whitespace before comparison")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 938, end: 970, line: 36, column: 13 }, pattern: Identifier("expected"), ty: None, value: Some(FString([Literal("Hello, World!  ")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 983, end: 1011, line: 37, column: 13 }, pattern: Identifier("actual"), ty: None, value: Some(FString([Literal("Hello, World!")])), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 1025, end: 1178, line: 39, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(Call { callee: Identifier("compare_snapshots"), args: [Argument { name: None, value: Identifier("expected") }, Argument { name: None, value: Identifier("actual") }, Argument { name: None, value: FString([Literal("test_whitespace")]) }, Argument { name: None, value: FString([Literal("text")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_match", args: [] } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }[1m}[0m[2m:[0m [2msimple::cli::init[0m[2m:[0m [2m83:[0m PANIC failed printing to stdout: Broken pipe (os error 32) [3mlocation[0m[2m=[0mlibrary/std/src/io/stdio.rs:1165:9 [3mbacktrace[0m[2m=[0m   0: simple::cli::init::init_panic_hook::{closure#0}
             at ./src/driver/src/cli/init.rs:67:25
   1: <alloc::boxed::Box<dyn for<'a, 'b> core::ops::function::Fn<(&'a std::panic::PanicHookInfo<'b>,), Output = ()> + core::marker::Sync + core::marker::Send> as core::ops::function::Fn<(&std::panic::PanicHookInfo,)>>::call
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/alloc/src/boxed.rs:2220:9
   2: std::panicking::panic_with_hook
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:833:13
   3: std::panicking::panic_handler::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:698:13
   4: std::sys::backtrace::__rust_end_short_backtrace::<std::panicking::panic_handler::{closure#0}, !>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:176:18
   5: __rustc::rust_begin_unwind
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:689:5
   6: core::panicking::panic_fmt
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/panicking.rs:80:14
   7: std::io::stdio::print_to::<std::io::stdio::Stdout>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1165:9
   8: std::io::stdio::_print
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1275:5
   9: simple_compiler::interpreter::interpreter_call::bdd::eval_bdd_builtin
             at ./src/compiler/src/interpreter_call/bdd.rs:174:13
  10: simple_compiler::interpreter::interpreter_call::evaluate_call
             at ./src/compiler/src/interpreter_call/mod.rs:45:31
  11: simple_compiler::interpreter::evaluate_expr
             at ./src/compiler/src/interpreter_expr.rs:772:13
  12: simple_compiler::interpreter::interpreter_call::block_execution::exec_block_closure
             at ./src/compiler/src/interpreter_call/block_execution.rs:64:30
  13: simple_compiler::interpreter::interpreter_call::core::exec_lambda
             at ./src/compiler/src/interpreter_call/core.rs:229:16
  14: simple_compiler::interpreter::interpreter_call::bdd::exec_block_value
             at ./src/compiler/src/interpreter_call/bdd.rs:119:13
  15: simple_compiler::interpreter::interpreter_call::bdd::eval_bdd_builtin
             at ./src/compiler/src/interpreter_call/bdd.rs:184:26
  16: simple_compiler::interpreter::interpreter_call::evaluate_call
             at ./src/compiler/src/interpreter_call/mod.rs:45:31
  17: simple_compiler::interpreter::evaluate_expr
             at ./src/compiler/src/interpreter_expr.rs:772:13
  18: simple_compiler::interpreter::interpreter_helpers::handle_method_call_with_self_update
             at ./src/compiler/src/interpreter_helpers.rs:633:18
  19: simple_compiler::interpreter::interpreter_eval::evaluate_module_impl
             at ./src/compiler/src/interpreter_eval.rs:548:35
  20: simple_compiler::interpreter::evaluate_module_with_di_and_aop
             at ./src/compiler/src/interpreter.rs:362:18
  21: simple_compiler::interpreter::evaluate_module
             at ./src/compiler/src/interpreter.rs:345:5
  22: <simple_driver::exec_core::ExecCore>::run_file_interpreted_with_args
             at ./src/driver/src/exec_core.rs:380:25
  23: <simple_driver::runner::Runner>::run_file_interpreted_with_args
             at ./src/driver/src/runner.rs:76:19
  24: simple::cli::basic::run_file_with_args
             at ./src/driver/src/cli/basic.rs:29:16
  25: simple::main
             at ./src/driver/src/main.rs:773:33
  26: <fn() as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:250:5
  27: std::sys::backtrace::__rust_begin_short_backtrace::<fn(), ()>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:160:18
  28: std::rt::lang_start::<()>::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:206:18
  29: <&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:287:21
  30: std::panicking::catch_unwind::do_call::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  31: std::panicking::catch_unwind::<i32, &dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  32: std::panic::catch_unwind::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  33: std::rt::lang_start_internal::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:175:24
  34: std::panicking::catch_unwind::do_call::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  35: std::panicking::catch_unwind::<isize, std::rt::lang_start_internal::{closure#0}>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  36: std::panic::catch_unwind::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  37: std::rt::lang_start_internal
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:171:5
  38: main
  39: __libc_start_call_main
             at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  40: __libc_start_main_impl
             at ./csu/../csu/libc-start.c:360:3
  41: _start

[2m2026-01-02T04:27:06.886711Z[0m [31mERROR[0m ThreadId(01) [1mrun_file_interpreted_with_args[0m[1m{[0m[3mpath[0m[2m=[0m/tmp/refs_10.spl[1m}[0m[2m:[0m[1mevaluate_module[0m[2m:[0m[1mevaluate_expr[0m[1m{[0m[3mexpr[0m[2m=[0mCall { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("References Handler")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("finds all references to a variable")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 264, end: 316, line: 9, column: 9 }, pattern: Identifier("parser"), ty: None, value: Some(MethodCall { receiver: MethodCall { receiver: Identifier("TreeSitterParser"), method: "new", args: [Argument { name: None, value: FString([Literal("simple")]) }] }, method: "unwrap", args: [] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 325, end: 374, line: 10, column: 9 }, pattern: Identifier("source"), ty: None, value: Some(FString([Literal("let x = 1\nlet y = x + 2\nreturn x")])), mutability: Immutable, storage_class: Auto, is_ghost: false })]), move_mode: Copy } }] })]), move_mode: Copy } }] }[1m}[0m[2m:[0m[1mevaluate_expr[0m[1m{[0m[3mexpr[0m[2m=[0mCall { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("finds all references to a variable")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 264, end: 316, line: 9, column: 9 }, pattern: Identifier("parser"), ty: None, value: Some(MethodCall { receiver: MethodCall { receiver: Identifier("TreeSitterParser"), method: "new", args: [Argument { name: None, value: FString([Literal("simple")]) }] }, method: "unwrap", args: [] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 325, end: 374, line: 10, column: 9 }, pattern: Identifier("source"), ty: None, value: Some(FString([Literal("let x = 1\nlet y = x + 2\nreturn x")])), mutability: Immutable, storage_class: Auto, is_ghost: false })]), move_mode: Copy } }] }[1m}[0m[2m:[0m [2msimple::cli::init[0m[2m:[0m [2m83:[0m PANIC failed printing to stdout: Broken pipe (os error 32) [3mlocation[0m[2m=[0mlibrary/std/src/io/stdio.rs:1165:9 [3mbacktrace[0m[2m=[0m   0: simple::cli::init::init_panic_hook::{closure#0}
             at ./src/driver/src/cli/init.rs:67:25
   1: <alloc::boxed::Box<dyn for<'a, 'b> core::ops::function::Fn<(&'a std::panic::PanicHookInfo<'b>,), Output = ()> + core::marker::Sync + core::marker::Send> as core::ops::function::Fn<(&std::panic::PanicHookInfo,)>>::call
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/alloc/src/boxed.rs:2220:9
   2: std::panicking::panic_with_hook
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:833:13
   3: std::panicking::panic_handler::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:698:13
   4: std::sys::backtrace::__rust_end_short_backtrace::<std::panicking::panic_handler::{closure#0}, !>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:176:18
   5: __rustc::rust_begin_unwind
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:689:5
   6: core::panicking::panic_fmt
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/panicking.rs:80:14
   7: std::io::stdio::print_to::<std::io::stdio::Stdout>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1165:9
   8: std::io::stdio::_print
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1275:5
   9: simple_compiler::interpreter::interpreter_call::bdd::eval_bdd_builtin
             at ./src/compiler/src/interpreter_call/bdd.rs:256:17
  10: simple_compiler::interpreter::interpreter_call::evaluate_call
             at ./src/compiler/src/interpreter_call/mod.rs:45:31
  11: simple_compiler::interpreter::evaluate_expr
             at ./src/compiler/src/interpreter_expr.rs:772:13
  12: simple_compiler::interpreter::interpreter_call::block_execution::exec_block_closure
             at ./src/compiler/src/interpreter_call/block_execution.rs:64:30
  13: simple_compiler::interpreter::interpreter_call::core::exec_lambda
             at ./src/compiler/src/interpreter_call/core.rs:229:16
  14: simple_compiler::interpreter::interpreter_call::bdd::exec_block_value
             at ./src/compiler/src/interpreter_call/bdd.rs:119:13
  15: simple_compiler::interpreter::interpreter_call::bdd::eval_bdd_builtin
             at ./src/compiler/src/interpreter_call/bdd.rs:184:26
  16: simple_compiler::interpreter::interpreter_call::evaluate_call
             at ./src/compiler/src/interpreter_call/mod.rs:45:31
  17: simple_compiler::interpreter::evaluate_expr
             at ./src/compiler/src/interpreter_expr.rs:772:13
  18: simple_compiler::interpreter::interpreter_helpers::handle_method_call_with_self_update
             at ./src/compiler/src/interpreter_helpers.rs:633:18
  19: simple_compiler::interpreter::interpreter_eval::evaluate_module_impl
             at ./src/compiler/src/interpreter_eval.rs:548:35
  20: simple_compiler::interpreter::evaluate_module_with_di_and_aop
             at ./src/compiler/src/interpreter.rs:362:18
  21: simple_compiler::interpreter::evaluate_module
             at ./src/compiler/src/interpreter.rs:345:5
  22: <simple_driver::exec_core::ExecCore>::run_file_interpreted_with_args
             at ./src/driver/src/exec_core.rs:380:25
  23: <simple_driver::runner::Runner>::run_file_interpreted_with_args
             at ./src/driver/src/runner.rs:76:19
  24: simple::cli::basic::run_file_with_args
             at ./src/driver/src/cli/basic.rs:29:16
  25: simple::main
             at ./src/driver/src/main.rs:773:33
  26: <fn() as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:250:5
  27: std::sys::backtrace::__rust_begin_short_backtrace::<fn(), ()>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:160:18
  28: std::rt::lang_start::<()>::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:206:18
  29: <&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:287:21
  30: std::panicking::catch_unwind::do_call::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  31: std::panicking::catch_unwind::<i32, &dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  32: std::panic::catch_unwind::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  33: std::rt::lang_start_internal::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:175:24
  34: std::panicking::catch_unwind::do_call::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  35: std::panicking::catch_unwind::<isize, std::rt::lang_start_internal::{closure#0}>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  36: std::panic::catch_unwind::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  37: std::rt::lang_start_internal
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:171:5
  38: main
  39: __libc_start_call_main
             at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  40: __libc_start_main_impl
             at ./csu/../csu/libc-start.c:360:3
  41: _start

[2m2026-01-02T04:30:49.046173Z[0m [31mERROR[0m ThreadId(01) [1mrun_file_interpreted_with_args[0m[1m{[0m[3mpath[0m[2m=[0m/tmp/semtok_10.spl[1m}[0m[2m:[0m[1mevaluate_module[0m[2m:[0m[1mevaluate_expr[0m[1m{[0m[3mexpr[0m[2m=[0mCall { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("Semantic Tokens Integration")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 299, end: 328, line: 9, column: 5 }, pattern: Typed { pattern: Identifier("parser"), ty: Optional(Simple("TreeSitterParser")) }, ty: None, value: None, mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 333, end: 349, line: 10, column: 5 }, pattern: Typed { pattern: Identifier("code"), ty: Simple("String") }, ty: None, value: None, mutability: Immutable, storage_class: Auto, is_ghost: false })]), move_mode: Copy } }] }[1m}[0m[2m:[0m [2msimple::cli::init[0m[2m:[0m [2m83:[0m PANIC failed printing to stdout: Broken pipe (os error 32) [3mlocation[0m[2m=[0mlibrary/std/src/io/stdio.rs:1165:9 [3mbacktrace[0m[2m=[0m   0: simple::cli::init::init_panic_hook::{closure#0}
             at ./src/driver/src/cli/init.rs:67:25
   1: <alloc::boxed::Box<dyn for<'a, 'b> core::ops::function::Fn<(&'a std::panic::PanicHookInfo<'b>,), Output = ()> + core::marker::Sync + core::marker::Send> as core::ops::function::Fn<(&std::panic::PanicHookInfo,)>>::call
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/alloc/src/boxed.rs:2220:9
   2: std::panicking::panic_with_hook
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:833:13
   3: std::panicking::panic_handler::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:698:13
   4: std::sys::backtrace::__rust_end_short_backtrace::<std::panicking::panic_handler::{closure#0}, !>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:176:18
   5: __rustc::rust_begin_unwind
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:689:5
   6: core::panicking::panic_fmt
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/panicking.rs:80:14
   7: std::io::stdio::print_to::<std::io::stdio::Stdout>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1165:9
   8: std::io::stdio::_print
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1275:5
   9: simple_compiler::interpreter::interpreter_call::bdd::eval_bdd_builtin
             at ./src/compiler/src/interpreter_call/bdd.rs:195:17
  10: simple_compiler::interpreter::interpreter_call::evaluate_call
             at ./src/compiler/src/interpreter_call/mod.rs:45:31
  11: simple_compiler::interpreter::evaluate_expr
             at ./src/compiler/src/interpreter_expr.rs:772:13
  12: simple_compiler::interpreter::interpreter_helpers::handle_method_call_with_self_update
             at ./src/compiler/src/interpreter_helpers.rs:633:18
  13: simple_compiler::interpreter::interpreter_eval::evaluate_module_impl
             at ./src/compiler/src/interpreter_eval.rs:548:35
  14: simple_compiler::interpreter::evaluate_module_with_di_and_aop
             at ./src/compiler/src/interpreter.rs:362:18
  15: simple_compiler::interpreter::evaluate_module
             at ./src/compiler/src/interpreter.rs:345:5
  16: <simple_driver::exec_core::ExecCore>::run_file_interpreted_with_args
             at ./src/driver/src/exec_core.rs:380:25
  17: <simple_driver::runner::Runner>::run_file_interpreted_with_args
             at ./src/driver/src/runner.rs:76:19
  18: simple::cli::basic::run_file_with_args
             at ./src/driver/src/cli/basic.rs:29:16
  19: simple::main
             at ./src/driver/src/main.rs:773:33
  20: <fn() as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:250:5
  21: std::sys::backtrace::__rust_begin_short_backtrace::<fn(), ()>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:160:18
  22: std::rt::lang_start::<()>::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:206:18
  23: <&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:287:21
  24: std::panicking::catch_unwind::do_call::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  25: std::panicking::catch_unwind::<i32, &dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  26: std::panic::catch_unwind::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  27: std::rt::lang_start_internal::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:175:24
  28: std::panicking::catch_unwind::do_call::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  29: std::panicking::catch_unwind::<isize, std::rt::lang_start_internal::{closure#0}>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  30: std::panic::catch_unwind::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  31: std::rt::lang_start_internal
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:171:5
  32: main
  33: __libc_start_call_main
             at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  34: __libc_start_main_impl
             at ./csu/../csu/libc-start.c:360:3
  35: _start

[2m2026-01-02T06:00:29.897033Z[0m [31mERROR[0m ThreadId(01) [1mrun_file_interpreted_with_args[0m[1m{[0m[3mpath[0m[2m=[0msimple/std_lib/test/unit/core/regex_spec.spl[1m}[0m[2m:[0m[1mevaluate_module[0m[2m:[0m[1mevaluate_expr[0m[1m{[0m[3mexpr[0m[2m=[0mCall { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("Regex module")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("Pattern compilation")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should compile a pattern")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 206, end: 242, line: 9, column: 13 }, pattern: Identifier("pattern"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "compile", args: [Argument { name: None, value: FString([Literal("hello")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: FieldAccess { receiver: Identifier("pattern"), field: "pattern" }, right: FString([Literal("hello")]) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should compile empty pattern")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 345, end: 376, line: 13, column: 13 }, pattern: Identifier("pattern"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "compile", args: [Argument { name: None, value: FString([]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: FieldAccess { receiver: Identifier("pattern"), field: "pattern" }, right: FString([]) } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("Literal matching")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should match at start of string")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 510, end: 558, line: 18, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "match", args: [Argument { name: None, value: FString([Literal("hello")]) }, Argument { name: None, value: FString([Literal("hello world")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_some", args: [] } }] }), Let(LetStmt { span: Span { start: 608, end: 631, line: 21, column: 13 }, pattern: Identifier("m"), ty: None, value: Some(MethodCall { receiver: Identifier("result"), method: "unwrap", args: [] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: Identifier("m"), method: "matched_text", args: [] }, right: FString([Literal("hello")]) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should not match if pattern not at start")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 747, end: 795, line: 25, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "match", args: [Argument { name: None, value: FString([Literal("world")]) }, Argument { name: None, value: FString([Literal("hello world")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_none", args: [] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should match empty string")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 885, end: 925, line: 29, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "match", args: [Argument { name: None, value: FString([]) }, Argument { name: None, value: FString([Literal("anything")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_some", args: [] } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("Search anywhere")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should find pattern in middle of string")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 1061, end: 1110, line: 34, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "search", args: [Argument { name: None, value: FString([Literal("world")]) }, Argument { name: None, value: FString([Literal("hello world")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_some", args: [] } }] }), Let(LetStmt { span: Span { start: 1160, end: 1183, line: 37, column: 13 }, pattern: Identifier("m"), ty: None, value: Some(MethodCall { receiver: Identifier("result"), method: "unwrap", args: [] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: Identifier("m"), method: "matched_text", args: [] }, right: FString([Literal("world")]) } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: FieldAccess { receiver: Identifier("m"), field: "start" }, right: Integer(6) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should find pattern at start")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 1319, end: 1368, line: 42, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "search", args: [Argument { name: None, value: FString([Literal("hello")]) }, Argument { name: None, value: FString([Literal("hello world")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_some", args: [] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should return None if not found")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 1464, end: 1511, line: 46, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "search", args: [Argument { name: None, value: FString([Literal("xyz")]) }, Argument { name: None, value: FString([Literal("hello world")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_none", args: [] } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("Full match")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should match entire string")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 1629, end: 1675, line: 51, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "fullmatch", args: [Argument { name: None, value: FString([Literal("hello")]) }, Argument { name: None, value: FString([Literal("hello")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_some", args: [] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should not match partial string")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 1771, end: 1823, line: 55, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "fullmatch", args: [Argument { name: None, value: FString([Literal("hello")]) }, Argument { name: None, value: FString([Literal("hello world")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_none", args: [] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should match empty string")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 1913, end: 1949, line: 59, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "fullmatch", args: [Argument { name: None, value: FString([]) }, Argument { name: None, value: FString([]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_some", args: [] } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("Find all matches")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should find all occurrences")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 2074, end: 2115, line: 64, column: 13 }, pattern: Identifier("matches"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "findall", args: [Argument { name: None, value: FString([Literal("l")]) }, Argument { name: None, value: FString([Literal("hello")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: Identifier("matches"), method: "len", args: [] }, right: Integer(2) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should find multiple word occurrences")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 2219, end: 2276, line: 68, column: 13 }, pattern: Identifier("matches"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "findall", args: [Argument { name: None, value: FString([Literal("the")]) }, Argument { name: None, value: FString([Literal("the cat and the dog")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: Identifier("matches"), method: "len", args: [] }, right: Integer(2) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should return empty list if no matches")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 2381, end: 2430, line: 72, column: 13 }, pattern: Identifier("matches"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "findall", args: [Argument { name: None, value: FString([Literal("xyz")]) }, Argument { name: None, value: FString([Literal("hello world")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: Identifier("matches"), method: "len", args: [] }, right: Integer(0) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should handle overlapping matches")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 2530, end: 2571, line: 76, column: 13 }, pattern: Identifier("matches"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "findall", args: [Argument { name: None, value: FString([Literal("aa")]) }, Argument { name: None, value: FString([Literal("aaaa")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Gt, left: MethodCall { receiver: Identifier("matches"), method: "len", args: [] }, right: Integer(0) } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("Substitution")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should replace all occurrences")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 2749, end: 2808, line: 82, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "sub", args: [Argument { name: None, value: FString([Literal("cat")]) }, Argument { name: None, value: FString([Literal("dog")]) }, Argument { name: None, value: FString([Literal("the cat and the cat")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("dog")]), right: Identifier("result") } }] }), Expression(MethodCall { receiver: Call { callee: Identifier("expect"), args: [Argument { name: None, value: Identifier("result") }] }, method: "to_not_contain", args: [Argument { name: None, value: FString([Literal("cat")]) }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should replace first N occurrences")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 2955, end: 3009, line: 87, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "sub", args: [Argument { name: None, value: FString([Literal("cat")]) }, Argument { name: None, value: FString([Literal("dog")]) }, Argument { name: None, value: FString([Literal("cat cat cat")]) }, Argument { name: None, value: Integer(2) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("dog")]), right: Identifier("result") } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should handle no matches")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 3143, end: 3194, line: 92, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "sub", args: [Argument { name: None, value: FString([Literal("xyz")]) }, Argument { name: None, value: FString([Literal("abc")]) }, Argument { name: None, value: FString([Literal("hello world")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: Identifier("result"), right: FString([Literal("hello world")]) } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("Split by pattern")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should split by literal")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 3322, end: 3359, line: 97, column: 13 }, pattern: Identifier("parts"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "split", args: [Argument { name: None, value: FString([Literal(",")]) }, Argument { name: None, value: FString([Literal("a,b,c")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: Identifier("parts"), method: "len", args: [] }, right: Integer(3) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should split by whitespace")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 3450, end: 3498, line: 101, column: 13 }, pattern: Identifier("parts"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "split", args: [Argument { name: None, value: FString([Literal(" ")]) }, Argument { name: None, value: FString([Literal("hello world test")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: Identifier("parts"), method: "len", args: [] }, right: Integer(3) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should handle string with no separator")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 3601, end: 3638, line: 105, column: 13 }, pattern: Identifier("parts"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "split", args: [Argument { name: None, value: FString([Literal(",")]) }, Argument { name: None, value: FString([Literal("hello")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: Identifier("parts"), method: "len", args: [] }, right: Integer(1) } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("Escape special characters")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should escape backslash")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 3768, end: 3800, line: 110, column: 13 }, pattern: Identifier("escaped"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "escape", args: [Argument { name: None, value: FString([Literal("\\")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("\\\\")]), right: Identifier("escaped") } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should escape dot")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 3883, end: 3914, line: 114, column: 13 }, pattern: Identifier("escaped"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "escape", args: [Argument { name: None, value: FString([Literal(".")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: Identifier("escaped"), right: FString([Literal("\\.")]) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should escape multiple special chars")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 4015, end: 4051, line: 118, column: 13 }, pattern: Identifier("escaped"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "escape", args: [Argument { name: None, value: FString([Literal("a.b*c+")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("\\.")]), right: Identifier("escaped") } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("\\*")]), right: Identifier("escaped") } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("\\+")]), right: Identifier("escaped") } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should not escape regular characters")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 4224, end: 4260, line: 124, column: 13 }, pattern: Identifier("escaped"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "escape", args: [Argument { name: None, value: FString([Literal("abc123")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: Identifier("escaped"), right: FString([Literal("abc123")]) } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("Pattern building helpers")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should create digit pattern")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 4396, end: 4423, line: 129, column: 13 }, pattern: Identifier("pattern"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "digit", args: [] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: Identifier("pattern"), right: FString([Literal("[0-9]")]) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should create word pattern")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 4516, end: 4542, line: 133, column: 13 }, pattern: Identifier("pattern"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "word", args: [] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: Identifier("pattern"), right: FString([Literal("[a-zA-Z0-9_]")]) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should create whitespace pattern")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 4648, end: 4680, line: 137, column: 13 }, pattern: Identifier("pattern"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "whitespace", args: [] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal(" ")]), right: Identifier("pattern") } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should create zero-or-more quantifier")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 4780, end: 4817, line: 141, column: 13 }, pattern: Identifier("pattern"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "zero_or_more", args: [Argument { name: None, value: FString([Literal("a")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: Identifier("pattern"), right: FString([Literal("a*")]) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should create one-or-more quantifier")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 4917, end: 4953, line: 145, column: 13 }, pattern: Identifier("pattern"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "one_or_more", args: [Argument { name: None, value: FString([Literal("a")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: Identifier("pattern"), right: FString([Literal("a+")]) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should create optional quantifier")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 5050, end: 5083, line: 149, column: 13 }, pattern: Identifier("pattern"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "optional", args: [Argument { name: None, value: FString([Literal("a")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: Identifier("pattern"), right: FString([Literal("a?")]) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should create exact count quantifier")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 5183, end: 5218, line: 153, column: 13 }, pattern: Identifier("pattern"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "exactly", args: [Argument { name: None, value: FString([Literal("a")]) }, Argument { name: None, value: Integer(3) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("3")]), right: Identifier("pattern") } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should create at-least quantifier")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 5314, end: 5350, line: 157, column: 13 }, pattern: Identifier("pattern"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "at_least", args: [Argument { name: None, value: FString([Literal("a")]) }, Argument { name: None, value: Integer(2) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("2")]), right: Identifier("pattern") } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should create range quantifier")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 5443, end: 5481, line: 161, column: 13 }, pattern: Identifier("pattern"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "between", args: [Argument { name: None, value: FString([Literal("a")]) }, Argument { name: None, value: Integer(2) }, Argument { name: None, value: Integer(5) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("2")]), right: Identifier("pattern") } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("5")]), right: Identifier("pattern") } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("Anchor helpers")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should create start anchor")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 5635, end: 5669, line: 167, column: 13 }, pattern: Identifier("anchor"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "start_of_line", args: [] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: Identifier("anchor"), right: FString([Literal("^")]) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should create end anchor")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 5755, end: 5787, line: 171, column: 13 }, pattern: Identifier("anchor"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "end_of_line", args: [] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: Identifier("anchor"), right: FString([Literal("$")]) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should create word boundary")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 5876, end: 5912, line: 175, column: 13 }, pattern: Identifier("boundary"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "word_boundary", args: [] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("b")]), right: Identifier("boundary") } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("Match object")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should return matched text")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 6031, end: 6062, line: 180, column: 13 }, pattern: Identifier("m"), ty: None, value: Some(MethodCall { receiver: Identifier("Match"), method: "new", args: [Argument { name: None, value: FString([Literal("test")]) }, Argument { name: None, value: Integer(0) }, Argument { name: None, value: Integer(4) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: Identifier("m"), method: "matched_text", args: [] }, right: FString([Literal("test")]) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should return span")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 6155, end: 6186, line: 184, column: 13 }, pattern: Identifier("m"), ty: None, value: Some(MethodCall { receiver: Identifier("Match"), method: "new", args: [Argument { name: None, value: FString([Literal("test")]) }, Argument { name: None, value: Integer(5) }, Argument { name: None, value: Integer(9) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 6199, end: 6218, line: 185, column: 13 }, pattern: Identifier("span"), ty: None, value: Some(MethodCall { receiver: Identifier("m"), method: "span", args: [] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: TupleIndex { receiver: Identifier("span"), index: 0 }, right: Integer(5) } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: TupleIndex { receiver: Identifier("span"), index: 1 }, right: Integer(9) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should handle groups")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 6329, end: 6364, line: 190, column: 13 }, pattern: Identifier("m"), ty: None, value: Some(MethodCall { receiver: Identifier("Match"), method: "new", args: [Argument { name: None, value: FString([Literal("test")]) }, Argument { name: None, value: Integer(0) }, Argument { name: None, value: Integer(4) }] }), mutability: Mutable, storage_class: Auto, is_ghost: false }), Expression(MethodCall { receiver: FieldAccess { receiver: Identifier("m"), field: "groups" }, method: "append", args: [Argument { name: None, value: FString([Literal("group1")]) }] }), Expression(MethodCall { receiver: FieldAccess { receiver: Identifier("m"), field: "groups" }, method: "append", args: [Argument { name: None, value: FString([Literal("group2")]) }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: MethodCall { receiver: Identifier("m"), method: "all_groups", args: [] }, method: "len", args: [] }, right: Integer(2) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should get group by index")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 6540, end: 6575, line: 197, column: 13 }, pattern: Identifier("m"), ty: None, value: Some(MethodCall { receiver: Identifier("Match"), method: "new", args: [Argument { name: None, value: FString([Literal("test")]) }, Argument { name: None, value: Integer(0) }, Argument { name: None, value: Integer(4) }] }), mutability: Mutable, storage_class: Auto, is_ghost: false }), Expression(MethodCall { receiver: FieldAccess { receiver: Identifier("m"), field: "groups" }, method: "append", args: [Argument { name: None, value: FString([Literal("first")]) }] }), Let(LetStmt { span: Span { start: 6626, end: 6644, line: 200, column: 13 }, pattern: Identifier("g"), ty: None, value: Some(MethodCall { receiver: Identifier("m"), method: "group", args: [Argument { name: None, value: Integer(0) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("g"), method: "is_some", args: [] } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: Identifier("g"), method: "unwrap", args: [] }, right: FString([Literal("first")]) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should return None for invalid group index")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 6787, end: 6818, line: 205, column: 13 }, pattern: Identifier("m"), ty: None, value: Some(MethodCall { receiver: Identifier("Match"), method: "new", args: [Argument { name: None, value: FString([Literal("test")]) }, Argument { name: None, value: Integer(0) }, Argument { name: None, value: Integer(4) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 6831, end: 6849, line: 206, column: 13 }, pattern: Identifier("g"), ty: None, value: Some(MethodCall { receiver: Identifier("m"), method: "group", args: [Argument { name: None, value: Integer(0) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("g"), method: "is_none", args: [] } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("Convenience functions")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should check if pattern matches")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("regex"), method: "is_match", args: [Argument { name: None, value: FString([Literal("hello")]) }, Argument { name: None, value: FString([Literal("hello world")]) }] } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Unary { op: Not, operand: MethodCall { receiver: Identifier("regex"), method: "is_match", args: [Argument { name: None, value: FString([Literal("xyz")]) }, Argument { name: None, value: FString([Literal("hello world")]) }] } } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should extract text from match")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 7142, end: 7178, line: 215, column: 13 }, pattern: Identifier("m"), ty: None, value: Some(MethodCall { receiver: Identifier("Match"), method: "new", args: [Argument { name: None, value: FString([Literal("extracted")]) }, Argument { name: None, value: Integer(0) }, Argument { name: None, value: Integer(9) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 7191, end: 7223, line: 216, column: 13 }, pattern: Identifier("text"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "extract_text", args: [Argument { name: None, value: Identifier("m") }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: Identifier("text"), right: FString([Literal("extracted")]) } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("Compiled pattern methods")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should match using compiled pattern")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 7367, end: 7402, line: 221, column: 13 }, pattern: Identifier("pattern"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "compile", args: [Argument { name: None, value: FString([Literal("test")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 7415, end: 7452, line: 222, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(MethodCall { receiver: Identifier("pattern"), method: "match", args: [Argument { name: None, value: FString([Literal("test123")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_some", args: [] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should search using compiled pattern")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 7553, end: 7589, line: 226, column: 13 }, pattern: Identifier("pattern"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "compile", args: [Argument { name: None, value: FString([Literal("world")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 7602, end: 7644, line: 227, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(MethodCall { receiver: Identifier("pattern"), method: "search", args: [Argument { name: None, value: FString([Literal("hello world")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: Identifier("result"), method: "is_some", args: [] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should fullmatch using compiled pattern")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 7748, end: 7784, line: 231, column: 13 }, pattern: Identifier("pattern"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "compile", args: [Argument { name: None, value: FString([Literal("exact")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: MethodCall { receiver: Identifier("pattern"), method: "fullmatch", args: [Argument { name: None, value: FString([Literal("exact")]) }] }, method: "is_some", args: [] } }] }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: MethodCall { receiver: MethodCall { receiver: Identifier("pattern"), method: "fullmatch", args: [Argument { name: None, value: FString([Literal("exact match")]) }] }, method: "is_none", args: [] } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should findall using compiled pattern")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 7968, end: 8000, line: 236, column: 13 }, pattern: Identifier("pattern"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "compile", args: [Argument { name: None, value: FString([Literal("o")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 8013, end: 8057, line: 237, column: 13 }, pattern: Identifier("matches"), ty: None, value: Some(MethodCall { receiver: Identifier("pattern"), method: "findall", args: [Argument { name: None, value: FString([Literal("hello world")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: Identifier("matches"), method: "len", args: [] }, right: Integer(2) } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should substitute using compiled pattern")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 8164, end: 8198, line: 241, column: 13 }, pattern: Identifier("pattern"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "compile", args: [Argument { name: None, value: FString([Literal("cat")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 8211, end: 8257, line: 242, column: 13 }, pattern: Identifier("result"), ty: None, value: Some(MethodCall { receiver: Identifier("pattern"), method: "sub", args: [Argument { name: None, value: FString([Literal("dog")]) }, Argument { name: None, value: FString([Literal("the cat sat")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: In, left: FString([Literal("dog")]), right: Identifier("result") } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("it"), args: [Argument { name: None, value: FString([Literal("should split using compiled pattern")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Let(LetStmt { span: Span { start: 8356, end: 8388, line: 246, column: 13 }, pattern: Identifier("pattern"), ty: None, value: Some(MethodCall { receiver: Identifier("regex"), method: "compile", args: [Argument { name: None, value: FString([Literal(" ")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Let(LetStmt { span: Span { start: 8401, end: 8435, line: 247, column: 13 }, pattern: Identifier("parts"), ty: None, value: Some(MethodCall { receiver: Identifier("pattern"), method: "split", args: [Argument { name: None, value: FString([Literal("a b c")]) }] }), mutability: Immutable, storage_class: Auto, is_ghost: false }), Expression(Call { callee: Identifier("expect"), args: [Argument { name: None, value: Binary { op: Eq, left: MethodCall { receiver: Identifier("parts"), method: "len", args: [] }, right: Integer(3) } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }[1m}[0m[2m:[0m [2msimple::cli::init[0m[2m:[0m [2m83:[0m PANIC failed printing to stdout: Broken pipe (os error 32) [3mlocation[0m[2m=[0mlibrary/std/src/io/stdio.rs:1165:9 [3mbacktrace[0m[2m=[0m   0: simple::cli::init::init_panic_hook::{closure#0}
             at ./src/driver/src/cli/init.rs:67:25
   1: <alloc::boxed::Box<dyn for<'a, 'b> core::ops::function::Fn<(&'a std::panic::PanicHookInfo<'b>,), Output = ()> + core::marker::Sync + core::marker::Send> as core::ops::function::Fn<(&std::panic::PanicHookInfo,)>>::call
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/alloc/src/boxed.rs:2220:9
   2: std::panicking::panic_with_hook
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:833:13
   3: std::panicking::panic_handler::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:698:13
   4: std::sys::backtrace::__rust_end_short_backtrace::<std::panicking::panic_handler::{closure#0}, !>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:176:18
   5: __rustc::rust_begin_unwind
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:689:5
   6: core::panicking::panic_fmt
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/panicking.rs:80:14
   7: std::io::stdio::print_to::<std::io::stdio::Stdout>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1165:9
   8: std::io::stdio::_print
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1275:5
   9: simple_compiler::interpreter::interpreter_call::bdd::eval_bdd_builtin
             at ./src/compiler/src/interpreter_call/bdd.rs:195:17
  10: simple_compiler::interpreter::interpreter_call::evaluate_call
             at ./src/compiler/src/interpreter_call/mod.rs:45:31
  11: simple_compiler::interpreter::evaluate_expr
             at ./src/compiler/src/interpreter_expr.rs:772:13
  12: simple_compiler::interpreter::interpreter_helpers::handle_method_call_with_self_update
             at ./src/compiler/src/interpreter_helpers.rs:633:18
  13: simple_compiler::interpreter::interpreter_eval::evaluate_module_impl
             at ./src/compiler/src/interpreter_eval.rs:548:35
  14: simple_compiler::interpreter::evaluate_module_with_di_and_aop
             at ./src/compiler/src/interpreter.rs:362:18
  15: simple_compiler::interpreter::evaluate_module
             at ./src/compiler/src/interpreter.rs:345:5
  16: <simple_driver::exec_core::ExecCore>::run_file_interpreted_with_args
             at ./src/driver/src/exec_core.rs:380:25
  17: <simple_driver::runner::Runner>::run_file_interpreted_with_args
             at ./src/driver/src/runner.rs:76:19
  18: simple::cli::basic::run_file_with_args
             at ./src/driver/src/cli/basic.rs:29:16
  19: simple::main
             at ./src/driver/src/main.rs:773:33
  20: <fn() as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:250:5
  21: std::sys::backtrace::__rust_begin_short_backtrace::<fn(), ()>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:160:18
  22: std::rt::lang_start::<()>::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:206:18
  23: <&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:287:21
  24: std::panicking::catch_unwind::do_call::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  25: std::panicking::catch_unwind::<i32, &dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  26: std::panic::catch_unwind::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  27: std::rt::lang_start_internal::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:175:24
  28: std::panicking::catch_unwind::do_call::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  29: std::panicking::catch_unwind::<isize, std::rt::lang_start_internal::{closure#0}>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  30: std::panic::catch_unwind::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  31: std::rt::lang_start_internal
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:171:5
  32: main
  33: __libc_start_call_main
             at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  34: __libc_start_main_impl
             at ./csu/../csu/libc-start.c:360:3
  35: _start

[2m2026-01-02T07:14:41.578898Z[0m [31mERROR[0m ThreadId(01) [1mrun_file_interpreted_with_args[0m[1m{[0m[3mpath[0m[2m=[0msimple/std_lib/test/unit/core/json_spec.spl[1m}[0m[2m:[0m[1mevaluate_module[0m[2m:[0m[1mevaluate_expr[0m[1m{[0m[3mexpr[0m[2m=[0mCall { callee: Identifier("describe"), args: [Argument { name: None, value: FString([Literal("JSON module")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("Parsing primitives")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should parse null")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should parse true")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should parse false")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should parse integer")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should parse negative integer")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should parse float")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should parse string")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should parse empty string")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("Parsing arrays")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should parse empty array")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should parse integer array")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should parse nested array")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("Parsing objects")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should parse empty object")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should parse simple object")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should parse nested object")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("Serialization")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should serialize null")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should serialize boolean")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should serialize integer")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should serialize float")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should serialize string")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should serialize array")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should serialize object")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should serialize nested structure")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] })]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("Error handling")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should error on invalid JSON")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should error on trailing comma")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should error on unclosed string")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] })]), move_mode: Copy } }] })]), move_mode: Copy } }] }[1m}[0m[2m:[0m[1mevaluate_expr[0m[1m{[0m[3mexpr[0m[2m=[0mCall { callee: Identifier("context"), args: [Argument { name: None, value: FString([Literal("Serialization")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should serialize null")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should serialize boolean")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should serialize integer")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should serialize float")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should serialize string")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should serialize array")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should serialize object")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] }), Expression(Call { callee: Identifier("skip"), args: [Argument { name: None, value: FString([Literal("should serialize nested structure")]) }, Argument { name: None, value: Lambda { params: [], body: DoBlock([Expression(Identifier("pass"))]), move_mode: Copy } }] })]), move_mode: Copy } }] }[1m}[0m[2m:[0m [2msimple::cli::init[0m[2m:[0m [2m83:[0m PANIC failed printing to stdout: Broken pipe (os error 32) [3mlocation[0m[2m=[0mlibrary/std/src/io/stdio.rs:1165:9 [3mbacktrace[0m[2m=[0m   0: simple::cli::init::init_panic_hook::{closure#0}
             at ./src/driver/src/cli/init.rs:67:25
   1: <alloc::boxed::Box<dyn for<'a, 'b> core::ops::function::Fn<(&'a std::panic::PanicHookInfo<'b>,), Output = ()> + core::marker::Sync + core::marker::Send> as core::ops::function::Fn<(&std::panic::PanicHookInfo,)>>::call
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/alloc/src/boxed.rs:2220:9
   2: std::panicking::panic_with_hook
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:833:13
   3: std::panicking::panic_handler::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:698:13
   4: std::sys::backtrace::__rust_end_short_backtrace::<std::panicking::panic_handler::{closure#0}, !>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:176:18
   5: __rustc::rust_begin_unwind
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:689:5
   6: core::panicking::panic_fmt
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/panicking.rs:80:14
   7: std::io::stdio::print_to::<std::io::stdio::Stdout>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1165:9
   8: std::io::stdio::_print
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1275:5
   9: simple_compiler::interpreter::interpreter_call::bdd::eval_bdd_builtin
             at ./src/compiler/src/interpreter_call/bdd.rs:174:13
  10: simple_compiler::interpreter::interpreter_call::evaluate_call
             at ./src/compiler/src/interpreter_call/mod.rs:45:31
  11: simple_compiler::interpreter::evaluate_expr
             at ./src/compiler/src/interpreter_expr.rs:772:13
  12: simple_compiler::interpreter::interpreter_call::block_execution::exec_block_closure
             at ./src/compiler/src/interpreter_call/block_execution.rs:64:30
  13: simple_compiler::interpreter::interpreter_call::core::exec_lambda
             at ./src/compiler/src/interpreter_call/core.rs:229:16
  14: simple_compiler::interpreter::interpreter_call::bdd::exec_block_value
             at ./src/compiler/src/interpreter_call/bdd.rs:119:13
  15: simple_compiler::interpreter::interpreter_call::bdd::eval_bdd_builtin
             at ./src/compiler/src/interpreter_call/bdd.rs:184:26
  16: simple_compiler::interpreter::interpreter_call::evaluate_call
             at ./src/compiler/src/interpreter_call/mod.rs:45:31
  17: simple_compiler::interpreter::evaluate_expr
             at ./src/compiler/src/interpreter_expr.rs:772:13
  18: simple_compiler::interpreter::interpreter_helpers::handle_method_call_with_self_update
             at ./src/compiler/src/interpreter_helpers.rs:633:18
  19: simple_compiler::interpreter::interpreter_eval::evaluate_module_impl
             at ./src/compiler/src/interpreter_eval.rs:548:35
  20: simple_compiler::interpreter::evaluate_module_with_di_and_aop
             at ./src/compiler/src/interpreter.rs:362:18
  21: simple_compiler::interpreter::evaluate_module
             at ./src/compiler/src/interpreter.rs:345:5
  22: <simple_driver::exec_core::ExecCore>::run_file_interpreted_with_args
             at ./src/driver/src/exec_core.rs:380:25
  23: <simple_driver::runner::Runner>::run_file_interpreted_with_args
             at ./src/driver/src/runner.rs:76:19
  24: simple::cli::basic::run_file_with_args
             at ./src/driver/src/cli/basic.rs:29:16
  25: simple::main
             at ./src/driver/src/main.rs:773:33
  26: <fn() as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:250:5
  27: std::sys::backtrace::__rust_begin_short_backtrace::<fn(), ()>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:160:18
  28: std::rt::lang_start::<()>::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:206:18
  29: <&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:287:21
  30: std::panicking::catch_unwind::do_call::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  31: std::panicking::catch_unwind::<i32, &dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  32: std::panic::catch_unwind::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  33: std::rt::lang_start_internal::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:175:24
  34: std::panicking::catch_unwind::do_call::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  35: std::panicking::catch_unwind::<isize, std::rt::lang_start_internal::{closure#0}>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  36: std::panic::catch_unwind::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  37: std::rt::lang_start_internal
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:171:5
  38: main
  39: __libc_start_call_main
             at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  40: __libc_start_main_impl
             at ./csu/../csu/libc-start.c:360:3
  41: _start

[2m2026-01-02T07:15:58.904928Z[0m [31mERROR[0m ThreadId(01) [2msimple::cli::init[0m[2m:[0m [2m83:[0m PANIC failed printing to stderr: Broken pipe (os error 32) [3mlocation[0m[2m=[0mlibrary/std/src/io/stdio.rs:1165:9 [3mbacktrace[0m[2m=[0m   0: simple::cli::init::init_panic_hook::{closure#0}
             at ./src/driver/src/cli/init.rs:67:25
   1: <alloc::boxed::Box<dyn for<'a, 'b> core::ops::function::Fn<(&'a std::panic::PanicHookInfo<'b>,), Output = ()> + core::marker::Sync + core::marker::Send> as core::ops::function::Fn<(&std::panic::PanicHookInfo,)>>::call
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/alloc/src/boxed.rs:2220:9
   2: std::panicking::panic_with_hook
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:833:13
   3: std::panicking::panic_handler::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:698:13
   4: std::sys::backtrace::__rust_end_short_backtrace::<std::panicking::panic_handler::{closure#0}, !>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:176:18
   5: __rustc::rust_begin_unwind
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:689:5
   6: core::panicking::panic_fmt
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/panicking.rs:80:14
   7: std::io::stdio::print_to::<std::io::stdio::Stderr>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1165:9
   8: std::io::stdio::_eprint
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/io/stdio.rs:1286:5
   9: simple::cli::help::print_help
             at ./src/driver/src/cli/help.rs:58:5
  10: simple::main
             at ./src/driver/src/main.rs:779:17
  11: <fn() as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:250:5
  12: std::sys::backtrace::__rust_begin_short_backtrace::<fn(), ()>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/sys/backtrace.rs:160:18
  13: std::rt::lang_start::<()>::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:206:18
  14: <&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync as core::ops::function::FnOnce<()>>::call_once
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/core/src/ops/function.rs:287:21
  15: std::panicking::catch_unwind::do_call::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  16: std::panicking::catch_unwind::<i32, &dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  17: std::panic::catch_unwind::<&dyn core::ops::function::Fn<(), Output = i32> + core::panic::unwind_safe::RefUnwindSafe + core::marker::Sync, i32>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  18: std::rt::lang_start_internal::{closure#0}
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:175:24
  19: std::panicking::catch_unwind::do_call::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:581:40
  20: std::panicking::catch_unwind::<isize, std::rt::lang_start_internal::{closure#0}>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panicking.rs:544:19
  21: std::panic::catch_unwind::<std::rt::lang_start_internal::{closure#0}, isize>
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/panic.rs:359:14
  22: std::rt::lang_start_internal
             at /rustc/ba2142a19c1acabe770433418fa395b8a0ef47a4/library/std/src/rt.rs:171:5
  23: main
  24: __libc_start_call_main
             at ./csu/../sysdeps/nptl/libc_start_call_main.h:58:16
  25: __libc_start_main_impl
             at ./csu/../csu/libc-start.c:360:3
  26: _start

