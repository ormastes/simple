# 40_functions_closures.spl - First-class functions and closures

fn add(a: i64, b: i64) -> i64:
    return a + b

# Function as value
f = add
print "f(2,3)={f(2,3)}"

# Lambda with closure
multiplier = 3
scale = \x: x * multiplier
print "scale(10)={scale(10)}"

# Higher-order function
fn apply_twice(func, x):
    func(func(x))

result = apply_twice(\x: x * 2, 5)
print "apply_twice result: {result}"

# Closure capturing multiple variables
base = 10
offset = 5
transform = \x: (x + offset) * base
print "transform(3): {transform(3)}"

main = result
