use spec.*

# Feature Test: Collections (BDD)
describe "Collection primitives":
    context "arrays":
        it "reports length and first element":
            val arr = [1, 2, 3, 4, 5]
            expect(arr.len()).to(eq(5))
            expect(arr[0]).to(eq(1))

        it "allows pushing values":
            val arr = [1, 2, 3, 4, 5]
            arr.push(6)
            expect(arr.len()).to(eq(6))
            expect(arr[arr.len() - 1]).to(eq(6))

    context "dictionaries":
        it "stores and retrieves keys":
            val dict = {"name": "Alice", "age": 30}
            expect(dict["name"]).to(eq("Alice"))
            expect(dict["age"]).to(eq(30))

    context "ranges and loops":
        it "sums a small range":
            val sum = 0
            for i in [1, 2, 3]:
                sum = sum + i
            expect(sum).to(eq(6))
