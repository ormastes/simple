# Nested Structures Example
# Demonstrates deep nesting and complex hierarchies

# 4-level nesting
application:
    core:
        engine:
            settings:
                max_threads: 8
                buffer_size: 4096
                timeout: 30

# 5-level nesting
organization:
    departments:
        engineering:
            teams:
                backend:
                    members = [alice, bob, carol]
                    lead: alice
                frontend:
                    members = [dave, eve]
                    lead: dave

# Mixed nesting with arrays and dicts
project:
    metadata:
        name: MyProject
        version: 1.0.0
        tags = [web, api, service]

    components:
        api:
            endpoints:
                users:
                    path: /api/users
                    methods = [GET, POST, PUT, DELETE]
                    auth: required
                products:
                    path: /api/products
                    methods = [GET, POST]
                    auth: optional

        database:
            connections:
                primary:
                    host: db1.example.com
                    port: 5432
                    replicas = [
                        {host: db2.example.com, port: 5432},
                        {host: db3.example.com, port: 5432}
                    ]

# Deep array nesting
matrix = [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9]
]

tensor = [
    [[1, 2], [3, 4]],
    [[5, 6], [7, 8]]
]

# Path navigation example
config:
    services:
        web:
            frontend:
                host: frontend.example.com
                port: 80
            backend:
                host: backend.example.com
                port: 8080
        cache:
            redis:
                host: cache.example.com
                port: 6379

# Deeply nested configuration
system:
    infrastructure:
        cloud:
            provider: aws
            region: us-east-1
            resources:
                compute:
                    instances = [
                        {type: t3.medium, count: 3},
                        {type: t3.large, count: 2}
                    ]
                storage:
                    volumes = [
                        {size: 100, type: gp3},
                        {size: 500, type: gp3}
                    ]
                network:
                    vpc:
                        cidr: 10.0.0.0/16
                        subnets = [
                            {cidr: 10.0.1.0/24, zone: us-east-1a},
                            {cidr: 10.0.2.0/24, zone: us-east-1b}
                        ]
